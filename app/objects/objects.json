{
  "objects" : {
    "collections" : [ {
      "id" : "Finance",
      "createdAt" : "2018-10-09T14:45:01.187Z",
      "searchClusterId" : "default",
      "commitWithin" : 10000,
      "solrParams" : {
        "name" : "Finance",
        "numShards" : 1,
        "replicationFactor" : 1
      },
      "type" : "DATA",
      "metadata" : { }
    }, {
      "id" : "Finance_items_for_item_recommendations",
      "createdAt" : "2019-04-10T00:11:58.057Z",
      "searchClusterId" : "default",
      "commitWithin" : 10000,
      "solrParams" : {
        "name" : "Finance_items_for_item_recommendations",
        "numShards" : 2,
        "replicationFactor" : 1,
        "maxShardsPerNode" : 2
      },
      "type" : "RECOMMENDATIONS",
      "relatedCollectionId" : "Finance",
      "metadata" : { }
    }, {
      "id" : "Finance_items_for_user_recommendations",
      "createdAt" : "2019-04-10T00:11:53.992Z",
      "searchClusterId" : "default",
      "commitWithin" : 10000,
      "solrParams" : {
        "name" : "Finance_items_for_user_recommendations",
        "numShards" : 2,
        "replicationFactor" : 1,
        "maxShardsPerNode" : 2
      },
      "type" : "RECOMMENDATIONS",
      "relatedCollectionId" : "Finance",
      "metadata" : { }
    }, {
      "id" : "Finance_job_reports",
      "createdAt" : "2019-01-17T18:09:16.468Z",
      "searchClusterId" : "default",
      "commitWithin" : 10000,
      "solrParams" : {
        "name" : "Finance_job_reports",
        "numShards" : 1,
        "replicationFactor" : 1
      },
      "type" : "JOB_REPORTS",
      "relatedCollectionId" : "Finance",
      "metadata" : { }
    }, {
      "id" : "Finance_query_rewrite",
      "createdAt" : "2019-01-17T18:09:16.470Z",
      "searchClusterId" : "default",
      "commitWithin" : 10000,
      "solrParams" : {
        "name" : "Finance_query_rewrite",
        "numShards" : 1,
        "replicationFactor" : 1,
        "configTemplate" : "solr/conf/query_rewrite.zip"
      },
      "type" : "QUERY_REWRITE",
      "relatedCollectionId" : "Finance",
      "metadata" : { }
    }, {
      "id" : "Finance_query_rewrite_staging",
      "createdAt" : "2019-01-17T18:09:16.473Z",
      "searchClusterId" : "default",
      "commitWithin" : 10000,
      "solrParams" : {
        "name" : "Finance_query_rewrite_staging",
        "numShards" : 1,
        "replicationFactor" : 1,
        "configTemplate" : "solr/conf/query_rewrite.zip"
      },
      "type" : "QUERY_REWRITE",
      "relatedCollectionId" : "Finance",
      "metadata" : { }
    }, {
      "id" : "Finance_recommender_models",
      "createdAt" : "2019-04-10T00:11:49.532Z",
      "searchClusterId" : "default",
      "commitWithin" : 10000,
      "solrParams" : {
        "name" : "Finance_recommender_models",
        "numShards" : 2,
        "replicationFactor" : 1,
        "maxShardsPerNode" : 2
      },
      "type" : "RECOMMENDATIONS",
      "metadata" : { }
    }, {
      "id" : "Finance_signals",
      "createdAt" : "2018-09-18T16:49:45.668Z",
      "searchClusterId" : "default",
      "commitWithin" : 10000,
      "solrParams" : {
        "name" : "Finance_signals",
        "numShards" : 2,
        "replicationFactor" : 1,
        "maxShardsPerNode" : 2,
        "configTemplate" : "solr/conf/insights.zip"
      },
      "type" : "DATA",
      "metadata" : { }
    }, {
      "id" : "Finance_signals_aggr",
      "createdAt" : "2018-09-18T16:49:49.872Z",
      "searchClusterId" : "default",
      "commitWithin" : 10000,
      "solrParams" : {
        "name" : "Finance_signals_aggr",
        "numShards" : 2,
        "replicationFactor" : 1,
        "maxShardsPerNode" : 2
      },
      "type" : "DATA",
      "metadata" : { }
    } ],
    "indexPipelines" : [ {
      "id" : "Finance",
      "stages" : [ {
        "type" : "field-mapping",
        "id" : "aafe2f6e-a29f-4ef1-8ad3-f2c28318f2e0",
        "mappings" : [ ],
        "reservedFieldsMappingAllowed" : false,
        "type" : "field-mapping",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "aafe2f6e-a29f-4ef1-8ad3-f2c28318f2e0"
      }, {
        "type" : "solr-dynamic-field-name-mapping",
        "id" : "66fc5bad-a3bf-4005-821d-78984879524e",
        "duplicateSingleValuedFields" : false,
        "fieldsToExclude" : [ ],
        "advancedTextFieldsIndexing" : true,
        "maxTextLengthForAdvancedIndexing" : 100,
        "type" : "solr-dynamic-field-name-mapping",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "66fc5bad-a3bf-4005-821d-78984879524e"
      }, {
        "type" : "solr-index",
        "id" : "8d9f63e4-5e9a-4bae-9742-1435c8940485",
        "enforceSchema" : true,
        "dateFormats" : [ ],
        "params" : [ ],
        "bufferDocsForSolr" : false,
        "type" : "solr-index",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "8d9f63e4-5e9a-4bae-9742-1435c8940485"
      } ],
      "properties" : {
        "secretSourcePipelineId" : "Finance"
      }
    }, {
      "id" : "Finance_query_rewrite_staging",
      "stages" : [ {
        "type" : "solr-index",
        "id" : "fc9a3b0e-b6a7-4b06-a38b-fb47d4b70b12",
        "enforceSchema" : true,
        "dateFormats" : [ ],
        "params" : [ ],
        "bufferDocsForSolr" : false,
        "type" : "solr-index",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "fc9a3b0e-b6a7-4b06-a38b-fb47d4b70b12"
      } ],
      "properties" : {
        "secretSourcePipelineId" : "Finance_query_rewrite_staging"
      }
    }, {
      "id" : "Finance_signals",
      "stages" : [ {
        "type" : "field-mapping",
        "id" : "9c667736-6046-472c-b3cf-4ee729ed7a0c",
        "mappings" : [ ],
        "reservedFieldsMappingAllowed" : false,
        "type" : "field-mapping",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "9c667736-6046-472c-b3cf-4ee729ed7a0c"
      }, {
        "type" : "solr-dynamic-field-name-mapping",
        "id" : "7fd90b14-b3bc-40b6-b3ca-64a4228fc293",
        "duplicateSingleValuedFields" : false,
        "fieldsToExclude" : [ ],
        "advancedTextFieldsIndexing" : true,
        "maxTextLengthForAdvancedIndexing" : 100,
        "type" : "solr-dynamic-field-name-mapping",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "7fd90b14-b3bc-40b6-b3ca-64a4228fc293"
      }, {
        "type" : "solr-index",
        "id" : "9bfeb2b6-556e-4517-811c-d8352c2fdfe0",
        "enforceSchema" : true,
        "dateFormats" : [ ],
        "params" : [ ],
        "bufferDocsForSolr" : false,
        "type" : "solr-index",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "9bfeb2b6-556e-4517-811c-d8352c2fdfe0"
      } ],
      "properties" : {
        "secretSourcePipelineId" : "Finance_signals"
      }
    }, {
      "id" : "Finance_signals-0m53",
      "stages" : [ {
        "type" : "field-mapping",
        "id" : "bc8050f6-788c-4df0-9797-610721596a61",
        "mappings" : [ ],
        "reservedFieldsMappingAllowed" : false,
        "type" : "field-mapping",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "bc8050f6-788c-4df0-9797-610721596a61"
      }, {
        "type" : "solr-dynamic-field-name-mapping",
        "id" : "4ab97777-7eed-4a9b-bdfa-4f03c71e93e7",
        "duplicateSingleValuedFields" : false,
        "fieldsToExclude" : [ ],
        "advancedTextFieldsIndexing" : true,
        "maxTextLengthForAdvancedIndexing" : 100,
        "type" : "solr-dynamic-field-name-mapping",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "4ab97777-7eed-4a9b-bdfa-4f03c71e93e7"
      }, {
        "type" : "solr-index",
        "id" : "cfe0aabd-ec84-4a52-aba7-1223dd77f51a",
        "enforceSchema" : true,
        "dateFormats" : [ ],
        "params" : [ ],
        "bufferDocsForSolr" : false,
        "type" : "solr-index",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "cfe0aabd-ec84-4a52-aba7-1223dd77f51a"
      } ],
      "properties" : {
        "secretSourcePipelineId" : "Finance_signals-0m53"
      }
    }, {
      "id" : "Finance_signals_aggr",
      "stages" : [ {
        "type" : "field-mapping",
        "id" : "8131c24e-0401-4253-a0fd-cbb5a4bdf646",
        "mappings" : [ ],
        "reservedFieldsMappingAllowed" : false,
        "type" : "field-mapping",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "8131c24e-0401-4253-a0fd-cbb5a4bdf646"
      }, {
        "type" : "solr-dynamic-field-name-mapping",
        "id" : "0a306a19-4f15-4a47-829f-b9e7525efc44",
        "duplicateSingleValuedFields" : false,
        "fieldsToExclude" : [ ],
        "advancedTextFieldsIndexing" : true,
        "maxTextLengthForAdvancedIndexing" : 100,
        "type" : "solr-dynamic-field-name-mapping",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "0a306a19-4f15-4a47-829f-b9e7525efc44"
      }, {
        "type" : "solr-index",
        "id" : "8e965270-c889-4c7c-891e-79b9a2072565",
        "enforceSchema" : true,
        "dateFormats" : [ ],
        "params" : [ ],
        "bufferDocsForSolr" : false,
        "type" : "solr-index",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "8e965270-c889-4c7c-891e-79b9a2072565"
      } ],
      "properties" : {
        "secretSourcePipelineId" : "Finance_signals_aggr"
      }
    }, {
      "id" : "Finance_signals_aggr-FIBS",
      "stages" : [ {
        "type" : "field-mapping",
        "id" : "1011bacc-7cd6-40c0-87a9-ba5b568ada54",
        "mappings" : [ ],
        "reservedFieldsMappingAllowed" : false,
        "type" : "field-mapping",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "1011bacc-7cd6-40c0-87a9-ba5b568ada54"
      }, {
        "type" : "solr-dynamic-field-name-mapping",
        "id" : "f1a656fa-da82-4183-bbd1-42ea82dfb01d",
        "duplicateSingleValuedFields" : false,
        "fieldsToExclude" : [ ],
        "advancedTextFieldsIndexing" : true,
        "maxTextLengthForAdvancedIndexing" : 100,
        "type" : "solr-dynamic-field-name-mapping",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "f1a656fa-da82-4183-bbd1-42ea82dfb01d"
      }, {
        "type" : "solr-index",
        "id" : "88cc21ff-4feb-40c5-9cd4-72122fe16b29",
        "enforceSchema" : true,
        "dateFormats" : [ ],
        "params" : [ ],
        "bufferDocsForSolr" : false,
        "type" : "solr-index",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "88cc21ff-4feb-40c5-9cd4-72122fe16b29"
      } ],
      "properties" : {
        "secretSourcePipelineId" : "Finance_signals_aggr-FIBS"
      }
    }, {
      "id" : "client_accounts",
      "stages" : [ {
        "type" : "field-mapping",
        "id" : "51eef0ff-e2f1-4c5b-b384-bb218153609e",
        "mappings" : [ {
          "source" : "type",
          "target" : "type_s",
          "operation" : "copy"
        }, {
          "source" : "value",
          "target" : "value_f",
          "operation" : "copy"
        } ],
        "reservedFieldsMappingAllowed" : false,
        "type" : "field-mapping",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "51eef0ff-e2f1-4c5b-b384-bb218153609e"
      }, {
        "type" : "solr-dynamic-field-name-mapping",
        "id" : "c9ae4f01-520a-445b-a2f1-6de23d42e096",
        "duplicateSingleValuedFields" : false,
        "fieldsToExclude" : [ ],
        "advancedTextFieldsIndexing" : true,
        "maxTextLengthForAdvancedIndexing" : 100,
        "type" : "solr-dynamic-field-name-mapping",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "c9ae4f01-520a-445b-a2f1-6de23d42e096"
      }, {
        "type" : "solr-index",
        "id" : "4cae307f-6ab2-4b71-88fb-943b3440329d",
        "enforceSchema" : true,
        "dateFormats" : [ ],
        "params" : [ ],
        "bufferDocsForSolr" : false,
        "type" : "solr-index",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "4cae307f-6ab2-4b71-88fb-943b3440329d"
      } ],
      "properties" : {
        "secretSourcePipelineId" : "client_accounts"
      }
    }, {
      "id" : "clients",
      "stages" : [ {
        "type" : "javascript-index",
        "id" : "anh",
        "script" : "function(doc) {\n  if (doc.getId() !== null) {\n  \tif (doc.hasField('account_types')) {\n      var types = doc.getFirstFieldValue('account_types');\n      var typeArray = types.split(',');\n      for (var i = 0; i < typeArray.length; i++) {\n        doc.addField('account_type_ss', typeArray[i]);\n      }\n    }\n  }\n  return doc;\n}",
        "type" : "javascript-index",
        "skip" : false,
        "label" : "Account Types",
        "licensed" : true,
        "secretSourceStageId" : "anh"
      }, {
        "type" : "javascript-index",
        "id" : "gan",
        "script" : "function(doc) {\n  if (doc.getId() !== null) {\n    var street = doc.getFirstFieldValue('street');\n    var city = doc.getFirstFieldValue('city');\n    var state = doc.getFirstFieldValue('state');\n    doc.addField('full_address', street + \"\\r\\n\" + city + ', ' + state);\n  }\n  return doc;\n}   ",
        "type" : "javascript-index",
        "skip" : false,
        "label" : "Full address",
        "licensed" : true,
        "secretSourceStageId" : "gan"
      }, {
        "type" : "field-mapping",
        "id" : "3dde5d1c-78b7-4a5c-993c-c84f76744c62",
        "mappings" : [ {
          "source" : "city",
          "target" : "city_s",
          "operation" : "copy"
        }, {
          "source" : "city",
          "target" : "city_t",
          "operation" : "copy"
        }, {
          "source" : "state",
          "target" : "state_s",
          "operation" : "copy"
        }, {
          "source" : "state",
          "target" : "state_t",
          "operation" : "copy"
        }, {
          "source" : "total_aum",
          "target" : "total_aum_f",
          "operation" : "copy"
        } ],
        "reservedFieldsMappingAllowed" : false,
        "type" : "field-mapping",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "3dde5d1c-78b7-4a5c-993c-c84f76744c62"
      }, {
        "type" : "solr-dynamic-field-name-mapping",
        "id" : "df509d62-e280-4bc1-8289-4ea335babbb0",
        "duplicateSingleValuedFields" : false,
        "fieldsToExclude" : [ ],
        "advancedTextFieldsIndexing" : true,
        "maxTextLengthForAdvancedIndexing" : 100,
        "type" : "solr-dynamic-field-name-mapping",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "df509d62-e280-4bc1-8289-4ea335babbb0"
      }, {
        "type" : "javascript-index",
        "id" : "5q",
        "script" : "function (doc) {\n  if (doc.getId() !== null && doc.hasField('city_s') && doc.hasField('state_s')) {\n    var fieldNames = [\"city_state_s\"];\n    var city_state = doc.getFirstFieldValue('state_s') + '/' + doc.getFirstFieldValue('city_s');\n    doc.setField('city_state_s', city_state);\n\n    // Specify the separate between hiearchies.\n    // In this example the 'Category' field contains:\n    // top_level/level_1/level_2/ etc.\n    var SEPARATOR = \"/\"\n\n    // Iterate over the category fields\n    for (var names_i = 0; names_i < fieldNames.length; names_i++){\n\n      // Get the values for each field.\n      var fields = doc.getFields(fieldNames[names_i]);\n\n      // Make sure that the category field actually has values for this doc.\n      if(fields != null){\n\n        // Set the new 'Twigkit' category paths. We set empty at this level so\n        // that we can create a de-duplicatd list\n        var paths = [];\n\n        // Also need to add a parent field to each doc that contains the path to\n        // the parent category.\n        var parents = [];\n\n        // Iterate over the field values.\n        for(var fields_i = 0; fields_i < fields.length; fields_i++){\n          var value = fields[fields_i].getValue();\n\n          // Check if 'SEPARATOR' exists in the value.\n          if (value != null && value.indexOf(SEPARATOR) > -1) {\n\n            // Remove trailing separators\n            if(value.charAt(0) == SEPARATOR){\n             value = value.substr(1);\n            }\n\n            if(value.charAt(value.length - 1) == SEPARATOR){\n             value = value.slice(0,-1);\n            }\n\n            // Split on 'SEPARATOR' to get new array like:\n            // [top_level,level_1,level_2,...]\n            var levels = value.split(SEPARATOR);\n\n            // Now the clever part. Iterate over the levels and use the indices\n            // to prepend the appropriate number for each level\n            // Concatenate into new 'Twigkit' path:\n            // 0/top_level\n            // 1/top_level/level_1\n            // 2/top_level/level_1/level_2 ...\n            for (var levels_i = 0; levels_i < levels.length; levels_i++) {\n              var level_cnt = 0;\n              var hier_val = \"\";\n\n              // At each level you need to prepend the correct indix as well as\n              // the parents for that level.\n              while(level_cnt < levels.length){\n\n                var hier_val = hier_val+\"/\"+levels[level_cnt];\n                var path = level_cnt.toString()+hier_val;\n\n                // De-dupe by checking for existence of path in 'paths'.\n                if(paths.indexOf(path) < 0){\n                 paths.push(path);\n                }\n\n                if(level_cnt < levels.length-1 && parents.indexOf(path) < 0){\n                    parents.push(path);\n                }\n\n                level_cnt += 1;\n              }\n            }\n          }\n        }\n\n        // Add the new Category and Parent fields to the doc.\n        // Make sure these fields are excluded from dynamic field mapping so that\n        // you don't end up with 'Category_hier_ss' and 'Category_hier_parent_ss'\n        // in the Solr index.\n        doc.addFields(fieldNames[names_i]+\"_hier_ss\",paths);\n        doc.addFields(fieldNames[names_i]+\"_hier_ss_parent_ss\",parents);\n      }\n    }\n  }\n  return doc;\n}",
        "type" : "javascript-index",
        "skip" : false,
        "label" : "Hierarchical Facet Setup",
        "licensed" : true,
        "secretSourceStageId" : "5q"
      }, {
        "type" : "solr-index",
        "id" : "ba895c27-8c0b-4394-bfec-85dd1e75c53f",
        "enforceSchema" : true,
        "dateFormats" : [ ],
        "params" : [ ],
        "bufferDocsForSolr" : false,
        "type" : "solr-index",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "ba895c27-8c0b-4394-bfec-85dd1e75c53f"
      } ],
      "properties" : {
        "secretSourcePipelineId" : "clients"
      }
    }, {
      "id" : "sp500",
      "stages" : [ {
        "type" : "javascript-index",
        "id" : "ux",
        "script" : "function(doc) {\n  if (doc.getId() !== null && doc.hasField('state')) {\n    var state = doc.getFirstFieldValue('state');\n    if (state.indexOf('[') >= 0) {\n  \t\tstate = state.substring(0, state.indexOf('['));\n      \tdoc.setField('state', state);\n    }\n  }\n  return doc;\n}",
        "type" : "javascript-index",
        "skip" : false,
        "label" : "State Field Cleanup",
        "licensed" : true,
        "secretSourceStageId" : "ux"
      }, {
        "type" : "javascript-index",
        "id" : "8si",
        "script" : "function(doc) {\n\n  if (doc !== null && doc.hasField('ticker')) {\n    var ticker = doc.getFirstFieldValue('ticker');\n    logger.info('Getting URL for ' + ticker);\n    if (ticker !== null) {\n    \n      var entityUtils = Packages.org.apache.http.util.EntityUtils;\n      var httpClient = org.apache.http.impl.client.HttpClients.createDefault();\n      var url = 'https://api.iextrading.com/1.0/stock/' + ticker + '/logo';\n      var httpGet = new org.apache.http.client.methods.HttpGet(url);\n\n      var response = entityUtils.toString(httpClient.execute(httpGet).getEntity());\n      var image_url_record = JSON.parse(response);\n\n      doc.addField('image_url_s', image_url_record.url);\n    }\n  }\n  // IEX doesn't like to be hit hard, sleep for a bit to throttle\n  java.lang.Thread.sleep(200);\n  return doc;\n}",
        "type" : "javascript-index",
        "skip" : false,
        "label" : "Add Logo URL",
        "licensed" : true,
        "secretSourceStageId" : "8si"
      }, {
        "type" : "javascript-index",
        "id" : "hen",
        "script" : "function(doc) {\n\n  if (doc !== null && doc.hasField('ticker')) {\n    var ticker = doc.getFirstFieldValue('ticker');\n    logger.info('Getting key stats for ' + ticker);\n    if (ticker !== null) {\n    \n      var entityUtils = Packages.org.apache.http.util.EntityUtils;\n      var httpClient = org.apache.http.impl.client.HttpClients.createDefault();\n      var url = 'https://api.iextrading.com/1.0/stock/' + ticker + '/stats';\n      var httpGet = new org.apache.http.client.methods.HttpGet(url);\n\n      var response = entityUtils.toString(httpClient.execute(httpGet).getEntity());\n      var stats_record = JSON.parse(response);\n\n      doc.addField('marketcap_f', stats_record.marketcap);\n      doc.addField('div_yield_f', stats_record.dividendYield);\n      doc.addField('eps_f', stats_record.latestEPS);\n      doc.addField('eps_date_dt', stats_record.latestEPSDate);\n      doc.addField('eps_fy1_f', stats_record.consensusEPS);\n      doc.addField('ebitda_f', stats_record.EBITDA);\n      doc.addField('revenue_f', stats_record.revenue);\n      doc.addField('price_to_book_f', stats_record.priceToBook);\n      doc.addField('beta_f', stats_record.beta);\n    }\n  }\n  // IEX doesn't like to be hit hard, sleep for a bit to throttle\n  java.lang.Thread.sleep(200);\n  return doc;\n}",
        "type" : "javascript-index",
        "skip" : false,
        "label" : "Add Key Stats",
        "licensed" : true,
        "secretSourceStageId" : "hen"
      }, {
        "type" : "field-mapping",
        "id" : "979c08de-b2c9-4347-9683-76b7be15316e",
        "mappings" : [ {
          "source" : "source_s",
          "target" : "Companies",
          "operation" : "set"
        }, {
          "source" : "ticker",
          "target" : "ticker_s",
          "operation" : "copy"
        }, {
          "source" : "city",
          "target" : "city_s",
          "operation" : "copy"
        }, {
          "source" : "state",
          "target" : "state_s",
          "operation" : "copy"
        }, {
          "source" : "sector",
          "target" : "sector_s",
          "operation" : "copy"
        }, {
          "source" : "industry",
          "target" : "industry_s",
          "operation" : "copy"
        }, {
          "source" : "company_name",
          "target" : "company_name_s",
          "operation" : "copy"
        }, {
          "source" : "company_name",
          "target" : "company_name_t",
          "operation" : "copy"
        } ],
        "reservedFieldsMappingAllowed" : false,
        "type" : "field-mapping",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "979c08de-b2c9-4347-9683-76b7be15316e"
      }, {
        "type" : "solr-dynamic-field-name-mapping",
        "id" : "d5167606-5dd0-4c00-9131-1ad159a44f1a",
        "duplicateSingleValuedFields" : false,
        "fieldsToExclude" : [ ],
        "advancedTextFieldsIndexing" : true,
        "maxTextLengthForAdvancedIndexing" : 100,
        "type" : "solr-dynamic-field-name-mapping",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "d5167606-5dd0-4c00-9131-1ad159a44f1a"
      }, {
        "type" : "javascript-index",
        "id" : "08u",
        "script" : "function (doc) {\n  if (doc.getId() !== null && doc.hasField('sector_s') && doc.hasField('industry_s')) {\n    var sector_industry = doc.getFirstFieldValue('sector_s') + '/' + doc.getFirstFieldValue('industry_s');\n    doc.setField('sector_industry_s', sector_industry);\n        \n    var fieldNames = [\"sector_industry_s\"];\n    if (doc.hasField('city_s') && doc.hasField('state_s')) {\n      var city_state = doc.getFirstFieldValue('state_s') + '/' + doc.getFirstFieldValue('city_s');\n      doc.setField('city_state_s', city_state);\n      fieldNames.push('city_state_s');\n    }\n\n    // Specify the separate between hiearchies.\n    // In this example the 'Category' field contains:\n    // top_level/level_1/level_2/ etc.\n    var SEPARATOR = \"/\"\n\n    // Iterate over the category fields\n    for (var names_i = 0; names_i < fieldNames.length; names_i++){\n\n      // Get the values for each field.\n      var fields = doc.getFields(fieldNames[names_i]);\n\n      // Make sure that the category field actually has values for this doc.\n      if(fields != null){\n\n        // Set the new 'Twigkit' category paths. We set empty at this level so\n        // that we can create a de-duplicatd list\n        var paths = [];\n\n        // Also need to add a parent field to each doc that contains the path to\n        // the parent category.\n        var parents = [];\n\n        // Iterate over the field values.\n        for(var fields_i = 0; fields_i < fields.length; fields_i++){\n          var value = fields[fields_i].getValue();\n\n          // Check if 'SEPARATOR' exists in the value.\n          if (value != null && value.indexOf(SEPARATOR) > -1) {\n\n            // Remove trailing separators\n            if(value.charAt(0) == SEPARATOR){\n             value = value.substr(1);\n            }\n\n            if(value.charAt(value.length - 1) == SEPARATOR){\n             value = value.slice(0,-1);\n            }\n\n            // Split on 'SEPARATOR' to get new array like:\n            // [top_level,level_1,level_2,...]\n            var levels = value.split(SEPARATOR);\n\n            // Now the clever part. Iterate over the levels and use the indices\n            // to prepend the appropriate number for each level\n            // Concatenate into new 'Twigkit' path:\n            // 0/top_level\n            // 1/top_level/level_1\n            // 2/top_level/level_1/level_2 ...\n            for (var levels_i = 0; levels_i < levels.length; levels_i++) {\n              var level_cnt = 0;\n              var hier_val = \"\";\n\n              // At each level you need to prepend the correct indix as well as\n              // the parents for that level.\n              while(level_cnt < levels.length){\n\n                var hier_val = hier_val+\"/\"+levels[level_cnt];\n                var path = level_cnt.toString()+hier_val;\n\n                // De-dupe by checking for existence of path in 'paths'.\n                if(paths.indexOf(path) < 0){\n                 paths.push(path);\n                }\n\n                if(level_cnt < levels.length-1 && parents.indexOf(path) < 0){\n                    parents.push(path);\n                }\n\n                level_cnt += 1;\n              }\n            }\n          }\n        }\n\n        // Add the new Category and Parent fields to the doc.\n        // Make sure these fields are excluded from dynamic field mapping so that\n        // you don't end up with 'Category_hier_ss' and 'Category_hier_parent_ss'\n        // in the Solr index.\n        doc.addFields(fieldNames[names_i]+\"_hier_ss\",paths);\n        doc.addFields(fieldNames[names_i]+\"_hier_ss_parent_ss\",parents);\n      }\n    }\n  }\n  return doc;\n}",
        "type" : "javascript-index",
        "skip" : false,
        "label" : "Hierarchical Facet Setup",
        "licensed" : true,
        "secretSourceStageId" : "08u"
      }, {
        "type" : "solr-index",
        "id" : "138ec69f-5a04-4909-9b9b-1cfaeea3e2f4",
        "enforceSchema" : true,
        "dateFormats" : [ ],
        "params" : [ ],
        "bufferDocsForSolr" : false,
        "type" : "solr-index",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "138ec69f-5a04-4909-9b9b-1cfaeea3e2f4"
      } ],
      "properties" : {
        "secretSourcePipelineId" : "sp500"
      }
    }, {
      "id" : "sp500-historical",
      "stages" : [ {
        "type" : "javascript-index",
        "id" : "7zq",
        "script" : "function(doc) {\n  var docs = [];\n\n  if (doc !== null && doc.hasField('ticker')) {\n    var ticker = doc.getFirstFieldValue('ticker');\n    logger.info('Getting price history for ' + ticker);\n    if (ticker !== null) {\n    \n      var entityUtils = Packages.org.apache.http.util.EntityUtils;\n      var httpClient = org.apache.http.impl.client.HttpClients.createDefault();\n      var url = 'https://api.iextrading.com/1.0/stock/' + ticker + '/chart';\n      var httpGet = new org.apache.http.client.methods.HttpGet(url);\n\n      var response = entityUtils.toString(httpClient.execute(httpGet).getEntity());\n      var json_response = JSON.parse(response);\n      for (var i = 0; i < json_response.length; i++) {\n        var price_record = json_response[i];\n        \n        // reliable ID for recrawl, e.g., to support data correct from IEX\n        var newDoc = new com.lucidworks.apollo.common.pipeline.PipelineDocument('historical_price_' + ticker + '_' + price_record.date);\n        \n        newDoc.addField('_lw_data_source_s', doc.getFirstFieldValue('_lw_data_source_s'));\n        newDoc.addField('ticker', ticker);\n        newDoc.addField('date', price_record.date);\n        newDoc.addField('open', price_record.open);\n        newDoc.addField('high', price_record.high);\n        newDoc.addField('low', price_record.low);\n        newDoc.addField('close', price_record.close);\n        newDoc.addField('volume', price_record.volume);\n        newDoc.addField('unadjusted_volume', price_record.unadjustedVolume);\n        newDoc.addField('change', price_record.change);\n        newDoc.addField('change_percent', price_record.changePercent);\n        newDoc.addField('vwap', price_record.vwap);\n        docs.push(newDoc);\n      }\n    }\n  }\n  // IEX doesn't like to be hit hard, sleep for a bit to throttle\n  java.lang.Thread.sleep(200);\n  return docs;\n}",
        "type" : "javascript-index",
        "skip" : false,
        "label" : "Get Historical Prices",
        "licensed" : true,
        "secretSourceStageId" : "7zq"
      }, {
        "type" : "field-mapping",
        "id" : "13c12b85-c98f-4df5-a7b2-97d7e5f4e6fd",
        "mappings" : [ {
          "source" : "ticker",
          "target" : "ticker_s",
          "operation" : "copy"
        } ],
        "reservedFieldsMappingAllowed" : false,
        "type" : "field-mapping",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "13c12b85-c98f-4df5-a7b2-97d7e5f4e6fd"
      }, {
        "type" : "solr-dynamic-field-name-mapping",
        "id" : "69ac23f6-11d0-4e6c-a73c-ec4a56ef493c",
        "duplicateSingleValuedFields" : false,
        "fieldsToExclude" : [ ],
        "advancedTextFieldsIndexing" : true,
        "maxTextLengthForAdvancedIndexing" : 100,
        "type" : "solr-dynamic-field-name-mapping",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "69ac23f6-11d0-4e6c-a73c-ec4a56ef493c"
      }, {
        "type" : "solr-index",
        "id" : "8bcf7a20-b917-467e-a7e0-ed389c7c6bdd",
        "enforceSchema" : true,
        "dateFormats" : [ ],
        "params" : [ ],
        "bufferDocsForSolr" : false,
        "type" : "solr-index",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "8bcf7a20-b917-467e-a7e0-ed389c7c6bdd"
      } ],
      "properties" : {
        "secretSourcePipelineId" : "sp500-historical"
      }
    }, {
      "id" : "user-prefs",
      "stages" : [ {
        "type" : "field-mapping",
        "id" : "4652c428-1299-448b-b855-fb437eb1293b",
        "mappings" : [ {
          "source" : "role",
          "target" : "role_s",
          "operation" : "copy"
        }, {
          "source" : "username",
          "target" : "username_s",
          "operation" : "copy"
        } ],
        "reservedFieldsMappingAllowed" : false,
        "type" : "field-mapping",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "4652c428-1299-448b-b855-fb437eb1293b"
      }, {
        "type" : "solr-dynamic-field-name-mapping",
        "id" : "c4e77bbd-92e9-43ec-b2d6-d5c82559a96a",
        "duplicateSingleValuedFields" : false,
        "fieldsToExclude" : [ ],
        "advancedTextFieldsIndexing" : true,
        "maxTextLengthForAdvancedIndexing" : 100,
        "type" : "solr-dynamic-field-name-mapping",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "c4e77bbd-92e9-43ec-b2d6-d5c82559a96a"
      }, {
        "type" : "solr-index",
        "id" : "7165bef7-2a14-4565-8c47-d08d09071527",
        "enforceSchema" : true,
        "dateFormats" : [ ],
        "params" : [ ],
        "bufferDocsForSolr" : false,
        "type" : "solr-index",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "7165bef7-2a14-4565-8c47-d08d09071527"
      } ],
      "properties" : {
        "secretSourcePipelineId" : "user-prefs"
      }
    }, {
      "id" : "user_buckets",
      "stages" : [ {
        "type" : "javascript-index",
        "id" : "1ks",
        "script" : "function(doc) {\n\n  if (doc !== null && doc.hasField('ticker')) {\n    var ticker = doc.getFirstFieldValue('ticker');\n    logger.info('Getting URL for ' + ticker);\n    if (ticker !== null) {\n    \n      var entityUtils = Packages.org.apache.http.util.EntityUtils;\n      var httpClient = org.apache.http.impl.client.HttpClients.createDefault();\n      var url = 'https://api.iextrading.com/1.0/stock/' + ticker + '/logo';\n      var httpGet = new org.apache.http.client.methods.HttpGet(url);\n\n      var response = entityUtils.toString(httpClient.execute(httpGet).getEntity());\n      var image_url_record = JSON.parse(response);\n\n      doc.addField('image_url_s', image_url_record.url);\n    }\n  }\n  // IEX doesn't like to be hit hard, sleep for a bit to throttle\n  java.lang.Thread.sleep(200);\n  return doc;\n}",
        "type" : "javascript-index",
        "skip" : false,
        "label" : "Add Logo URL",
        "licensed" : true,
        "secretSourceStageId" : "1ks"
      }, {
        "type" : "javascript-index",
        "id" : "h6i",
        "script" : "function(doc) {\n\n  if (doc !== null && doc.hasField('ticker')) {\n    var ticker = doc.getFirstFieldValue('ticker');\n    logger.info('Getting key stats for ' + ticker);\n    if (ticker !== null) {\n    \n      var entityUtils = Packages.org.apache.http.util.EntityUtils;\n      var httpClient = org.apache.http.impl.client.HttpClients.createDefault();\n      var url = 'https://api.iextrading.com/1.0/stock/' + ticker + '/stats';\n      var httpGet = new org.apache.http.client.methods.HttpGet(url);\n\n      var response = entityUtils.toString(httpClient.execute(httpGet).getEntity());\n      var stats_record = JSON.parse(response);\n\n      doc.addField('marketcap_f', stats_record.marketcap);\n      doc.addField('div_yield_f', stats_record.dividendYield);\n      doc.addField('eps_f', stats_record.latestEPS);\n      doc.addField('eps_date_dt', stats_record.latestEPSDate);\n      doc.addField('eps_fy1_f', stats_record.consensusEPS);\n      doc.addField('ebitda_f', stats_record.EBITDA);\n      doc.addField('revenue_f', stats_record.revenue);\n      doc.addField('price_to_book_f', stats_record.priceToBook);\n      doc.addField('beta_f', stats_record.beta);\n    }\n  }\n  // IEX doesn't like to be hit hard, sleep for a bit to throttle\n  java.lang.Thread.sleep(200);\n  return doc;\n}",
        "type" : "javascript-index",
        "skip" : false,
        "label" : "Add Key Stats",
        "licensed" : true,
        "secretSourceStageId" : "h6i"
      }, {
        "type" : "field-mapping",
        "id" : "4wy",
        "mappings" : [ {
          "source" : "city",
          "target" : "city_s",
          "operation" : "copy"
        }, {
          "source" : "company_name",
          "target" : "company_name_s",
          "operation" : "copy"
        }, {
          "source" : "type",
          "target" : "type_s",
          "operation" : "copy"
        }, {
          "source" : "owner",
          "target" : "owner_s",
          "operation" : "copy"
        }, {
          "source" : "ticker",
          "target" : "ticker_s",
          "operation" : "copy"
        }, {
          "source" : "sector",
          "target" : "sector_s",
          "operation" : "copy"
        }, {
          "source" : "industry",
          "target" : "industry_s",
          "operation" : "copy"
        }, {
          "source" : "bucket_id",
          "target" : "bucket_id_s",
          "operation" : "copy"
        }, {
          "source" : "unique_bucket_id",
          "target" : "unique_bucket_id_s",
          "operation" : "copy"
        }, {
          "source" : "weight",
          "target" : "weight_s",
          "operation" : "copy"
        }, {
          "source" : "weight",
          "target" : "weight_d",
          "operation" : "copy"
        }, {
          "source" : "bucket_name",
          "target" : "bucket_name_s",
          "operation" : "copy"
        }, {
          "source" : "bucket_total_clients",
          "target" : "bucket_total_clients_i",
          "operation" : "copy"
        }, {
          "source" : "state",
          "target" : "state_s",
          "operation" : "copy"
        }, {
          "source" : "bucket_value_total",
          "target" : "bucket_value_total_f",
          "operation" : "copy"
        }, {
          "source" : "bucket_ytd_ror",
          "target" : "bucket_ytd_ror_f",
          "operation" : "copy"
        } ],
        "reservedFieldsMappingAllowed" : false,
        "type" : "field-mapping",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "4wy"
      }, {
        "type" : "solr-dynamic-field-name-mapping",
        "id" : "2a4f6a47-2b7e-48b5-9527-78c874f36728",
        "duplicateSingleValuedFields" : false,
        "fieldsToExclude" : [ ],
        "advancedTextFieldsIndexing" : true,
        "maxTextLengthForAdvancedIndexing" : 1000,
        "type" : "solr-dynamic-field-name-mapping",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "2a4f6a47-2b7e-48b5-9527-78c874f36728"
      }, {
        "type" : "field-mapping",
        "id" : "52ab63cd-24b7-4855-8390-65b86a8638d9",
        "mappings" : [ {
          "source" : "weight_s",
          "target" : "weight_d",
          "operation" : "copy"
        }, {
          "source" : "bucket_value_s",
          "target" : "bucket_value_f",
          "operation" : "copy"
        }, {
          "source" : "bucket_value_total_s",
          "target" : "bucket_value_total_f",
          "operation" : "copy"
        }, {
          "source" : "bucket_ytd_ror_s",
          "target" : "bucket_ytd_ror_f",
          "operation" : "copy"
        }, {
          "source" : "bucket_total_clients_s",
          "target" : "bucket_total_clients_i",
          "operation" : "copy"
        } ],
        "reservedFieldsMappingAllowed" : false,
        "type" : "field-mapping",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "52ab63cd-24b7-4855-8390-65b86a8638d9"
      }, {
        "type" : "solr-index",
        "id" : "81b46e9d-eee1-4907-aa14-0bae9ef3d81c",
        "enforceSchema" : true,
        "dateFormats" : [ ],
        "params" : [ ],
        "bufferDocsForSolr" : false,
        "type" : "solr-index",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "81b46e9d-eee1-4907-aa14-0bae9ef3d81c"
      } ],
      "properties" : {
        "secretSourcePipelineId" : "user_buckets"
      }
    }, {
      "id" : "yahoo-news",
      "stages" : [ {
        "type" : "field-mapping",
        "id" : "x8q",
        "mappings" : [ {
          "source" : "body",
          "target" : "body_s",
          "operation" : "copy"
        } ],
        "reservedFieldsMappingAllowed" : false,
        "type" : "field-mapping",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "x8q"
      }, {
        "type" : "include-doc",
        "id" : "s7r",
        "matchRules" : [ {
          "field" : "id",
          "pattern" : ".*/news/.*"
        } ],
        "type" : "include-doc",
        "skip" : false,
        "label" : "Limit to News",
        "licensed" : true,
        "secretSourceStageId" : "s7r"
      }, {
        "type" : "lookup-extractor",
        "id" : "mfj",
        "rules" : [ {
          "source" : [ "body", "title" ],
          "target" : "entity_stock_ticker_mv_ss",
          "writeMode" : "append",
          "entityTypes" : [ {
            "name" : "ticker",
            "entityDefinitions" : [ "tickers.lst" ]
          } ],
          "additionalEntities" : [ ],
          "caseSensitive" : true
        } ],
        "type" : "lookup-extractor",
        "skip" : false,
        "label" : "Extract ticker with gazetteers",
        "licensed" : true,
        "secretSourceStageId" : "mfj"
      }, {
        "type" : "javascript-index",
        "id" : "as",
        "script" : "function(doc) {\n    //varibale contating the original news item\\\n    if (doc.getId() !== null && doc.getFirstFieldValue(\"Content-Type\") != \"application/pdf\") {\n\n\n        logger.info(\"why is this not being run\");\n        var news_bodies = doc.getFieldValues('body');\n\n        // if no new body - do nothing\\\\\\\n        if (news_bodies == null || news_bodies.size() < 1) {\n            logger.info(\"this document had no content in the content field\");\n            return null;\n        }\n\n        var description = doc.getFirstFieldValue('title_txt');\n\n        var news_body = \"\";\n        for (i = 0; i < news_bodies.size(); i++) {\n            news_body = news_body.concat(news_bodies.get(i) + '\\\\n');\n        }\n\n\n        // news_body = news_body.split(\"\\n\").join(\" \");\n        //news_body1= news_body.replace(/GRPN/g, 'USA');\n        //  str = str.replace(\" \", \"_\");\n\n        var pattern = /\\n/g; // notice \"g\" here now!\n\n        news_body = news_body.replace(pattern, \" \");\n        //doc.addField('news_body_txt', news_body);\n\n        // Unique Identifier to connec tot calais\\\\\\\n        //var uniqueAccessKey='7KIwwT7p85yGM7Ag8h94YfXS5KNcbtur';\n        var uniqueAccessKey = '3e7c22df-a19d-44e3-a7cd-ee15256a700b';\n\n        // base url for open calais\\\\\\\n        //var CALAIS_URL = \"https://api.thomsonreuters.com/permid/calais\";\n        var CALAIS_URL = \"http://localhost:8080/tag/rs/enrich\";\n        // http://52.204.66.106:8080/\n        //post method\\\\\\\n        var method = new org.apache.commons.httpclient.methods.PostMethod(CALAIS_URL);\n\n        // Set mandatory parameters\\\\\\\n        method.setRequestHeader(\"X-AG-Access-Token\", uniqueAccessKey);\n        // Set input content type\\\\\\\n        method.setRequestHeader(\"Content-Type\", \"text/raw\");\n        // Set response/output format\\\\\\\n        method.setRequestHeader(\"outputformat\", \"application/json\");\n\n        method.setRequestBody(news_body);\n\n        var client = new org.apache.commons.httpclient.HttpClient;\n\n        var returnCode = client.executeMethod(method);\n\n        var responseValue = \"\";\n\n      logger.warn(\"FOOOOO Return code is :\" + returnCode);\n        if (returnCode == org.apache.commons.httpclient.HttpStatus.SC_NOT_IMPLEMENTED) {\n          //  Do Something to capture response code\\\\\\\n          logger.warn(\"this is not working\");\n          doc.addField('version', 'untagged');\n        } else if (returnCode == org.apache.commons.httpclient.HttpStatus.SC_OK) {\n          responseValue = method.getResponseBodyAsString();\n       \t  doc.addField('version', 'v1');\n        } else {\n            //  Do Something to capture response code\\\\\\\n        \tlogger.warn(\"this is not working\");\n        \tdoc.addField('version', 'untagged');\n        }\n\n        // remove single new bodies fields to sum them up in one \\\\\\\n        //doc.removeFields('news_body');\n        // doc.addField('news_body', news_body);\n\n        doc.addField('returnCode', returnCode);\n        doc.addField('responseValue', responseValue);\n\n    }\n    return doc;\n}\n",
        "type" : "javascript-index",
        "skip" : true,
        "label" : "Entity Extraction (TRIT): API call",
        "licensed" : true,
        "secretSourceStageId" : "as"
      }, {
        "type" : "javascript-index",
        "id" : "xym",
        "script" : "function(doc) {\n\n    var responseValue = doc.getFieldValues('responseValue');\n\n    var obj;\n    try {\n        obj = JSON.parse(responseValue);\n    } catch (err) {\n        doc.setField(\"version\", \"untagged\");\n        return doc;\n    }\n\n\n    if (obj == null || (typeof obj == 'undefined') || (typeof obj[0] == 'undefined'))\n        return doc;\n\n    // array to store the name of companies\\\n    var companies = [];\n    // array to store the name of thier respective permids\\\n    var comp_permids = \"\";\n\n    // Get all the Key in the response\\\n    var allKeys = Object.keys(obj[0]);\n\n    // doc.addField('Field Val', Object.keys(obj[0]));\\\n\n    if (allKeys != null) {\n\n        for (i = 0; i < allKeys.length; ++i) {\n\n            tag = obj[0][allKeys[i]]._typeGroup;\n            type = obj[0][allKeys[i]]._type;\n            ////////////////////////////\n            //Social Tags\n            ////////////////////////////\n\n            if (tag != null && tag.equals(\"socialTag\") && obj[0][allKeys[i]].forenduserdisplay.equals(\"true\")) {\n                if (obj[0][allKeys[i]].forenduserdisplay.equals(\"true\"))\n                    doc.addField('social_tags_ss', obj[0][allKeys[i]].name);\n                // doc.addField('entity_all_lv_s', obj[0][allKeys[i]].name);\n                if (obj[0][allKeys[i]].importance == 1) {\n                    doc.addField('entity_all_hv_ss', obj[0][allKeys[i]].name);\n                    doc.addField('social_tags_hv_ss', obj[0][allKeys[i]].name);\n\n                } else if (obj[0][allKeys[i]].importance == 2) {\n                    doc.addField('entity_all_mv_ss', obj[0][allKeys[i]].name);\n                    doc.addField('social_tags_mv_ss', obj[0][allKeys[i]].name);\n                } else if (obj[0][allKeys[i]].importance == 3) {\n                    doc.addField('entity_all_lv_ss', obj[0][allKeys[i]].name);\n                    doc.addField('social_tags_lv_ss', obj[0][allKeys[i]].name);\n                }\n            }\n\n\n\n            ////////////////////////////\n            //Extract Entity Types\n            ////////////////////////////\n            if (type != null && tag != null && tag.equals(\"entities\")) {\n\n                if (type.equals(\"Company\")) {\n                    var companyScore = parseFloat(obj[0][allKeys[i]].confidencelevel) * parseFloat(obj[0][allKeys[i]].relevance);\n                    //  var companyScore = 0.5;\n                    doc.addField('entity_company_ss', obj[0][allKeys[i]].name);\n                    doc.addField('entity_all_payloads', obj[0][allKeys[i]].name + '|' + companyScore);\n                    doc.addField('entity_company_payloads', obj[0][allKeys[i]].name + '|' + companyScore);\n\n\n                    // logger.info(\"company has been added \" + obj[0][allKeys[i]].name + \" with a relevance score of \" + obj[0][allKeys[i]].relevance);\n                    if ((parseFloat(obj[0][allKeys[i]].confidencelevel) * parseFloat(obj[0][allKeys[i]].relevance) >= .6)) {\n                        // doc.addField('entity_company_hv_ss', obj[0][allKeys[i]].name);\n                        // doc.addField('entity_all_hv_ss', obj[0][allKeys[i]].name);\n\n\n                        if (obj[0][allKeys[i]].resolutions === null) {\n                            doc.addField('entity_company_markup_hv_ss', obj[0][allKeys[i]].name);\n                            doc.addField('entity_all_hv_ss', obj[0][allKeys[i]].name);\n\n                        }\n                        // if the resolution isn't ana array\n                        if (obj[0][allKeys[i]].resolutions != null) {\n                            // doc.addField('entity_company_hv_ss', obj[0][allKeys[i]].name);\n                            // doc.addField('entity_all_hv_ss', obj[0][allKeys[i]].name);\n\n\n\n\n                            if (!Array.isArray(obj[0][allKeys[i]].resolutions[0].primaryric)) {\n\n                              doc.addField('entity_company_hv_ss', obj[0][allKeys[i]].resolutions[0].name);\n                              doc.addField('entity_all_hv_ss', obj[0][allKeys[i]].resolutions[0].name);\n\n                              doc.addField('entity_company_numbers_hv_txt', obj[0][allKeys[i]].resolutions[0].name + \" conf: \" + obj[0][allKeys[i]].confidencelevel + \" rel: \" + obj[0][allKeys[i]].relevance + \" count: \" + obj[0][allKeys[i]].instances.length + \" score: \" + obj[0][allKeys[i]].resolutions[0].score);\n\n\n                                if (obj[0][allKeys[i]].resolutions[0].primaryric != null) {\n                                    // doc.addField('entity_company_hv_ss', obj[0][allKeys[i]].resolutions[0].primaryric);\n\n                                  \n                                    doc.addField('entity_all_hv_ss', obj[0][allKeys[i]].resolutions[0].primaryric);\n                                    doc.addField('entity_stock_ticker_hv_ss', obj[0][allKeys[i]].resolutions[0].primaryric);\n                                    doc.addField('entity_all_payloads', obj[0][allKeys[i]].primaryric + '|' + companyScore);\n                                    doc.addField('entity_company_payloads', obj[0][allKeys[i]].primaryric + '|' + companyScore);\n\n                                }\n                                // doc.addField('entity_company_hv_ss', obj[0][allKeys[i]].resolutions[0].permid);\n                                doc.addField('entity_all_hv_ss', obj[0][allKeys[i]].resolutions[0].permid);\n\n                                doc.addField('entity_permid_hv_ss', obj[0][allKeys[i]].resolutions[0].permid);\n\n                                doc.addField('entity_all_payloads', obj[0][allKeys[i]].permid + '|' + companyScore);\n                                doc.addField('entity_company_payloads', obj[0][allKeys[i]].permid + '|' + companyScore);\n\n                                if (obj[0][allKeys[i]].resolutions[0].commonname != null) {\n                                    // doc.addField('entity_company_hv_ss', obj[0][allKeys[i]].resolutions[0].commonname);\n                                    doc.addField('entity_all_hv_ss', obj[0][allKeys[i]].resolutions[0].commonname);\n                                    doc.addField('entity_company_commonname_hv_ss', obj[0][allKeys[i]].resolutions[0].commonname);\n\n\n                                    doc.addField('entity_all_payloads', obj[0][allKeys[i]].commonname + '|' + companyScore);\n                                    doc.addField('entity_company_payloads', obj[0][allKeys[i]].commonname + '|' + companyScore);\n\n                                }\n                            } else {\n                                for (ff = 0; ff < obj[0][allKeys[i]].resolutions[0].primaryric.length; ++ff) {\n                                  // doc.addField('entity_company_hv_ss', obj[0][allKeys[i]].resolutions[0].primaryric[ff]);\n                                  doc.addField('entity_company_hv_ss', obj[0][allKeys[i]].resolutions[0].name[ff]);\n                                  doc.addField('entity_all_hv_ss', obj[0][allKeys[i]].resolutions[0].name[ff]);\n\n                                  doc.addField('entity_company_numbers_hv_txt', obj[0][allKeys[i]].resolutions[0].name[ff] + \" conf: \" + obj[0][allKeys[i]].confidencelevel + \" rel: \" + obj[0][allKeys[i]].relevance + \" count: \" + obj[0][allKeys[i]].instances.length + \" score: \" + obj[0][allKeys[i]].resolutions[0].score[ff]);\n\n\n                                    if (obj[0][allKeys[i]].resolutions[0].primaryric[ff] != null) {\n                                    \n                                        doc.addField('entity_all_hv_ss', obj[0][allKeys[i]].resolutions[0].primaryric[ff]);\n                                        doc.addField('entity_stock_ticker_hv_ss', obj[0][allKeys[i]].resolutions[0].primaryric[ff]);\n\n                                        doc.addField('entity_all_payloads', obj[0][allKeys[i]].resolutions[0].primaryric[ff] + '|' + companyScore);\n                                        doc.addField('entity_company_payloads', obj[0][allKeys[i]].resolutions[0].primaryric[ff] + '|' + companyScore);\n\n                                    }\n                                    // doc.addField('entity_company_hv_ss', obj[0][allKeys[i]].resolutions[0].permid[ff]);\n                                    doc.addField('entity_all_hv_ss', obj[0][allKeys[i]].resolutions[0].permid[ff]);\n\n                                    doc.addField('entity_permid_hv_ss', obj[0][allKeys[i]].resolutions[0].permid[ff]);\n\n                                    doc.addField('entity_all_payloads', obj[0][allKeys[i]].resolutions[0].permid[ff] + '|' + companyScore);\n                                    doc.addField('entity_company_payloads', obj[0][allKeys[i]].resolutions[0].permid[ff] + '|' + companyScore);\n\n                                    if (obj[0][allKeys[i]].resolutions[0].commonname != null) {\n                                        doc.addField('entity_all_hv_ss', obj[0][allKeys[i]].resolutions[0].commonname[ff]);\n                                        // doc.addField('entity_company_hv_ss', obj[0][allKeys[i]].resolutions[0].commonname[ff]);\n                                        doc.addField('entity_company_commonname_hv_ss', obj[0][allKeys[i]].resolutions[0].commonname[ff]);\n                                        doc.addField('entity_all_payloads', obj[0][allKeys[i]].resolutions[0].commonname[ff] + '|' + companyScore);\n                                        doc.addField('entity_company_payloads', obj[0][allKeys[i]].resolutions[0].commonname[ff] + '|' + companyScore);\n\n\n                                    }\n                                }\n                            }\n                        }\n\n                    } else if (parseFloat(obj[0][allKeys[i]].confidencelevel) * parseFloat(obj[0][allKeys[i]].relevance) >= .4) {\n\n\n                        if (obj[0][allKeys[i]].resolutions === null) {\n                            doc.addField('entity_company_markup_mv_ss', obj[0][allKeys[i]].name);\n                            doc.addField('entity_all_mv_ss', obj[0][allKeys[i]].name);\n\n                        }\n\n\n                        if (obj[0][allKeys[i]].resolutions != null) {\n                            if (!Array.isArray(obj[0][allKeys[i]].resolutions[0].primaryric)) {\n\n                              doc.addField('entity_company_mv_ss', obj[0][allKeys[i]].resolutions[0].name);\n                              doc.addField('entity_all_mv_ss', obj[0][allKeys[i]].resolutions[0].name);\n                              // doc.addField('entity_company_mv_ss', obj[0][allKeys[i]].resolutions[0].primaryric);\n\n                              doc.addField('entity_company_numbers_mv_txt', obj[0][allKeys[i]].resolutions[0].name + \" conf: \" + obj[0][allKeys[i]].confidencelevel + \" rel: \" + obj[0][allKeys[i]].relevance + \" count: \" + obj[0][allKeys[i]].instances.length + \" score: \" + obj[0][allKeys[i]].resolutions[0].score);\n\n\n                              \n                                if (obj[0][allKeys[i]].resolutions[0].primaryric != null) {\n\n                                  \n                                    doc.addField('entity_all_mv_ss', obj[0][allKeys[i]].resolutions[0].primaryric);\n\n                                    doc.addField('entity_stock_ticker_mv_ss', obj[0][allKeys[i]].resolutions[0].primaryric);\n\n\n                                    doc.addField('entity_all_payloads', obj[0][allKeys[i]].resolutions[0].primaryric + '|' + companyScore);\n                                    doc.addField('entity_company_payloads', obj[0][allKeys[i]].resolutions[0].primaryric + '|' + companyScore);\n\n                                }\n                                // doc.addField('entity_company_mv_ss', obj[0][allKeys[i]].resolutions[0].permid);\n                                doc.addField('entity_all_mv_ss', obj[0][allKeys[i]].resolutions[0].permid);\n\n                                doc.addField('entity_permid_mv_ss', obj[0][allKeys[i]].resolutions[0].permid);\n\n\n                                doc.addField('entity_all_payloads', obj[0][allKeys[i]].resolutions[0].permid + '|' + companyScore);\n                                doc.addField('entity_company_payloads', obj[0][allKeys[i]].resolutions[0].permid + '|' + companyScore);\n\n                                if (obj[0][allKeys[i]].resolutions[0].commonname != null) {\n                                    // doc.addField('entity_company_mv_ss', obj[0][allKeys[i]].resolutions[0].commonname);\n                                    doc.addField('entity_all_mv_ss', obj[0][allKeys[i]].resolutions[0].commonname);\n                                    doc.addField('entity_company_commonname_mv_ss', obj[0][allKeys[i]].resolutions[0].commonname);\n                                    doc.addField('entity_all_payloads', obj[0][allKeys[i]].commonname + '|' + companyScore);\n                                    doc.addField('entity_company_payloads', obj[0][allKeys[i]].commonname + '|' + companyScore);\n                                }\n                            } else {\n                                for (ff = 0; ff < obj[0][allKeys[i]].resolutions[0].primaryric.length; ++ff) {\n                                    if (obj[0][allKeys[i]].resolutions[0].primaryric[ff] != null) {\n                                        doc.addField('entity_company_mv_ss', obj[0][allKeys[i]].resolutions[0].name[ff]);\n                                        doc.addField('entity_all_mv_ss', obj[0][allKeys[i]].resolutions[0].name[ff]);\n                                        // doc.addField('entity_company_mv_ss', obj[0][allKeys[i]].resolutions[0].primaryric[ff]);\n\n                                        doc.addField('entity_company_numbers_mv_txt', obj[0][allKeys[i]].resolutions[0].name[ff] + \" conf: \" + obj[0][allKeys[i]].confidencelevel + \" rel: \" + obj[0][allKeys[i]].relevance + \" count: \" + obj[0][allKeys[i]].instances.length + \" score: \" + obj[0][allKeys[i]].resolutions[0].score[ff]);\n\n                                        doc.addField('entity_all_mv_ss', obj[0][allKeys[i]].resolutions[0].primaryric[ff]);\n\n                                        doc.addField('entity_stock_ticker_mv_ss', obj[0][allKeys[i]].resolutions[0].primaryric[ff]);\n\n                                        doc.addField('entity_all_payloads', obj[0][allKeys[i]].resolutions[0].primaryric[ff] + '|' + companyScore);\n                                        doc.addField('entity_company_payloads', obj[0][allKeys[i]].resolutions[0].primaryric[ff] + '|' + companyScore);\n                                    }\n                                    // doc.addField('entity_company_mv_ss', obj[0][allKeys[i]].resolutions[0].permid[ff]);\n                                    doc.addField('entity_all_mv_ss', obj[0][allKeys[i]].resolutions[0].permid[ff]);\n\n                                    doc.addField('entity_permid_mv_ss', obj[0][allKeys[i]].resolutions[0].permid[ff]);\n\n                                    doc.addField('entity_all_payloads', obj[0][allKeys[i]].resolutions[0].permid[ff] + '|' + companyScore);\n                                    doc.addField('entity_company_payloads', obj[0][allKeys[i]].resolutions[0].permid[ff] + '|' + companyScore);\n\n                                    if (obj[0][allKeys[i]].resolutions[0].commonname != null) {\n                                        // doc.addField('entity_company_mv_ss', obj[0][allKeys[i]].resolutions[0].commonname[ff]);\n                                        doc.addField('entity_all_mv_ss', obj[0][allKeys[i]].resolutions[0].commonname[ff]);\n\n                                        doc.addField('entity_company_commonname_mv_ss', obj[0][allKeys[i]].resolutions[0].commonname[ff]);\n\n                                        doc.addField('entity_all_payloads', obj[0][allKeys[i]].resolutions[0].commonname[ff] + '|' + companyScore);\n                                        doc.addField('entity_company_payloads', obj[0][allKeys[i]].resolutions[0].commonname[ff] + '|' + companyScore);\n\n\n                                    }\n                                }\n                            }\n                        }\n                    } else {\n                        //  doc.addField('entity_company_lv_ss', obj[0][allKeys[i]].name);\n\n                        if (obj[0][allKeys[i]].resolutions === null) {\n                            doc.addField('entity_company_markup_lv_ss', obj[0][allKeys[i]].name);\n                            doc.addField('entity_all_lv_ss', obj[0][allKeys[i]].name);\n\n                        }\n\n                        if (obj[0][allKeys[i]].resolutions != null) {\n\n                            if (!Array.isArray(obj[0][allKeys[i]].resolutions[0].primaryric)) {\n\n                              doc.addField('entity_company_lv_ss', obj[0][allKeys[i]].resolutions[0].name);\n                              doc.addField('entity_all_lv_ss', obj[0][allKeys[i]].resolutions[0].name);\n                              // doc.addField('entity_company_lv_ss', obj[0][allKeys[i]].resolutions[0].primaryric);\n\n                              doc.addField('entity_company_numbers_lv_txt', obj[0][allKeys[i]].resolutions[0].name + \" conf: \" + obj[0][allKeys[i]].confidencelevel + \" rel: \" + obj[0][allKeys[i]].relevance + \" count: \" + obj[0][allKeys[i]].instances.length + \" score: \" + obj[0][allKeys[i]].resolutions[0].score);\n\n\n                                if (obj[0][allKeys[i]].resolutions[0].primaryric != null) {\n                                  \n                                    doc.addField('entity_all_lv_ss', obj[0][allKeys[i]].resolutions[0].primaryric);\n\n                                    doc.addField('entity_stock_ticker_lv_ss', obj[0][allKeys[i]].resolutions[0].primaryric);\n\n                                    doc.addField('entity_all_payloads', obj[0][allKeys[i]].resolutions[0].primaryric + '|' + companyScore);\n                                    doc.addField('entity_company_payloads', obj[0][allKeys[i]].resolutions[0].primaryric + '|' + companyScore);\n                                }\n                                // doc.addField('entity_company_lv_ss', obj[0][allKeys[i]].resolutions[0].permid);\n                                doc.addField('entity_all_lv_ss', obj[0][allKeys[i]].resolutions[0].permid);\n\n                                doc.addField('entity_permid_lv_ss', obj[0][allKeys[i]].resolutions[0].permid);\n\n                                doc.addField('entity_all_payloads', obj[0][allKeys[i]].resolutions[0].permid + '|' + companyScore);\n                                doc.addField('entity_company_payloads', obj[0][allKeys[i]].resolutions[0].permid + '|' + companyScore);\n\n                                if (obj[0][allKeys[i]].resolutions[0].commonname != null) {\n                                    // doc.addField('entity_company_lv_ss', obj[0][allKeys[i]].resolutions[0].commonname);\n                                    doc.addField('entity_all_lv_ss', obj[0][allKeys[i]].resolutions[0].commonname);\n\n                                    doc.addField('entity_permid_lv_ss', obj[0][allKeys[i]].resolutions[0].commonname);\n\n\n                                    doc.addField('entity_all_payloads', obj[0][allKeys[i]].resolutions[0].commonname + '|' + companyScore);\n                                    doc.addField('entity_company_payloads', obj[0][allKeys[i]].resolutions[0].commonname + '|' + companyScore);\n                                }\n                            } else {\n                                for (ff = 0; ff < obj[0][allKeys[i]].resolutions[0].primaryric.length; ++ff) {\n\n                                  doc.addField('entity_company_lv_ss', obj[0][allKeys[i]].resolutions[0].name[ff]);\n                                  doc.addField('entity_all_lv_ss', obj[0][allKeys[i]].resolutions[0].name[ff]);\n\n                                  doc.addField('entity_company_numbers_lv_txt', obj[0][allKeys[i]].resolutions[0].name[ff] + \" conf: \" + obj[0][allKeys[i]].confidencelevel + \" rel: \" + obj[0][allKeys[i]].relevance + \" count: \" + obj[0][allKeys[i]].instances.length + \" score: \" + obj[0][allKeys[i]].resolutions[0].score[ff]);\n\n\n                                    if (obj[0][allKeys[i]].resolutions[0].primaryric[ff] != null) {\n                                        // doc.addField('entity_company_lv_ss', obj[0][allKeys[i]].resolutions[0].primaryric[ff]);\n                                      \n                                        doc.addField('entity_all_lv_ss', obj[0][allKeys[i]].resolutions[0].primaryric[ff]);\n\n                                        doc.addField('entity_stock_ticker_lv_ss', obj[0][allKeys[i]].resolutions[0].primaryric[ff]);\n\n                                        doc.addField('entity_all_payloads', obj[0][allKeys[i]].resolutions[0].primaryric[ff] + '|' + companyScore);\n                                        doc.addField('entity_company_payloads', obj[0][allKeys[i]].resolutions[0].primaryric[ff] + '|' + companyScore);\n\n                                    }\n                                    // doc.addField('entity_company_lv_ss', obj[0][allKeys[i]].resolutions[0].permid[ff]);\n                                    doc.addField('entity_all_lv_ss', obj[0][allKeys[i]].resolutions[0].permid[ff]);\n\n                                    doc.addField('entity_permid_lv_ss', obj[0][allKeys[i]].resolutions[0].permid[ff]);\n\n\n                                    doc.addField('entity_all_payloads', obj[0][allKeys[i]].resolutions[0].permid[ff] + '|' + companyScore);\n                                    doc.addField('entity_company_payloads', obj[0][allKeys[i]].resolutions[0].permid[ff] + '|' + companyScore);\n\n                                    if (obj[0][allKeys[i]].resolutions[0].commonname != null) {\n                                        // doc.addField('entity_company_lv_ss', obj[0][allKeys[i]].resolutions[0].commonname[ff]);\n                                        doc.addField('entity_all_lv_ss', obj[0][allKeys[i]].resolutions[0].commonname[ff]);\n\n                                        doc.addField('entity_company_commonname_lv_ss', obj[0][allKeys[i]].resolutions[0].commonname[ff]);\n\n\n                                        doc.addField('entity_all_payloads', obj[0][allKeys[i]].resolutions[0].commonname[ff] + '|' + companyScore);\n                                        doc.addField('entity_company_payloads', obj[0][allKeys[i]].resolutions[0].commonname[ff] + '|' + companyScore);\n                                    }\n                                }\n                            }\n                            //still need to do this one this needs to be built out\n\n                        }\n                    }\n\n                } else if (type.equals(\"Country\")) {\n                    doc.addField('entity_country_ss', obj[0][allKeys[i]].name);\n                    //doc.addField('entity_all_lv_ss', obj[0][allKeys[i]].name);\n\n                    doc.addField('entity_all_payloads', obj[0][allKeys[i]].name + '|' + obj[0][allKeys[i]].relevance);\n\n                    if (obj[0][allKeys[i]].relevance <= .2) {\n                        doc.addField('entity_all_lv_ss', obj[0][allKeys[i]].name);\n\n\n                        doc.addField('entity_country_lv_ss', obj[0][allKeys[i]].name);\n                    } else if (obj[0][allKeys[i]].relevance < .2 && obj[0][allKeys[i]].relevance > .8) {\n                        doc.addField('entity_all_mv_ss', obj[0][allKeys[i]].name);\n                        doc.addField('entity_country_mv_ss', obj[0][allKeys[i]].name);\n                    } else if (obj[0][allKeys[i]].relevance >= .8) {\n                        doc.addField('entity_all_hv_ss', obj[0][allKeys[i]].name);\n                        doc.addField('entity_country_hv_ss', obj[0][allKeys[i]].name);\n                    }\n                } else if (type.equals(\"Person\") || type.equals(\"Editor\") || type.equals(\"Journalist\")) {\n                    //  doc.addField('entity_person_ss', obj[0][allKeys[i]].name);\n\n                    doc.addField('entity_all_payloads', obj[0][allKeys[i]].name + '|' + obj[0][allKeys[i]].relevance);\n\n                    if (obj[0][allKeys[i]].relevance <= .2) {\n                        doc.addField('entity_all_lv_ss', obj[0][allKeys[i]].name);\n                        doc.addField('entity_person_lv_ss', obj[0][allKeys[i]].name);\n                    } else if (obj[0][allKeys[i]].relevance < .2 && obj[0][allKeys[i]].relevance > .8) {\n                        doc.addField('entity_all_mv_ss', obj[0][allKeys[i]].name);\n                        doc.addField('entity_person_mv_ss', obj[0][allKeys[i]].name);\n                    } else if (obj[0][allKeys[i]].relevance >= .8) {\n                        doc.addField('entity_person_hv_ss', obj[0][allKeys[i]].name);\n                        doc.addField('entity_all_hv_ss', obj[0][allKeys[i]].name);\n                    }\n                }\n            }\n        }\n    }\n\n    return doc;\n}\n",
        "type" : "javascript-index",
        "skip" : true,
        "label" : "Entity Extraction (TRIT): Parse Entities",
        "licensed" : true,
        "secretSourceStageId" : "xym"
      }, {
        "type" : "javascript-index",
        "id" : "kb",
        "script" : "function(doc) {\n\n    var responseValue = doc.getFieldValues('responseValue');\n\n   var obj;\n    try {\n      obj = JSON.parse(responseValue);\n    } catch(err) {\n      doc.setField(\"version\", \"untagged\");\n      return doc;\n    }\n\n    if (obj == null || (typeof obj == 'undefined') || (typeof obj[0] == 'undefined'))\n        return doc;\n\n    // array to store the name of companies\\\n    var companies = [];\n    // array to store the name of thier respective permids\\\n    var comp_permids = \"\";\n\n    // Get all the Key in the response\\\n    var allKeys = Object.keys(obj[0]);\n\n    // doc.addField('Field Val', Object.keys(obj[0]));\\\n\n    if (allKeys != null) {\n\n        for (i = 0; i < allKeys.length; ++i) {\n\n            tag = obj[0][allKeys[i]]._typeGroup;\n            type = obj[0][allKeys[i]]._type;\n            //logger.warn('test1234');\n            //if social tags\\\n\n            ////////////////////////////\n            //Extract Entity Types\n            ////////////////////////////\n\n            if (type != null && tag != null && tag.equals(\"relations\")) {\n                //Reject -, , , , , CompanyAffiliates, ,,,,,,, , ,, ,,, , , CompanyTicker,, , , , ,,, , ,,, , , , , , FDAPhase, , ,,, ,, , , , ,,, , , , , , , , , , , , ,,,, Quotation, ,,\n                if (!obj[0][allKeys[i]]._type.equals(\"Quotation\") && !obj[0][allKeys[i]]._type.equals(\"Company Affiliates\") && !obj[0][allKeys[i]]._type.equals(\"CompanyTicker\") && !obj[0][allKeys[i]]._type.equals(\"CompanyLocation\") && !obj[0][allKeys[i]]._type.equals(\"FDAPhase\") && !obj[0][allKeys[i]]._type.equals(\"PersonCareer\") && !obj[0][allKeys[i]]._type.equals(\"CompanyTicker\") && !obj[0][allKeys[i]]._type.equals(\"ArmedAttack\") && !obj[0][allKeys[i]]._type.equals(\"ArmsPurchaseSale\") && !obj[0][allKeys[i]]._type.equals(\"Arrest\") && !obj[0][allKeys[i]]._type.equals(\"CandidatePosition\") && !obj[0][allKeys[i]]._type.equals(\"CompanyAccountingChange\") && !obj[0][allKeys[i]]._type.equals(\"CompanyEmployeesNumber\") && !obj[0][allKeys[i]]._type.equals(\"CompanyListingChange\") && !obj[0][allKeys[i]]._type.equals(\"CompanyFounded\") && !obj[0][allKeys[i]]._type.equals(\"CompanyFounded\") && !obj[0][allKeys[i]]._type.equals(\"CompanyLocation\") && !obj[0][allKeys[i]]._type.equals(\"CompanyRestatement\") && !obj[0][allKeys[i]]._type.equals(\"CompanyTechnology\") && !obj[0][allKeys[i]]._type.equals(\"ContactDetails\") && !obj[0][allKeys[i]]._type.equals(\"Conviction\") && !obj[0][allKeys[i]]._type.equals(\"CreditRating\") && !obj[0][allKeys[i]]._type.equals(\"DelayedFiling\") && !obj[0][allKeys[i]]._type.equals(\"DiplomaticRelations\") && !obj[0][allKeys[i]]._type.equals(\"EmploymentRelation\") && !obj[0][allKeys[i]]._type.equals(\"EnvironmentalIssue\") && !obj[0][allKeys[i]]._type.equals(\"Extinction\") && !obj[0][allKeys[i]]._type.equals(\"FamilyRelation\") && !obj[0][allKeys[i]]._type.equals(\"IndicesChanges\") && !obj[0][allKeys[i]]._type.equals(\"Indictment\") && !obj[0][allKeys[i]]._type.equals(\"ManMadeDisaster\") && !obj[0][allKeys[i]]._type.equals(\"MilitaryAction\") && !obj[0][allKeys[i]]._type.equals(\"MovieRelease\") && !obj[0][allKeys[i]]._type.equals(\"MusicAlbumRelease\") && !obj[0][allKeys[i]]._type.equals(\"NaturalDisaster\") && !obj[0][allKeys[i]]._type.equals(\"PersonAttributes\") && !obj[0][allKeys[i]]._type.equals(\"PersonCareer\") && !obj[0][allKeys[i]]._type.equals(\"PersonCommunication\") && !obj[0][allKeys[i]]._type.equals(\"PersonEducation\") && !obj[0][allKeys[i]]._type.equals(\"PersonEmailAddress\") && !obj[0][allKeys[i]]._type.equals(\"PersonLocation\") && !obj[0][allKeys[i]]._type.equals(\"PersonParty\") && !obj[0][allKeys[i]]._type.equals(\"PersonRelation\") && !obj[0][allKeys[i]]._type.equals(\"PersonTravel\") && !obj[0][allKeys[i]]._type.equals(\"PoliticalEndorsement\") && !obj[0][allKeys[i]]._type.equals(\"PoliticalRelationship\") && !obj[0][allKeys[i]]._type.equals(\"PollsResult\") && !obj[0][allKeys[i]]._type.equals(\"SecondaryIssuance\") && !obj[0][allKeys[i]]._type.equals(\"Trial\") && !obj[0][allKeys[i]]._type.equals(\"VotingResult\")) {\n                    doc.addField('relation_event_ss', obj[0][allKeys[i]]._type);\n                    var ref = \"\"\n                    var ref1 = \"\"\n                    var double_take = false;\n                    ref = obj[0][allKeys[i]].company\n                    if ((typeof ref == 'undefined'))\n                        ref = obj[0][allKeys[i]].company_rated\n                    if ((typeof ref == 'undefined'))\n                        ref = obj[0][allKeys[i]].acquirer\n                    if ((typeof ref == 'undefined'))\n                        ref = obj[0][allKeys[i]].company_investigated\n                    if ((typeof ref == 'undefined')) {\n                        ref = obj[0][allKeys[i]].company_acquirer\n                        if (obj[0][allKeys[i]].company_beingacquired != null) {\n                            ref1 = obj[0][allKeys[i]].company_beingacquired\n                            double_take = true;\n                        }\n                    }\n\n                    if (ref != null && obj[0][ref] != null) {\n                        // doc.addField('entity_first_ss', Array.isArray(ref))\n                        if (Array.isArray(ref) == true) {\n                            for (k = 0; k < ref.length; ++k) {\n                                doc.addField('Company_Events_ss', obj[0][ref[k]].name + \" \" + obj[0][allKeys[i]]._type);\n                                doc.addField('company_events_payloads', obj[0][allKeys[i]].name + '|' + obj[0][allKeys[i]].relevance);\n                                doc.addField('entity_all_payloads', obj[0][allKeys[i]].name + '|' + obj[0][allKeys[i]].relevance);\n\n                                var refKScores = parseFloat(obj[0][ref[k]].confidencelevel) * parseFloat(obj[0][ref[k]].relevance);\n\n                                if ((parseFloat(obj[0][ref[k]].confidencelevel) * parseFloat(obj[0][ref[k]].relevance) >= .6)) {\n\n                                    doc.addField('entity_all_hv_ss', obj[0][ref[k]].name + \" \" + obj[0][allKeys[i]]._type);\n                                    // if the company can be resolved add its url,and perm id for the typeahead and confidance ranking\n                                    if (obj[0][ref[k]].resolutions != null) {\n                                        doc.addField('event_support_ss', obj[0][ref[k]].resolutions[0].primaryric + \" \" + obj[0][allKeys[i]]._type);\n                                        doc.addField('event_support_ss', obj[0][ref[k]].resolutions[0].permid + \" \" + obj[0][allKeys[i]]._type);\n                                        doc.addField('entity_all_hv_ss', obj[0][ref[k]].resolutions[0].primaryric + \" \" + obj[0][allKeys[i]]._type);\n                                        doc.addField('entity_all_hv_ss', obj[0][ref[k]].resolutions[0].permid + \" \" + obj[0][allKeys[i]]._type);\n\n                                        // doc.addField('event_support_payloads', obj[0][ref[k]].resolutions[0].permid + \" \" + obj[0][allKeys[i]]._type + '|' + obj[0][ref[k]].relevance);\n                                        // doc.addField('event_support_payloads', obj[0][ref[k]].resolutions[0].primaryric + \" \" + obj[0][allKeys[i]]._type + '|' + obj[0][ref[k]].relevance);\n                                        doc.addField('entity_all_payloads', obj[0][ref[k]].resolutions[0].permid + \" \" + obj[0][allKeys[i]]._type + '|' + refKScores);\n                                        doc.addField('entity_all_payloads', obj[0][ref[k]].resolutions[0].primaryric + \" \" + obj[0][allKeys[i]]._type + '|' + refKScores);\n                                    }\n\n                                } else if ((parseFloat(obj[0][ref[k]].confidencelevel) * parseFloat(obj[0][ref[k]].relevance) >= .4)) {\n                                    doc.addField('entity_all_mv_ss', obj[0][ref[k]].name + \" \" + obj[0][allKeys[i]]._type);\n                                    if (obj[0][ref[k]].resolutions != null) {\n                                        doc.addField('event_support_ss', obj[0][ref[k]].resolutions[0].primaryric + \" \" + obj[0][allKeys[i]]._type);\n                                        doc.addField('event_support_ss', obj[0][ref[k]].resolutions[0].permid + \" \" + obj[0][allKeys[i]]._type);\n                                        doc.addField('entity_all_mv_ss', obj[0][ref[k]].resolutions[0].primaryric + \" \" + obj[0][allKeys[i]]._type);\n                                        doc.addField('entity_all_mv_ss', obj[0][ref[k]].resolutions[0].permid + \" \" + obj[0][allKeys[i]]._type);\n\n\n                                        // doc.addField('event_support_payloads', obj[0][ref[k]].resolutions[0].permid + \" \" + obj[0][allKeys[i]]._type + '|' + obj[0][ref[k]].relevance);\n                                        // doc.addField('event_support_payloads', obj[0][ref[k]].resolutions[0].primaryric + \" \" + obj[0][allKeys[i]]._type + '|' + obj[0][ref[k]].relevance);\n                                        doc.addField('entity_all_payloads', obj[0][ref[k]].resolutions[0].permid + \" \" + obj[0][allKeys[i]]._type + '|' + refKScores);\n                                        doc.addField('entity_all_payloads', obj[0][ref[k]].resolutions[0].primaryric + \" \" + obj[0][allKeys[i]]._type + '|' + refKScores);\n\n                                    }\n\n                                } else {\n                                    doc.addField('entity_all_lv_ss', obj[0][ref[k]].name + \" \" + obj[0][allKeys[i]]._type);\n                                    if (obj[0][ref[k]].resolutions != null) {\n                                        doc.addField('event_support_ss', obj[0][ref[k]].resolutions[0].primaryric + \" \" + obj[0][allKeys[i]]._type);\n                                        doc.addField('event_support_ss', obj[0][ref[k]].resolutions[0].permid + \" \" + obj[0][allKeys[i]]._type);\n                                        doc.addField('entity_all_lv_ss', obj[0][ref[k]].resolutions[0].primaryric + \" \" + obj[0][allKeys[i]]._type);\n                                        doc.addField('entity_all_lv_ss', obj[0][ref[k]].resolutions[0].permid + \" \" + obj[0][allKeys[i]]._type);\n\n                                        // doc.addField('event_support_payloads', obj[0][ref[k]].resolutions[0].permid + \" \" + obj[0][allKeys[i]]._type + '|' + obj[0][ref[k]].relevance);\n                                        // doc.addField('event_support_payloads', obj[0][ref[k]].resolutions[0].primaryric + \" \" + obj[0][allKeys[i]]._type + '|' + obj[0][ref[k]].relevance);\n                                        doc.addField('entity_all_payloads', obj[0][ref[k]].resolutions[0].permid + \" \" + obj[0][allKeys[i]]._type + '|' + refKScores);\n                                        doc.addField('entity_all_payloads', obj[0][ref[k]].resolutions[0].primaryric + \" \" + obj[0][allKeys[i]]._type + '|' + refKScores);\n\n                                    }\n                                }\n                            }\n\n\n                        } else {\n\n\n                            doc.addField('Company_Events_ss', obj[0][ref].name + \" \" + obj[0][allKeys[i]]._type);\n                            doc.addField('event_support_ss', obj[0][ref].name + \" \" + obj[0][allKeys[i]]._type);\n                            var refScore = parseFloat(obj[0][ref].confidencelevel) * parseFloat(obj[0][ref].relevance);\n\n                            if ((parseFloat(obj[0][ref].confidencelevel) * parseFloat(obj[0][ref].relevance) >= .6)) {\n                                doc.addField('entity_all_hv_ss', obj[0][ref].name + \" \" + obj[0][allKeys[i]]._type);\n                                doc.addField('entity_all_payloads', obj[0][ref].name + \" \" + obj[0][allKeys[i]]._type + '|' + refScore);\n\n                                if (double_take) {\n                                    // add the company even if the display is off\n                                    //      doc.addField('entity_company_ss', obj[0][ref1].name);\n                                    //  doc.addField('entity_first1_ss', ref1 +\" _ \"+obj[0][allKeys[i]]._type );\n                                    doc.addField('Company_Events_ss', obj[0][ref1].name + \" \" + obj[0][allKeys[i]]._type);\n                                    doc.addField('entity_all_hv_ss', obj[0][ref1].name + \" \" + obj[0][allKeys[i]]._type);\n\n                                    doc.addField('entity_all_payloads', obj[0][ref1].name + \" \" + obj[0][allKeys[i]]._type + '|' + refScore);\n\n                                }\n                                if (obj[0][ref].resolutions != null) {\n                                    doc.addField('event_support_ss', obj[0][ref].resolutions[0].primaryric + \" \" + obj[0][allKeys[i]]._type);\n                                    doc.addField('event_support_ss', obj[0][ref].resolutions[0].permid + \" \" + obj[0][allKeys[i]]._type);\n                                    doc.addField('entity_all_hv_ss', obj[0][ref].resolutions[0].primaryric + \" \" + obj[0][allKeys[i]]._type);\n                                    doc.addField('entity_all_hv_ss', obj[0][ref].resolutions[0].permid + \" \" + obj[0][allKeys[i]]._type);\n\n                                    doc.addField('entity_all_payloads', obj[0][ref].resolutions[0].permid + \" \" + obj[0][allKeys[i]]._type + '|' + refScore);\n                                    doc.addField('entity_all_payloads', obj[0][ref].resolutions[0].primaryric + \" \" + obj[0][allKeys[i]]._type + '|' + refScore);\n\n                                }\n                            } else if ((parseFloat(obj[0][ref].confidencelevel) * parseFloat(obj[0][ref].relevance) >= .4)) {\n                                doc.addField('entity_all_hv_ss', obj[0][ref].name + \" \" + obj[0][allKeys[i]]._type);\n                                doc.addField('entity_all_payloads', obj[0][ref].name + \" \" + obj[0][allKeys[i]]._type + '|' + refScore);\n                                if (double_take) {\n                                    // add the company even if the display is off\n                                    //      doc.addField('entity_company_ss', obj[0][ref1].name);\n                                    //  doc.addField('entity_first1_ss', ref1 +\" _ \"+obj[0][allKeys[i]]._type );\n                                    doc.addField('Company_Events_ss', obj[0][ref1].name + \" \" + obj[0][allKeys[i]]._type);\n                                    doc.addField('entity_all_mv_ss', obj[0][ref1].name + \" \" + obj[0][allKeys[i]]._type);\n\n                                    doc.addField('entity_all_payloads', obj[0][ref1].name + \" \" + obj[0][allKeys[i]]._type + '|' + refScore);\n                                }\n                                if (obj[0][ref].resolutions != null) {\n                                    doc.addField('event_support_ss', obj[0][ref].resolutions[0].primaryric + \" \" + obj[0][allKeys[i]]._type);\n                                    doc.addField('event_support_ss', obj[0][ref].resolutions[0].permid + \" \" + obj[0][allKeys[i]]._type);\n                                    doc.addField('entity_all_mv_ss', obj[0][ref].resolutions[0].primaryric + \" \" + obj[0][allKeys[i]]._type);\n                                    doc.addField('entity_all_mv_ss', obj[0][ref].resolutions[0].permid + \" \" + obj[0][allKeys[i]]._type);\n\n                                    doc.addField('entity_all_payloads', obj[0][ref].resolutions[0].permid + \" \" + obj[0][allKeys[i]]._type + '|' + refScore);\n                                    doc.addField('entity_all_payloads', obj[0][ref].resolutions[0].primaryric + \" \" + obj[0][allKeys[i]]._type + '|' + refScore);\n\n                                }\n                            } else {\n                                doc.addField('entity_all_hv_ss', obj[0][ref].name + \" \" + obj[0][allKeys[i]]._type);\n\n                                doc.addField('entity_all_payloads', obj[0][ref].name + \" \" + obj[0][allKeys[i]]._type + '|' + refScore);\n\n                                if (double_take) {\n                                    // add the company even if the display is off\n                                    //      doc.addField('entity_company_ss', obj[0][ref1].name);\n                                    //  doc.addField('entity_first1_ss', ref1 +\" _ \"+obj[0][allKeys[i]]._type );\n                                    doc.addField('Company_Events_ss', obj[0][ref1].name + \" \" + obj[0][allKeys[i]]._type);\n                                    doc.addField('entity_all_lv_ss', obj[0][ref1].name + \" \" + obj[0][allKeys[i]]._type);\n\n                                    doc.addField('entity_all_payloads', obj[0][ref1].name + \" \" + obj[0][allKeys[i]]._type + '|' + refScore);\n\n                                }\n                                if (obj[0][ref].resolutions != null) {\n                                    doc.addField('event_support_ss', obj[0][ref].resolutions[0].primaryric + \" \" + obj[0][allKeys[i]]._type);\n                                    doc.addField('event_support_ss', obj[0][ref].resolutions[0].permid + \" \" + obj[0][allKeys[i]]._type);\n                                    doc.addField('entity_all_lv_ss', obj[0][ref].resolutions[0].primaryric + \" \" + obj[0][allKeys[i]]._type);\n                                    doc.addField('entity_all_lv_ss', obj[0][ref].resolutions[0].permid + \" \" + obj[0][allKeys[i]]._type);\n\n                                    doc.addField('entity_all_payloads', obj[0][ref].resolutions[0].permid + \" \" + obj[0][allKeys[i]]._type + '|' + refScore);\n                                    doc.addField('entity_all_payloads', obj[0][ref].resolutions[0].primaryric + \" \" + obj[0][allKeys[i]]._type + '|' + refScore);\n\n                                }\n                            }\n\n                        }\n                    }\n                }\n            }\n        }\n\n\n    }\n    // doc.removeFields(\"responseValue\");\n\n    return doc;\n}\n",
        "type" : "javascript-index",
        "skip" : true,
        "label" : "Entity Extraction (TRIT): Parse Events",
        "licensed" : true,
        "secretSourceStageId" : "kb"
      }, {
        "type" : "javascript-index",
        "id" : "anl",
        "script" : "function(doc) {\n\n    var responseValue = doc.getFieldValues('responseValue');\n\n    var obj;\n    try {\n        obj = JSON.parse(responseValue);\n    } catch (err) {\n        doc.setField(\"version\", \"untagged\");\n        return doc;\n    }\n\n    if (obj == null || (typeof obj == 'undefined') || (typeof obj[0] == 'undefined'))\n        return doc;\n\n    // array to store the name of companies\\\n    var companies = [];\n    // array to store the name of thier respective permids\\\n    var comp_permids = \"\";\n\n    // Get all the Key in the response\\\n    var allKeys = Object.keys(obj[0]);\n\n    // doc.addField('Field Val', Object.keys(obj[0]));\\\n\n    if (allKeys != null) {\n\n        for (i = 0; i < allKeys.length; ++i) {\n\n            tag = obj[0][allKeys[i]]._typeGroup;\n            type = obj[0][allKeys[i]]._type;\n\n\n            if (tag != null && tag.equals(\"industry\")) {\n                doc.addField('industry_tags_ss', obj[0][allKeys[i]].name);\n\n                doc.addField('industry_tags_payloads', obj[0][allKeys[i]].name + '|' + obj[0][allKeys[i]].relevance);\n\n                if (parseFloat(obj[0][allKeys[i]].relevance) >= .8) {\n                    doc.addField('entity_all_hv_ss', obj[0][allKeys[i]].name);\n                    doc.addField('industry_tags_hv_ss', obj[0][allKeys[i]].name);\n                } else if (parseFloat(obj[0][allKeys[i]].relevance) >= .5) {\n                    doc.addField('entity_all_mv_ss', obj[0][allKeys[i]].name);\n                    doc.addField('industry_tags_mv_ss', obj[0][allKeys[i]].name);\n\n                } else {\n                    doc.addField('entity_all_lv_ss', obj[0][allKeys[i]].name);\n                    doc.addField('industry_tags_lv_ss', obj[0][allKeys[i]].name);\n                }\n            }\n\n\n        }\n    }\n\n    return doc;\n}",
        "type" : "javascript-index",
        "skip" : true,
        "label" : "Entity Extraction (TRIT): Parse Industries",
        "licensed" : true,
        "secretSourceStageId" : "anl"
      }, {
        "type" : "javascript-index",
        "id" : "ebo",
        "script" : "function(doc) {\n\n    var responseValue = doc.getFieldValues('responseValue');\n\n    var obj;\n    try {\n        obj = JSON.parse(responseValue);\n    } catch (err) {\n        doc.setField(\"version\", \"untagged\");\n        return doc;\n    }\n\n    if (obj == null || (typeof obj == 'undefined') || (typeof obj[0] == 'undefined'))\n        return doc;\n\n    // array to store the name of companies\\\n    var companies = [];\n    // array to store the name of thier respective permids\\\n    var comp_permids = \"\";\n\n    // Get all the Key in the response\\\n    var allKeys = Object.keys(obj[0]);\n\n    // doc.addField('Field Val', Object.keys(obj[0]));\\\n\n    if (allKeys != null) {\n\n        for (i = 0; i < allKeys.length; ++i) {\n\n            tag = obj[0][allKeys[i]]._typeGroup;\n            type = obj[0][allKeys[i]]._type;\n\n            if (tag != null && tag.equals(\"topics\")) {\n                if (obj[0][allKeys[i]].rcscode != null) {\n\n                    doc.addField('topics_tags_ss', obj[0][allKeys[i]].name);\n                    doc.addField('topics_tags_payloads', obj[0][allKeys[i]].name + '|' + obj[0][allKeys[i]].score);\n\n                    if (parseFloat(obj[0][allKeys[i]].score) >= .8) {\n                        doc.addField('entity_all_hv_ss', obj[0][allKeys[i]].name);\n                        doc.addField('topics_tags_hv_ss', obj[0][allKeys[i]].name);\n                    } else if (parseFloat(obj[0][allKeys[i]].score) >= .5) {\n                        doc.addField('entity_all_mv_ss', obj[0][allKeys[i]].name);\n                        doc.addField('topics_tags_mv_ss', obj[0][allKeys[i]].name);\n                    } else {\n                        doc.addField('entity_all_lv_ss', obj[0][allKeys[i]].name);\n                        doc.addField('topics_tags_lv_ss', obj[0][allKeys[i]].name);\n                    }\n                }\n            }\n        }\n    }\n\n    return doc;\n}\n",
        "type" : "javascript-index",
        "skip" : true,
        "label" : "Entity Extraction (TRIT): Parse Topics",
        "licensed" : true,
        "secretSourceStageId" : "ebo"
      }, {
        "type" : "field-mapping",
        "id" : "md",
        "mappings" : [ {
          "source" : "entity_company_mv_ss",
          "target" : "entity_company_mv_txt",
          "operation" : "copy"
        }, {
          "source" : "entity_company_hv_ss",
          "target" : "entity_company_hv_txt",
          "operation" : "copy"
        }, {
          "source" : "entity_company_lv_ss",
          "target" : "entity_company_lv_txt",
          "operation" : "copy"
        }, {
          "source" : "entity_person_hv_ss",
          "target" : "entity_person_hv_txt",
          "operation" : "copy"
        }, {
          "source" : "entity_person_mv_ss",
          "target" : "entity_person_mv_txt",
          "operation" : "copy"
        }, {
          "source" : "entity_person_lv_ss",
          "target" : "entity_person_lv_txt",
          "operation" : "copy"
        }, {
          "source" : "industry_tags_hv_ss",
          "target" : "industry_tags_hv_txt",
          "operation" : "copy"
        }, {
          "source" : "industry_tags_mv_ss",
          "target" : "industry_tags_mv_txt",
          "operation" : "copy"
        }, {
          "source" : "industry_tags_lv_ss",
          "target" : "industry_tags_lv_txt",
          "operation" : "copy"
        }, {
          "source" : "social_tags_hv_ss",
          "target" : "social_tags_hv_txt",
          "operation" : "copy"
        }, {
          "source" : "social_tags_mv_ss",
          "target" : "social_tags_mv_txt",
          "operation" : "copy"
        }, {
          "source" : "social_tags_lv_ss",
          "target" : "social_tags_lv_txt",
          "operation" : "copy"
        }, {
          "source" : "entity_all_hv_ss",
          "target" : "entity_all_hv_txt",
          "operation" : "copy"
        }, {
          "source" : "entity_all_mv_ss",
          "target" : "entity_all_mv_txt",
          "operation" : "copy"
        }, {
          "source" : "entity_all_lv_ss",
          "target" : "entity_all_lv_txt",
          "operation" : "copy"
        } ],
        "reservedFieldsMappingAllowed" : false,
        "type" : "field-mapping",
        "skip" : true,
        "label" : "Entity Extraction (TRIT): Search Field Setup",
        "licensed" : true,
        "secretSourceStageId" : "md"
      }, {
        "type" : "field-mapping",
        "id" : "95c06938-6bfe-471c-bbfa-4d56c6fbc1de",
        "mappings" : [ ],
        "reservedFieldsMappingAllowed" : false,
        "type" : "field-mapping",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "95c06938-6bfe-471c-bbfa-4d56c6fbc1de"
      }, {
        "type" : "solr-dynamic-field-name-mapping",
        "id" : "4694c155-01b8-4197-9b6b-e49eefc4b144",
        "duplicateSingleValuedFields" : false,
        "fieldsToExclude" : [ ],
        "advancedTextFieldsIndexing" : true,
        "maxTextLengthForAdvancedIndexing" : 100,
        "type" : "solr-dynamic-field-name-mapping",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "4694c155-01b8-4197-9b6b-e49eefc4b144"
      }, {
        "type" : "solr-index",
        "id" : "a2841923-69dd-4c1b-b649-cb3f68976017",
        "enforceSchema" : true,
        "dateFormats" : [ ],
        "params" : [ ],
        "bufferDocsForSolr" : false,
        "type" : "solr-index",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "a2841923-69dd-4c1b-b649-cb3f68976017"
      } ],
      "properties" : {
        "secretSourcePipelineId" : "yahoo-news"
      }
    } ],
    "queryPipelines" : [ {
      "id" : "Finance",
      "stages" : [ {
        "type" : "set-params",
        "id" : "99i",
        "params" : [ {
          "key" : "bq",
          "value" : "description_t:*",
          "policy" : "append"
        }, {
          "key" : "bq",
          "value" : "og_description_t:*",
          "policy" : "append"
        } ],
        "type" : "set-params",
        "skip" : false,
        "label" : "Boost News containing description",
        "licensed" : true,
        "secretSourceStageId" : "99i"
      }, {
        "type" : "javascript-query",
        "id" : "n6l",
        "script" : "var display_money = function(num) {\n  if (num > 1000000000) {\n    return '$' + (num / 1000000000).toFixed(2) + 'B';\n  } else if (num > 1000000) {\n    return '$' + (num / 1000000).toFixed(2) + 'M';\n  } else {\n    return '$' + (num / 1).toFixed(2);\n  }\n}\nfunction(request, response, ctx, collection, solrServer, solrServerFactory) {\n  var q = request.getFirstParam('q');\n  if(!q) {\n    return;  // To avoid NPA\n  }\n\n  var firstToken = q;\n  var remainder = '';\n\n  if (q.indexOf(' ') >= 0) {\n  \tfirstToken = q.substring(0, q.indexOf(' ')).replace(/\\(/, '');\n    remainder = q.substring(q.indexOf(' '), q.length);\n    remainder = remainder.trim();\n    remainder = remainder.replace(/\\s+/g, ' ');\n  }\n\n  logger.info('Answer card: first token is ' + firstToken);\n\n  if (!firstToken.match(/\\*/)) {\n    var query = new org.apache.solr.client.solrj.SolrQuery('ticker_s:'+firstToken.toUpperCase());\n    query.addFilterQuery('_lw_data_source_s:sp500');\n    query.setRows(1);\n    var results = solrServerFactory.getSolrServer('Finance').query(query).getResults();\n    if (results.size() > 0) {  // A ticker was found\n      var tickerResult = results.get(0);\n      var ticker  = tickerResult.get('ticker_s');\n      \n      var company_name = ticker;\n      var query_company_name = new org.apache.solr.client.solrj.SolrQuery('ticker_s:'+firstToken.toUpperCase());\n      query_company_name.addFilterQuery('_lw_data_source_s:sp500');\n      query_company_name.setRows(1);\n      var company_name_results = solrServerFactory.getSolrServer('Finance').query(query_company_name).getResults();\n      if (company_name_results.size() > 0) {\n      \tcompany_name  = company_name_results.get(0).get('company_name_t');\n      }\n      // TODO: other patterns\n      if (remainder.match(/ebitda/i)) {\n        var ebitda  = tickerResult.get('ebitda_f').toFixed(2);\n        logger.info('Answer Card: will append EBITDA to result: ' + ebitda);\n\n        ctx.setProperty(\"co_answer_card_company\", company_name);\n        ctx.setProperty(\"co_answer_card_metric_label\", \"EBITDA\");\n        ctx.setProperty(\"co_answer_card_metric_value\", display_money(ebitda));\n      } else if (remainder.match(/dividend/i)) {\n        var dividend  = tickerResult.get('div_yield_f').toFixed(2);\n        logger.info('Answer Card: will append dividend to result: ' + dividend);\n\n        ctx.setProperty(\"co_answer_card_company\", company_name);\n        ctx.setProperty(\"co_answer_card_metric_label\", \"dividend yield\");\n        ctx.setProperty(\"co_answer_card_metric_value\", dividend);\n      } else if (remainder.match(/eps/i) || remainder.match(/earnings/i)) {\n        var eps  = tickerResult.get('eps_fy1_f').toFixed(2);\n        logger.info('Answer Card: will append eps to result: ' + eps);\n\n        ctx.setProperty(\"co_answer_card_company\", company_name);\n        ctx.setProperty(\"co_answer_card_metric_label\", \"earnings per share\");\n        ctx.setProperty(\"co_answer_card_metric_value\", display_money(eps));\n      } else if (remainder.match(/beta/i)) {\n        var beta  = tickerResult.get('beta_f').toFixed(2);\n        logger.info('Answer Card: will append beta to result: ' + beta);\n\n        ctx.setProperty(\"co_answer_card_company\", company_name);\n        ctx.setProperty(\"co_answer_card_metric_label\", \"beta\");\n        ctx.setProperty(\"co_answer_card_metric_value\", beta);\n      }\n    }\n  }\n}\n",
        "type" : "javascript-query",
        "skip" : false,
        "label" : "Query for Answer Card Data",
        "licensed" : true,
        "secretSourceStageId" : "n6l"
      }, {
        "type" : "sub-query",
        "id" : "flo",
        "key" : "company-buckets",
        "collection" : "Finance",
        "handler" : "select",
        "method" : "GET",
        "parentParams" : [ "username" ],
        "rollupKeys" : [ ],
        "params" : [ {
          "key" : "fq",
          "value" : "{!field f=owner_s v=$username}"
        }, {
          "key" : "q",
          "value" : "*:*"
        } ],
        "headers" : [ ],
        "asyncConfig" : {
          "enabled" : false,
          "asyncId" : "flo"
        },
        "type" : "sub-query",
        "skip" : false,
        "label" : "User Companies: query for companies",
        "condition" : "request.hasParam(\"username\") && !request.hasParam(\"portfolio\")",
        "licensed" : true,
        "secretSourceStageId" : "flo"
      }, {
        "type" : "sub-query",
        "id" : "e9",
        "key" : "company-buckets",
        "collection" : "Finance",
        "handler" : "select",
        "method" : "GET",
        "parentParams" : [ "portfolio" ],
        "rollupKeys" : [ ],
        "params" : [ {
          "key" : "fq",
          "value" : "{!field f=unique_bucket_id_s v=$portfolio}"
        }, {
          "key" : "q",
          "value" : "*:*"
        } ],
        "headers" : [ ],
        "asyncConfig" : {
          "enabled" : false,
          "asyncId" : "e9"
        },
        "type" : "sub-query",
        "skip" : false,
        "label" : "User Portfolio: query for companies within portfolio",
        "condition" : "request.hasParam(\"portfolio\")",
        "licensed" : true,
        "secretSourceStageId" : "e9"
      }, {
        "type" : "javascript-query",
        "id" : "2re",
        "script" : "if (ctx.hasProperty('company-buckets')) {\n  var company_buckets = ctx.getProperty('company-buckets');\n  logger.info('Company Portfolios: has results!');\n  if (company_buckets.response !== null\n        && company_buckets.response.docs !== null\n        && company_buckets.response.docs.length > 0) {\n    var bucket_docs = company_buckets.response.docs;\n    var company_disjunction = '(';\n    for (var i = 0; i < bucket_docs.length; i++) {\n    \tvar ticker = bucket_docs[i].ticker_s;\n      \tvar company_name = bucket_docs[i].company_name_s;\n\t\tvar weight = bucket_docs[i].weight_d;\n        logger.info('Company Portfolios: adding boost for ' + company_name);\n      \trequest.addParam('bq', \"entity_stock_ticker_mv_ss:\" + ticker + \"*^10\");\n      \trequest.addParam('bq', \"ticker_s:(\" + ticker + \")^10\");\n      \trequest.addParam('bq', \"title_t:\" + company_name + \"^20\");\n      \trequest.addParam('bq', \"title_t:\" + ticker + \"^100\");\n        if (i > 0) {\n          company_disjunction = company_disjunction + \" OR \";\n        }\n        company_disjunction = company_disjunction + \"ticker_s:\" + ticker + \" OR entity_stock_ticker_mv_ss:\" + ticker + \" OR title_t:\" + ticker + \" OR title_t:\\\"\" + company_name + \"\\\"\";\n    }\n    company_disjunction = company_disjunction + ')';\n    request.addParam('fq', company_disjunction);\n  }\n}",
        "type" : "javascript-query",
        "skip" : false,
        "label" : "User Companies: extract companies and boost",
        "licensed" : true,
        "secretSourceStageId" : "2re"
      }, {
        "type" : "facet",
        "id" : "d53dccad-087d-4aa1-bb3f-a3e20b39fa34",
        "fieldFacets" : [ {
          "field" : "_lw_data_source_s",
          "minCount" : 1,
          "missing" : false
        }, {
          "field" : "ticker_s",
          "minCount" : 1,
          "missing" : false
        }, {
          "field" : "entity_person_hv_ss",
          "minCount" : 1,
          "missing" : false
        }, {
          "field" : "entity_company_hv_ss",
          "minCount" : 1,
          "missing" : false
        }, {
          "field" : "Company_Events_ss",
          "minCount" : 1,
          "missing" : false
        }, {
          "field" : "industry_tags_hv_ss",
          "minCount" : 1,
          "missing" : false
        }, {
          "field" : "entity_country_hv_ss",
          "minCount" : 1,
          "missing" : false
        }, {
          "field" : "city_state_s_hier_ss",
          "minCount" : 1,
          "missing" : false
        }, {
          "field" : "city_state_s_hier_ss_parent_ss",
          "minCount" : 1,
          "missing" : false
        }, {
          "field" : "sector_industry_s_hier_ss",
          "minCount" : 1,
          "missing" : false
        }, {
          "field" : "sector_industry_s_hier_ss_parent_ss",
          "minCount" : 1,
          "missing" : false
        } ],
        "type" : "facet",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "d53dccad-087d-4aa1-bb3f-a3e20b39fa34",
        "properties" : {
          "autoCreated" : true
        }
      }, {
        "type" : "search-fields",
        "id" : "7v5",
        "rows" : 10,
        "start" : 0,
        "queryFields" : [ ],
        "returnFields" : [ "*", "score" ],
        "type" : "search-fields",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "7v5"
      }, {
        "type" : "solr-query",
        "id" : "0028257e-a5f6-4697-ab45-3f12e6e366e6",
        "httpMethod" : "POST",
        "allowFederatedSearch" : false,
        "type" : "solr-query",
        "skip" : false,
        "responseSignalsEnabled" : true,
        "licensed" : true,
        "secretSourceStageId" : "0028257e-a5f6-4697-ab45-3f12e6e366e6"
      }, {
        "type" : "javascript-query",
        "id" : "efp",
        "script" : "function(request, response, ctx, collection, solrServer, solrServerFactory) {\n  if (ctx.hasProperty(\"co_answer_card_company\")) {\n    var answer_card_content = ctx.getProperty(\"co_answer_card_company\") + \"'s \";\n    answer_card_content = answer_card_content + ctx.getProperty(\"co_answer_card_metric_label\") + \" is \";\n    answer_card_content = answer_card_content + ctx.getProperty(\"co_answer_card_metric_value\");\n    response.initialEntity.appendString(\"co_answer_card_content\", answer_card_content);\n  }\n}",
        "type" : "javascript-query",
        "skip" : false,
        "label" : "Augment with Answer Card Data",
        "licensed" : true,
        "secretSourceStageId" : "efp"
      } ],
      "properties" : {
        "secretSourcePipelineId" : "Finance"
      }
    }, {
      "id" : "Finance_items_for_item_recommendations",
      "stages" : [ {
        "type" : "item-recommendation",
        "id" : "item-rec",
        "numRecommendations" : 10,
        "modelID" : "Finance_recommender",
        "collection" : "Finance_items_for_item_recommendations",
        "itemIdParam" : "item_id",
        "resultsLocation" : "As Boosts",
        "itemIdField" : "itemId",
        "otherItemIdField" : "otherItemId",
        "similarityScoreField" : "sim",
        "modelIdField" : "modelId",
        "scaleRange" : {
          "scaleMin" : 5.0,
          "scaleMax" : 15.0
        },
        "foldInUpdates" : true,
        "boostingMethod" : "query-param",
        "boostingParam" : "boost",
        "boostFieldName" : "id",
        "type" : "item-recommendation",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "item-rec"
      }, {
        "type" : "text-tagger",
        "id" : "8b0d7803-1faf-47b5-9217-821937c6cf7f",
        "useEmbeddedSolrServer" : false,
        "paramToTag" : "q",
        "spell_corrections_enabled" : true,
        "phrase_boosting_enabled" : true,
        "tail_rewrites_enabled" : true,
        "phraseBoost" : 2.0,
        "phraseSlop" : 10,
        "synonymExpansionBoost" : 2.0,
        "synonym_expansion_enabled" : true,
        "overlaps" : "ALL",
        "params" : [ ],
        "type" : "text-tagger",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "8b0d7803-1faf-47b5-9217-821937c6cf7f"
      }, {
        "type" : "recommendation",
        "id" : "d513e07f-68c3-4cb7-bad1-9e5dbb33b04c",
        "numRecommendations" : 10,
        "numSignals" : 100,
        "aggrType" : "click@doc_id,filters,query",
        "boostId" : "id",
        "boostingMethod" : "query-param",
        "boostingParam" : "boost",
        "scaleRange" : {
          "scaleMin" : 1.1,
          "scaleMax" : 5.0
        },
        "queryParams" : [ {
          "key" : "qf",
          "value" : "query_t"
        }, {
          "key" : "pf",
          "value" : "query_t^50"
        }, {
          "key" : "pf",
          "value" : "query_t~3^20"
        }, {
          "key" : "pf2",
          "value" : "query_t^20"
        }, {
          "key" : "pf2",
          "value" : "query_t~3^10"
        }, {
          "key" : "pf3",
          "value" : "query_t^10"
        }, {
          "key" : "pf3",
          "value" : "query_t~3^5"
        }, {
          "key" : "boost",
          "value" : "map(query({!field f=query_s v=$q}),0,0,1,20)"
        }, {
          "key" : "mm",
          "value" : "50%"
        }, {
          "key" : "defType",
          "value" : "edismax"
        }, {
          "key" : "sort",
          "value" : "score desc, weight_d desc"
        } ],
        "rollupField" : "doc_id_s",
        "rollupWeightField" : "weight_d",
        "weightExpression" : "math:log(weight_d + 1) + 10 * math:log(score+1)",
        "rollupWeightStrategy" : "max",
        "asyncConfig" : {
          "enabled" : false,
          "asyncId" : "d513e07f-68c3-4cb7-bad1-9e5dbb33b04c"
        },
        "type" : "recommendation",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "d513e07f-68c3-4cb7-bad1-9e5dbb33b04c"
      }, {
        "type" : "search-fields",
        "id" : "f8c2f991-4d21-49f2-95c9-b3b520e57f9b",
        "rows" : 10,
        "start" : 0,
        "queryFields" : [ ],
        "returnFields" : [ "*", "score" ],
        "type" : "search-fields",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "f8c2f991-4d21-49f2-95c9-b3b520e57f9b"
      }, {
        "type" : "facet",
        "id" : "12e55765-ee59-4583-aafe-142d5e1b78d1",
        "fieldFacets" : [ ],
        "type" : "facet",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "12e55765-ee59-4583-aafe-142d5e1b78d1"
      }, {
        "type" : "query-rules",
        "id" : "380ee52c-eae2-45d3-bf02-55e165a12170",
        "useEmbeddedSolrServer" : false,
        "useOriginalQueryIfNoRulesMatch" : true,
        "handler" : "select",
        "method" : "POST",
        "params" : [ ],
        "headers" : [ ],
        "asyncConfig" : {
          "enabled" : false,
          "asyncId" : "380ee52c-eae2-45d3-bf02-55e165a12170"
        },
        "type" : "query-rules",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "380ee52c-eae2-45d3-bf02-55e165a12170"
      }, {
        "type" : "solr-query",
        "id" : "202583f8-6922-42b2-81b5-c7f3668c9f35",
        "httpMethod" : "POST",
        "allowFederatedSearch" : false,
        "type" : "solr-query",
        "skip" : false,
        "responseSignalsEnabled" : true,
        "licensed" : true,
        "secretSourceStageId" : "202583f8-6922-42b2-81b5-c7f3668c9f35"
      }, {
        "type" : "query-rules-augment-response",
        "id" : "89d248cc-a221-419b-88d9-d03650f546ec",
        "facetLabelParseDelimiter" : "||",
        "type" : "query-rules-augment-response",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "89d248cc-a221-419b-88d9-d03650f546ec"
      } ],
      "properties" : {
        "secretSourcePipelineId" : "Finance_items_for_item_recommendations"
      }
    }, {
      "id" : "Finance_items_for_user_recommendations",
      "stages" : [ {
        "type" : "user-recommendation",
        "id" : "user-rec",
        "numRecommendations" : 10,
        "modelID" : "Finance_recommender",
        "collection" : "Finance_items_for_user_recommendations",
        "userIdParam" : "user_id",
        "resultsLocation" : "As Boosts",
        "userIdField" : "userId",
        "itemIdField" : "itemId",
        "weightField" : "weight",
        "modelIdField" : "modelId",
        "scaleRange" : {
          "scaleMin" : 5.0,
          "scaleMax" : 15.0
        },
        "foldInUpdates" : true,
        "rawSignalsCollection" : "Finance_signals",
        "modelCollection" : "Finance_recommender_models",
        "boostingMethod" : "query-param",
        "boostingParam" : "boost",
        "boostFieldName" : "id",
        "type" : "user-recommendation",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "user-rec"
      }, {
        "type" : "text-tagger",
        "id" : "e3e9a3fd-f07c-4459-95cf-03fe0fdfcab7",
        "useEmbeddedSolrServer" : false,
        "paramToTag" : "q",
        "spell_corrections_enabled" : true,
        "phrase_boosting_enabled" : true,
        "tail_rewrites_enabled" : true,
        "phraseBoost" : 2.0,
        "phraseSlop" : 10,
        "synonymExpansionBoost" : 2.0,
        "synonym_expansion_enabled" : true,
        "overlaps" : "ALL",
        "params" : [ ],
        "type" : "text-tagger",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "e3e9a3fd-f07c-4459-95cf-03fe0fdfcab7"
      }, {
        "type" : "recommendation",
        "id" : "191da835-4d72-4be6-86cb-2048cc34ae21",
        "numRecommendations" : 10,
        "numSignals" : 100,
        "aggrType" : "click@doc_id,filters,query",
        "boostId" : "id",
        "boostingMethod" : "query-param",
        "boostingParam" : "boost",
        "scaleRange" : {
          "scaleMin" : 1.1,
          "scaleMax" : 5.0
        },
        "queryParams" : [ {
          "key" : "qf",
          "value" : "query_t"
        }, {
          "key" : "pf",
          "value" : "query_t^50"
        }, {
          "key" : "pf",
          "value" : "query_t~3^20"
        }, {
          "key" : "pf2",
          "value" : "query_t^20"
        }, {
          "key" : "pf2",
          "value" : "query_t~3^10"
        }, {
          "key" : "pf3",
          "value" : "query_t^10"
        }, {
          "key" : "pf3",
          "value" : "query_t~3^5"
        }, {
          "key" : "boost",
          "value" : "map(query({!field f=query_s v=$q}),0,0,1,20)"
        }, {
          "key" : "mm",
          "value" : "50%"
        }, {
          "key" : "defType",
          "value" : "edismax"
        }, {
          "key" : "sort",
          "value" : "score desc, weight_d desc"
        } ],
        "rollupField" : "doc_id_s",
        "rollupWeightField" : "weight_d",
        "weightExpression" : "math:log(weight_d + 1) + 10 * math:log(score+1)",
        "rollupWeightStrategy" : "max",
        "asyncConfig" : {
          "enabled" : false,
          "asyncId" : "191da835-4d72-4be6-86cb-2048cc34ae21"
        },
        "type" : "recommendation",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "191da835-4d72-4be6-86cb-2048cc34ae21"
      }, {
        "type" : "search-fields",
        "id" : "01f82224-7794-4b80-a66d-56287f0679ff",
        "rows" : 10,
        "start" : 0,
        "queryFields" : [ ],
        "returnFields" : [ "*", "score" ],
        "type" : "search-fields",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "01f82224-7794-4b80-a66d-56287f0679ff"
      }, {
        "type" : "facet",
        "id" : "8ac68ad8-2251-44cd-8cc1-9a45d4829c4d",
        "fieldFacets" : [ ],
        "type" : "facet",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "8ac68ad8-2251-44cd-8cc1-9a45d4829c4d"
      }, {
        "type" : "query-rules",
        "id" : "b2a9b536-69b0-4871-b6e6-4578abd1e46c",
        "useEmbeddedSolrServer" : false,
        "useOriginalQueryIfNoRulesMatch" : true,
        "handler" : "select",
        "method" : "POST",
        "params" : [ ],
        "headers" : [ ],
        "asyncConfig" : {
          "enabled" : false,
          "asyncId" : "b2a9b536-69b0-4871-b6e6-4578abd1e46c"
        },
        "type" : "query-rules",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "b2a9b536-69b0-4871-b6e6-4578abd1e46c"
      }, {
        "type" : "solr-query",
        "id" : "275099c9-c2dd-4b71-8665-6f0570358080",
        "httpMethod" : "POST",
        "allowFederatedSearch" : false,
        "type" : "solr-query",
        "skip" : false,
        "responseSignalsEnabled" : true,
        "licensed" : true,
        "secretSourceStageId" : "275099c9-c2dd-4b71-8665-6f0570358080"
      }, {
        "type" : "query-rules-augment-response",
        "id" : "02c748eb-8115-4f86-92b7-46c36d297b25",
        "facetLabelParseDelimiter" : "||",
        "type" : "query-rules-augment-response",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "02c748eb-8115-4f86-92b7-46c36d297b25"
      } ],
      "properties" : {
        "secretSourcePipelineId" : "Finance_items_for_user_recommendations"
      }
    }, {
      "id" : "Finance_rules",
      "stages" : [ {
        "type" : "text-tagger",
        "id" : "4df4ccfd-8020-4139-8b4a-5174e3ae1880",
        "useEmbeddedSolrServer" : false,
        "paramToTag" : "q",
        "spell_corrections_enabled" : true,
        "phrase_boosting_enabled" : true,
        "tail_rewrites_enabled" : true,
        "phraseBoost" : 2.0,
        "phraseSlop" : 10,
        "synonymExpansionBoost" : 2.0,
        "synonym_expansion_enabled" : true,
        "overlaps" : "ALL",
        "params" : [ ],
        "type" : "text-tagger",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "4df4ccfd-8020-4139-8b4a-5174e3ae1880"
      }, {
        "type" : "recommendation",
        "id" : "6132dbe2-3fd3-4ff8-8b3d-f2eec62dcc30",
        "numRecommendations" : 10,
        "numSignals" : 100,
        "aggrType" : "click@doc_id,filters,query",
        "boostId" : "id",
        "boostingMethod" : "query-param",
        "boostingParam" : "boost",
        "queryParams" : [ {
          "key" : "qf",
          "value" : "query_t"
        }, {
          "key" : "pf",
          "value" : "query_t^50"
        }, {
          "key" : "pf",
          "value" : "query_t~3^20"
        }, {
          "key" : "pf2",
          "value" : "query_t^20"
        }, {
          "key" : "pf2",
          "value" : "query_t~3^10"
        }, {
          "key" : "pf3",
          "value" : "query_t^10"
        }, {
          "key" : "pf3",
          "value" : "query_t~3^5"
        }, {
          "key" : "boost",
          "value" : "map(query({!field f=query_s v=$q}),0,0,1,20)"
        }, {
          "key" : "mm",
          "value" : "50%"
        }, {
          "key" : "defType",
          "value" : "edismax"
        }, {
          "key" : "sort",
          "value" : "score desc, weight_d desc"
        } ],
        "rollupField" : "doc_id_s",
        "rollupWeightField" : "weight_d",
        "weightExpression" : "math:log(weight_d + 1) + 10 * math:log(score+1)",
        "rollupWeightStrategy" : "max",
        "asyncConfig" : {
          "enabled" : false,
          "asyncId" : "6132dbe2-3fd3-4ff8-8b3d-f2eec62dcc30"
        },
        "type" : "recommendation",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "6132dbe2-3fd3-4ff8-8b3d-f2eec62dcc30"
      }, {
        "type" : "search-fields",
        "id" : "4592e622-eebb-46b7-b102-bd50694c0a60",
        "rows" : 10,
        "start" : 0,
        "queryFields" : [ ],
        "returnFields" : [ "*", "score" ],
        "type" : "search-fields",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "4592e622-eebb-46b7-b102-bd50694c0a60"
      }, {
        "type" : "facet",
        "id" : "2f406db4-b008-4b23-9569-b0f7403d106d",
        "fieldFacets" : [ ],
        "type" : "facet",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "2f406db4-b008-4b23-9569-b0f7403d106d"
      }, {
        "type" : "query-rules",
        "id" : "0aa2c687-f749-44cc-b20a-d11e560477cf",
        "useEmbeddedSolrServer" : false,
        "useOriginalQueryIfNoRulesMatch" : true,
        "handler" : "select",
        "method" : "POST",
        "params" : [ ],
        "headers" : [ ],
        "asyncConfig" : {
          "enabled" : false,
          "asyncId" : "0aa2c687-f749-44cc-b20a-d11e560477cf"
        },
        "type" : "query-rules",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "0aa2c687-f749-44cc-b20a-d11e560477cf"
      }, {
        "type" : "solr-query",
        "id" : "08340cac-ef01-4b24-b743-615bc70b9c22",
        "httpMethod" : "POST",
        "allowFederatedSearch" : false,
        "type" : "solr-query",
        "skip" : false,
        "responseSignalsEnabled" : true,
        "licensed" : true,
        "secretSourceStageId" : "08340cac-ef01-4b24-b743-615bc70b9c22"
      }, {
        "type" : "query-rules-augment-response",
        "id" : "cd18e6d7-a6a5-4b15-93e3-5f8df635481b",
        "facetLabelParseDelimiter" : "||",
        "type" : "query-rules-augment-response",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "cd18e6d7-a6a5-4b15-93e3-5f8df635481b"
      } ],
      "properties" : {
        "secretSourcePipelineId" : "Finance_rules"
      }
    }, {
      "id" : "Finance_signals",
      "stages" : [ {
        "type" : "recommendation",
        "id" : "fdcc7f93-be19-4c6f-82c1-8e4d7d860ae2",
        "numRecommendations" : 10,
        "numSignals" : 100,
        "aggrType" : "click@doc_id,filters,query",
        "boostId" : "id",
        "boostingMethod" : "query-param",
        "boostingParam" : "boost",
        "queryParams" : [ {
          "key" : "qf",
          "value" : "query_t"
        }, {
          "key" : "pf",
          "value" : "query_t^50"
        }, {
          "key" : "pf",
          "value" : "query_t~3^20"
        }, {
          "key" : "pf2",
          "value" : "query_t^20"
        }, {
          "key" : "pf2",
          "value" : "query_t~3^10"
        }, {
          "key" : "pf3",
          "value" : "query_t^10"
        }, {
          "key" : "pf3",
          "value" : "query_t~3^5"
        }, {
          "key" : "boost",
          "value" : "map(query({!field f=query_s v=$q}),0,0,1,20)"
        }, {
          "key" : "mm",
          "value" : "50%"
        }, {
          "key" : "defType",
          "value" : "edismax"
        }, {
          "key" : "sort",
          "value" : "score desc, weight_d desc"
        } ],
        "rollupField" : "doc_id_s",
        "rollupWeightField" : "weight_d",
        "weightExpression" : "math:log(weight_d + 1) + 10 * math:log(score+1)",
        "rollupWeightStrategy" : "max",
        "asyncConfig" : {
          "enabled" : false,
          "asyncId" : "fdcc7f93-be19-4c6f-82c1-8e4d7d860ae2"
        },
        "type" : "recommendation",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "fdcc7f93-be19-4c6f-82c1-8e4d7d860ae2"
      }, {
        "type" : "search-fields",
        "id" : "b940656d-b788-4080-b3cd-93142d3e83d6",
        "rows" : 10,
        "start" : 0,
        "queryFields" : [ ],
        "returnFields" : [ "*", "score" ],
        "type" : "search-fields",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "b940656d-b788-4080-b3cd-93142d3e83d6"
      }, {
        "type" : "facet",
        "id" : "59edef9e-a007-4625-afba-7a1cc33eeef5",
        "fieldFacets" : [ {
          "field" : "type",
          "minCount" : 1,
          "missing" : false
        } ],
        "type" : "facet",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "59edef9e-a007-4625-afba-7a1cc33eeef5"
      }, {
        "type" : "solr-query",
        "id" : "329269c0-3792-4594-8ec9-abc6b6faf1cf",
        "httpMethod" : "POST",
        "allowFederatedSearch" : false,
        "type" : "solr-query",
        "skip" : false,
        "responseSignalsEnabled" : true,
        "licensed" : true,
        "secretSourceStageId" : "329269c0-3792-4594-8ec9-abc6b6faf1cf"
      } ],
      "properties" : {
        "secretSourcePipelineId" : "Finance_signals"
      }
    }, {
      "id" : "Finance_signals_aggr",
      "stages" : [ {
        "type" : "recommendation",
        "id" : "b083a011-bfd6-4ba6-9366-9b639ede912a",
        "numRecommendations" : 10,
        "numSignals" : 100,
        "aggrType" : "click@doc_id,filters,query",
        "boostId" : "id",
        "boostingMethod" : "query-param",
        "boostingParam" : "boost",
        "queryParams" : [ {
          "key" : "qf",
          "value" : "query_t"
        }, {
          "key" : "pf",
          "value" : "query_t^50"
        }, {
          "key" : "pf",
          "value" : "query_t~3^20"
        }, {
          "key" : "pf2",
          "value" : "query_t^20"
        }, {
          "key" : "pf2",
          "value" : "query_t~3^10"
        }, {
          "key" : "pf3",
          "value" : "query_t^10"
        }, {
          "key" : "pf3",
          "value" : "query_t~3^5"
        }, {
          "key" : "boost",
          "value" : "map(query({!field f=query_s v=$q}),0,0,1,20)"
        }, {
          "key" : "mm",
          "value" : "50%"
        }, {
          "key" : "defType",
          "value" : "edismax"
        }, {
          "key" : "sort",
          "value" : "score desc, weight_d desc"
        } ],
        "rollupField" : "doc_id_s",
        "rollupWeightField" : "weight_d",
        "weightExpression" : "math:log(weight_d + 1) + 10 * math:log(score+1)",
        "rollupWeightStrategy" : "max",
        "asyncConfig" : {
          "enabled" : false,
          "asyncId" : "b083a011-bfd6-4ba6-9366-9b639ede912a"
        },
        "type" : "recommendation",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "b083a011-bfd6-4ba6-9366-9b639ede912a"
      }, {
        "type" : "search-fields",
        "id" : "a11e5076-4494-4e0e-975e-8b95ec1d37c2",
        "rows" : 10,
        "start" : 0,
        "queryFields" : [ ],
        "returnFields" : [ "*", "score" ],
        "type" : "search-fields",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "a11e5076-4494-4e0e-975e-8b95ec1d37c2"
      }, {
        "type" : "facet",
        "id" : "69082f6a-25d2-4acc-a5e5-33d5e88ed4b6",
        "fieldFacets" : [ ],
        "type" : "facet",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "69082f6a-25d2-4acc-a5e5-33d5e88ed4b6"
      }, {
        "type" : "solr-query",
        "id" : "74bae31b-e151-4a95-b8cf-5d7f7c467013",
        "httpMethod" : "POST",
        "allowFederatedSearch" : false,
        "type" : "solr-query",
        "skip" : false,
        "responseSignalsEnabled" : true,
        "licensed" : true,
        "secretSourceStageId" : "74bae31b-e151-4a95-b8cf-5d7f7c467013"
      } ],
      "properties" : {
        "secretSourcePipelineId" : "Finance_signals_aggr"
      }
    }, {
      "id" : "accounts",
      "stages" : [ {
        "type" : "search-fields",
        "id" : "32896dc4-96a8-4944-addf-8a1e5d90e501",
        "rows" : 10,
        "start" : 0,
        "queryFields" : [ ],
        "returnFields" : [ "*", "score" ],
        "type" : "search-fields",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "32896dc4-96a8-4944-addf-8a1e5d90e501"
      }, {
        "type" : "facet",
        "id" : "8ad983d2-52a2-479d-834c-947361f5b8a9",
        "fieldFacets" : [ ],
        "type" : "facet",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "8ad983d2-52a2-479d-834c-947361f5b8a9"
      }, {
        "type" : "solr-query",
        "id" : "4528c59e-ffe3-45c0-8f23-97910c87bb6a",
        "httpMethod" : "POST",
        "allowFederatedSearch" : false,
        "type" : "solr-query",
        "skip" : false,
        "responseSignalsEnabled" : true,
        "licensed" : true,
        "secretSourceStageId" : "4528c59e-ffe3-45c0-8f23-97910c87bb6a"
      } ],
      "properties" : {
        "secretSourcePipelineId" : "accounts"
      }
    }, {
      "id" : "buckets",
      "stages" : [ {
        "type" : "facet",
        "id" : "88e0b352-28f2-46cc-b192-83488ee295e4",
        "fieldFacets" : [ ],
        "type" : "facet",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "88e0b352-28f2-46cc-b192-83488ee295e4"
      }, {
        "type" : "solr-query",
        "id" : "3a2f49b6-a5bf-4183-b4f6-ac95fd57d93f",
        "httpMethod" : "POST",
        "allowFederatedSearch" : false,
        "type" : "solr-query",
        "skip" : false,
        "responseSignalsEnabled" : true,
        "licensed" : true,
        "secretSourceStageId" : "3a2f49b6-a5bf-4183-b4f6-ac95fd57d93f"
      } ],
      "properties" : {
        "secretSourcePipelineId" : "buckets"
      }
    }, {
      "id" : "clients",
      "stages" : [ {
        "type" : "set-params",
        "id" : "xgn",
        "params" : [ {
          "key" : "facet.range",
          "value" : "total_aum_f",
          "policy" : "append"
        }, {
          "key" : "facet.range.start",
          "value" : "0",
          "policy" : "append"
        }, {
          "key" : "facet.range.end",
          "value" : "400000",
          "policy" : "append"
        }, {
          "key" : "facet.range.gap",
          "value" : "50000",
          "policy" : "append"
        } ],
        "type" : "set-params",
        "skip" : false,
        "label" : "AUM Facet",
        "licensed" : true,
        "secretSourceStageId" : "xgn"
      }, {
        "type" : "search-fields",
        "id" : "kqo",
        "rows" : 10,
        "start" : 0,
        "queryFields" : [ ],
        "returnFields" : [ "*", "score" ],
        "type" : "search-fields",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "kqo"
      }, {
        "type" : "facet",
        "id" : "1784dd15-1e55-43e7-a2c4-66195e3769bb",
        "fieldFacets" : [ {
          "field" : "city_state_s_hier_ss",
          "minCount" : 1,
          "missing" : false
        }, {
          "field" : "city_state_s_hier_ss_parent_ss",
          "minCount" : 1,
          "missing" : false
        }, {
          "field" : "account_type_ss",
          "minCount" : 1,
          "missing" : false
        } ],
        "type" : "facet",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "1784dd15-1e55-43e7-a2c4-66195e3769bb"
      }, {
        "type" : "solr-query",
        "id" : "f3e5e3f7-ca78-4bc5-969d-7d1342612c0f",
        "httpMethod" : "POST",
        "allowFederatedSearch" : false,
        "type" : "solr-query",
        "skip" : false,
        "responseSignalsEnabled" : true,
        "licensed" : true,
        "secretSourceStageId" : "f3e5e3f7-ca78-4bc5-969d-7d1342612c0f"
      } ],
      "properties" : {
        "secretSourcePipelineId" : "clients"
      }
    }, {
      "id" : "company-news",
      "stages" : [ {
        "type" : "sub-query",
        "id" : "mm8",
        "key" : "company-buckets",
        "collection" : "Finance",
        "handler" : "select",
        "method" : "GET",
        "parentParams" : [ "company-ticker" ],
        "rollupKeys" : [ ],
        "params" : [ {
          "key" : "fq",
          "value" : "{!field f=ticker_s v=$company-ticker}"
        }, {
          "key" : "q",
          "value" : "*:*"
        }, {
          "key" : "fq",
          "value" : "_lw_data_source_s:sp500"
        } ],
        "headers" : [ ],
        "asyncConfig" : {
          "enabled" : false,
          "asyncId" : "mm8"
        },
        "type" : "sub-query",
        "skip" : false,
        "label" : "Get Company",
        "condition" : "request.hasParam(\"company-ticker\")",
        "licensed" : true,
        "secretSourceStageId" : "mm8"
      }, {
        "type" : "javascript-query",
        "id" : "9",
        "script" : "if (ctx.hasProperty('company-buckets')) {\n  var company_buckets = ctx.getProperty('company-buckets');\n  logger.info('Company Portfolios: has results!');\n  if (company_buckets.response !== null\n        && company_buckets.response.docs !== null\n        && company_buckets.response.docs.length > 0) {\n    var bucket_docs = company_buckets.response.docs;\n    var company_disjunction = '(';\n    for (var i = 0; i < bucket_docs.length; i++) {\n    \tvar ticker = bucket_docs[i].ticker_s;\n      \tvar company_name = bucket_docs[i].company_name_s;\n\t\tvar weight = bucket_docs[i].weight_d;\n        logger.info('Company Portfolios: adding boost for ' + company_name);\n      \trequest.addParam('bq', \"entity_stock_ticker_mv_ss:\" + ticker + \"*^10\");\n      \trequest.addParam('bq', \"ticker_s:(\" + ticker + \")^10\");\n      \trequest.addParam('bq', \"title_t:\" + company_name + \"^20\");\n      \trequest.addParam('bq', \"title_t:\" + ticker + \"^100\");\n        if (i > 0) {\n          company_disjunction = company_disjunction + \" OR \";\n        }\n        company_disjunction = company_disjunction + \"ticker_s:\" + ticker + \" OR entity_stock_ticker_mv_ss:\" + ticker + \"* OR title_t:\" + ticker + \" OR title_t:\\\"\" + company_name + \"\\\"\";\n    }\n    company_disjunction = company_disjunction + ')';\n    request.addParam('fq', company_disjunction);\n  }\n}",
        "type" : "javascript-query",
        "skip" : false,
        "label" : "Filter By Company",
        "condition" : "",
        "licensed" : true,
        "secretSourceStageId" : "9"
      }, {
        "type" : "recommendation",
        "id" : "f6d1d9b1-3ed6-4f7f-8bbe-1e11ec7bf4c7",
        "numRecommendations" : 10,
        "numSignals" : 100,
        "aggrType" : "click@doc_id,filters,query",
        "boostId" : "id",
        "boostingMethod" : "query-param",
        "boostingParam" : "boost",
        "queryParams" : [ {
          "key" : "qf",
          "value" : "query_t"
        }, {
          "key" : "pf",
          "value" : "query_t^50"
        }, {
          "key" : "pf",
          "value" : "query_t~3^20"
        }, {
          "key" : "pf2",
          "value" : "query_t^20"
        }, {
          "key" : "pf2",
          "value" : "query_t~3^10"
        }, {
          "key" : "pf3",
          "value" : "query_t^10"
        }, {
          "key" : "pf3",
          "value" : "query_t~3^5"
        }, {
          "key" : "boost",
          "value" : "map(query({!field f=query_s v=$q}),0,0,1,20)"
        }, {
          "key" : "mm",
          "value" : "50%"
        }, {
          "key" : "defType",
          "value" : "edismax"
        }, {
          "key" : "sort",
          "value" : "score desc, weight_d desc"
        } ],
        "rollupField" : "doc_id_s",
        "rollupWeightField" : "weight_d",
        "weightExpression" : "math:log(weight_d + 1) + 10 * math:log(score+1)",
        "rollupWeightStrategy" : "max",
        "asyncConfig" : {
          "enabled" : false,
          "asyncId" : "f6d1d9b1-3ed6-4f7f-8bbe-1e11ec7bf4c7"
        },
        "type" : "recommendation",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "f6d1d9b1-3ed6-4f7f-8bbe-1e11ec7bf4c7"
      }, {
        "type" : "search-fields",
        "id" : "c2105f8b-f55f-4114-9468-9d7e6072973e",
        "rows" : 10,
        "start" : 0,
        "queryFields" : [ ],
        "returnFields" : [ "*", "score" ],
        "type" : "search-fields",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "c2105f8b-f55f-4114-9468-9d7e6072973e"
      }, {
        "type" : "facet",
        "id" : "8dd6385a-716a-47e8-aeb6-494934b2ef43",
        "fieldFacets" : [ ],
        "type" : "facet",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "8dd6385a-716a-47e8-aeb6-494934b2ef43"
      }, {
        "type" : "solr-query",
        "id" : "814d21e1-f7df-4cdb-bd3d-8e87d906b348",
        "httpMethod" : "POST",
        "allowFederatedSearch" : false,
        "type" : "solr-query",
        "skip" : false,
        "responseSignalsEnabled" : true,
        "licensed" : true,
        "secretSourceStageId" : "814d21e1-f7df-4cdb-bd3d-8e87d906b348"
      } ],
      "properties" : {
        "secretSourcePipelineId" : "company-news"
      }
    }, {
      "id" : "finance-default",
      "stages" : [ {
        "type" : "recommendation",
        "id" : "f6d1d9b1-3ed6-4f7f-8bbe-1e11ec7bf4c7",
        "numRecommendations" : 10,
        "numSignals" : 100,
        "aggrType" : "click@doc_id,filters,query",
        "boostId" : "id",
        "boostingMethod" : "query-param",
        "boostingParam" : "boost",
        "queryParams" : [ {
          "key" : "qf",
          "value" : "query_t"
        }, {
          "key" : "pf",
          "value" : "query_t^50"
        }, {
          "key" : "pf",
          "value" : "query_t~3^20"
        }, {
          "key" : "pf2",
          "value" : "query_t^20"
        }, {
          "key" : "pf2",
          "value" : "query_t~3^10"
        }, {
          "key" : "pf3",
          "value" : "query_t^10"
        }, {
          "key" : "pf3",
          "value" : "query_t~3^5"
        }, {
          "key" : "boost",
          "value" : "map(query({!field f=query_s v=$q}),0,0,1,20)"
        }, {
          "key" : "mm",
          "value" : "50%"
        }, {
          "key" : "defType",
          "value" : "edismax"
        }, {
          "key" : "sort",
          "value" : "score desc, weight_d desc"
        } ],
        "rollupField" : "doc_id_s",
        "rollupWeightField" : "weight_d",
        "weightExpression" : "math:log(weight_d + 1) + 10 * math:log(score+1)",
        "rollupWeightStrategy" : "max",
        "asyncConfig" : {
          "enabled" : false,
          "asyncId" : "f6d1d9b1-3ed6-4f7f-8bbe-1e11ec7bf4c7"
        },
        "type" : "recommendation",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "f6d1d9b1-3ed6-4f7f-8bbe-1e11ec7bf4c7"
      }, {
        "type" : "search-fields",
        "id" : "c2105f8b-f55f-4114-9468-9d7e6072973e",
        "rows" : 10,
        "start" : 0,
        "queryFields" : [ ],
        "returnFields" : [ "*", "score" ],
        "type" : "search-fields",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "c2105f8b-f55f-4114-9468-9d7e6072973e"
      }, {
        "type" : "facet",
        "id" : "8dd6385a-716a-47e8-aeb6-494934b2ef43",
        "fieldFacets" : [ ],
        "type" : "facet",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "8dd6385a-716a-47e8-aeb6-494934b2ef43"
      }, {
        "type" : "solr-query",
        "id" : "814d21e1-f7df-4cdb-bd3d-8e87d906b348",
        "httpMethod" : "POST",
        "allowFederatedSearch" : false,
        "type" : "solr-query",
        "skip" : false,
        "responseSignalsEnabled" : true,
        "licensed" : true,
        "secretSourceStageId" : "814d21e1-f7df-4cdb-bd3d-8e87d906b348"
      } ],
      "properties" : {
        "secretSourcePipelineId" : "finance-default"
      }
    }, {
      "id" : "historical",
      "stages" : [ {
        "type" : "facet",
        "id" : "d53dccad-087d-4aa1-bb3f-a3e20b39fa34",
        "fieldFacets" : [ {
          "field" : "_lw_data_source_s",
          "minCount" : 1,
          "missing" : false
        }, {
          "field" : "ticker_s",
          "minCount" : 1,
          "missing" : false
        }, {
          "field" : "entity_person_hv_ss",
          "minCount" : 1,
          "missing" : false
        }, {
          "field" : "entity_company_hv_ss",
          "minCount" : 1,
          "missing" : false
        }, {
          "field" : "Company_Events_ss",
          "minCount" : 1,
          "missing" : false
        }, {
          "field" : "industry_tags_hv_ss",
          "minCount" : 1,
          "missing" : false
        }, {
          "field" : "entity_country_hv_ss",
          "minCount" : 1,
          "missing" : false
        }, {
          "field" : "city_state_s_hier_ss",
          "minCount" : 1,
          "missing" : false
        }, {
          "field" : "city_state_s_hier_ss_parent_ss",
          "minCount" : 1,
          "missing" : false
        }, {
          "field" : "sector_industry_s_hier_ss",
          "minCount" : 1,
          "missing" : false
        }, {
          "field" : "sector_industry_s_hier_ss_parent_ss",
          "minCount" : 1,
          "missing" : false
        } ],
        "type" : "facet",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "d53dccad-087d-4aa1-bb3f-a3e20b39fa34",
        "properties" : {
          "autoCreated" : true
        }
      }, {
        "type" : "search-fields",
        "id" : "7v5",
        "rows" : 10,
        "start" : 0,
        "queryFields" : [ ],
        "returnFields" : [ "*", "score" ],
        "type" : "search-fields",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "7v5"
      }, {
        "type" : "solr-query",
        "id" : "0028257e-a5f6-4697-ab45-3f12e6e366e6",
        "httpMethod" : "POST",
        "allowFederatedSearch" : false,
        "type" : "solr-query",
        "skip" : false,
        "responseSignalsEnabled" : true,
        "licensed" : true,
        "secretSourceStageId" : "0028257e-a5f6-4697-ab45-3f12e6e366e6"
      } ],
      "properties" : {
        "secretSourcePipelineId" : "historical"
      }
    }, {
      "id" : "latest-news",
      "stages" : [ {
        "type" : "javascript-query",
        "id" : "79f",
        "script" : "if (ctx.hasProperty('company-buckets')) {\n  var company_buckets = ctx.getProperty('company-buckets');\n  logger.info('Company Portfolios: has results');\n  if (company_buckets.response !== null\n        && company_buckets.response.docs !== null\n        && company_buckets.response.docs.length > 0) {\n    var bucket_docs = company_buckets.response.docs;\n    for (var i = 0; i < bucket_docs.length; i++) {\n    \tvar ticker = bucket_docs[i].ticker_s;\n      \tvar company_name = bucket_docs[i].company_name_s;\n\t\tvar weight = bucket_docs[i].weight_d;\n      \trequest.addParam('bq', \"entity_stock_ticker_mv_ss:\" + ticker + \"*^10\");\n      \trequest.addParam('bq', \"ticker_s:\" + ticker + \"^10\");\n      \trequest.addParam('bq', \"title_t:\" + company_name + \"^20\");\n      \trequest.addParam('bq', \"title_t:\" + ticker + \"^100\");\n    }\n  }\n}",
        "type" : "javascript-query",
        "skip" : true,
        "label" : "User Portfolios: extract companies and boost",
        "licensed" : true,
        "secretSourceStageId" : "79f"
      }, {
        "type" : "sub-query",
        "id" : "oyk",
        "key" : "company-buckets",
        "collection" : "Finance",
        "handler" : "select",
        "method" : "GET",
        "parentParams" : [ "username" ],
        "rollupKeys" : [ ],
        "params" : [ {
          "key" : "fq",
          "value" : "{!field f=owner_s v=$username}"
        }, {
          "key" : "q",
          "value" : "*:*"
        } ],
        "headers" : [ ],
        "asyncConfig" : {
          "enabled" : false,
          "asyncId" : "oyk"
        },
        "type" : "sub-query",
        "skip" : false,
        "label" : "User Portfolios: query for portfolios",
        "condition" : "request.hasParam(\"username\")",
        "licensed" : true,
        "secretSourceStageId" : "oyk"
      }, {
        "type" : "javascript-query",
        "id" : "wzk",
        "script" : "var display_money = function(num) {\n  if (num > 1000000000) {\n    return '$' + (num / 1000000000).toFixed(2) + 'B';\n  } else if (num > 1000000) {\n    return '$' + (num / 1000000).toFixed(2) + 'M';\n  } else {\n    return '$' + (num / 1).toFixed(2);\n  }\n}\nfunction(request, response, ctx, collection, solrServer, solrServerFactory) {\n  var q = request.getFirstParam('q');\n  if(!q) {\n    return;  // To avoid NPA\n  }\n\n  var firstToken = q;\n  var remainder = '';\n\n  if (q.indexOf(' ') >= 0) {\n  \tfirstToken = q.substring(0, q.indexOf(' ')).replace(/\\(/, '');\n    remainder = q.substring(q.indexOf(' '), q.length);\n    remainder = remainder.trim();\n    remainder = remainder.replace(/\\s+/g, ' ');\n  }\n\n  logger.info('Answer card: first token is ' + firstToken);\n\n  if (!firstToken.match(/\\*/)) {\n    var query = new org.apache.solr.client.solrj.SolrQuery('ticker_s:'+firstToken.toUpperCase());\n    query.addFilterQuery('_lw_data_source_s:sp500');\n    query.setRows(1);\n    var results = solrServerFactory.getSolrServer('Finance').query(query).getResults();\n    if (results.size() > 0) {  // A ticker was found\n      var tickerResult = results.get(0);\n      var ticker  = tickerResult.get('ticker_s');\n      \n      var company_name = ticker;\n      var query_company_name = new org.apache.solr.client.solrj.SolrQuery('ticker_s:'+firstToken.toUpperCase());\n      query_company_name.addFilterQuery('_lw_data_source_s:sp500');\n      query_company_name.setRows(1);\n      var company_name_results = solrServerFactory.getSolrServer('Finance').query(query_company_name).getResults();\n      if (company_name_results.size() > 0) {\n      \tcompany_name  = company_name_results.get(0).get('company_name_t');\n      }\n      // TODO: other patterns\n      if (remainder.match(/ebitda/i)) {\n        var ebitda  = tickerResult.get('ebitda_f').toFixed(2);\n        logger.info('Answer Card: will append EBITDA to result: ' + ebitda);\n\n        ctx.setProperty(\"co_answer_card_company\", company_name);\n        ctx.setProperty(\"co_answer_card_metric_label\", \"EBITDA\");\n        ctx.setProperty(\"co_answer_card_metric_value\", display_money(ebitda));\n      } else if (remainder.match(/dividend/i)) {\n        var dividend  = tickerResult.get('div_yield_f').toFixed(2);\n        logger.info('Answer Card: will append dividend to result: ' + dividend);\n\n        ctx.setProperty(\"co_answer_card_company\", company_name);\n        ctx.setProperty(\"co_answer_card_metric_label\", \"dividend yield\");\n        ctx.setProperty(\"co_answer_card_metric_value\", dividend);\n      } else if (remainder.match(/eps/i) || remainder.match(/earnings/i)) {\n        var eps  = tickerResult.get('eps_fy1_f').toFixed(2);\n        logger.info('Answer Card: will append eps to result: ' + eps);\n\n        ctx.setProperty(\"co_answer_card_company\", company_name);\n        ctx.setProperty(\"co_answer_card_metric_label\", \"earnings per share\");\n        ctx.setProperty(\"co_answer_card_metric_value\", display_money(eps));\n      } else if (remainder.match(/beta/i)) {\n        var beta  = tickerResult.get('beta_f').toFixed(2);\n        logger.info('Answer Card: will append beta to result: ' + beta);\n\n        ctx.setProperty(\"co_answer_card_company\", company_name);\n        ctx.setProperty(\"co_answer_card_metric_label\", \"beta\");\n        ctx.setProperty(\"co_answer_card_metric_value\", beta);\n      }\n    }\n  }\n}\n",
        "type" : "javascript-query",
        "skip" : false,
        "label" : "Query for Answer Card Data",
        "licensed" : true,
        "secretSourceStageId" : "wzk"
      }, {
        "type" : "recommendation",
        "id" : "79f5f931-6027-42cc-9997-c98b7101c645",
        "numRecommendations" : 10,
        "numSignals" : 100,
        "aggrType" : "click@doc_id,filters,query",
        "boostId" : "id",
        "boostingMethod" : "query-param",
        "boostingParam" : "boost",
        "queryParams" : [ {
          "key" : "qf",
          "value" : "query_t"
        }, {
          "key" : "pf",
          "value" : "query_t^50"
        }, {
          "key" : "pf",
          "value" : "query_t~3^20"
        }, {
          "key" : "pf2",
          "value" : "query_t^20"
        }, {
          "key" : "pf2",
          "value" : "query_t~3^10"
        }, {
          "key" : "pf3",
          "value" : "query_t^10"
        }, {
          "key" : "pf3",
          "value" : "query_t~3^5"
        }, {
          "key" : "boost",
          "value" : "map(query({!field f=query_s v=$q}),0,0,1,20)"
        }, {
          "key" : "mm",
          "value" : "50%"
        }, {
          "key" : "defType",
          "value" : "edismax"
        }, {
          "key" : "sort",
          "value" : "score desc, weight_d desc"
        } ],
        "rollupField" : "doc_id_s",
        "rollupWeightField" : "weight_d",
        "weightExpression" : "math:log(weight_d + 1) + 10 * math:log(score+1)",
        "rollupWeightStrategy" : "max",
        "asyncConfig" : {
          "enabled" : false,
          "asyncId" : "79f5f931-6027-42cc-9997-c98b7101c645"
        },
        "type" : "recommendation",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "79f5f931-6027-42cc-9997-c98b7101c645"
      }, {
        "type" : "facet",
        "id" : "b68fc543-6dc8-4102-adea-92a969f4feef",
        "fieldFacets" : [ {
          "field" : "_lw_data_source_s",
          "minCount" : 1,
          "missing" : false
        }, {
          "field" : "ticker_s",
          "minCount" : 1,
          "missing" : false
        }, {
          "field" : "entity_person_hv_ss",
          "minCount" : 1,
          "missing" : false
        }, {
          "field" : "entity_company_hv_ss",
          "minCount" : 1,
          "missing" : false
        }, {
          "field" : "Company_Events_ss",
          "minCount" : 1,
          "missing" : false
        }, {
          "field" : "industry_tags_hv_ss",
          "minCount" : 1,
          "missing" : false
        }, {
          "field" : "entity_country_hv_ss",
          "minCount" : 1,
          "missing" : false
        }, {
          "field" : "city_state_s_hier_ss",
          "minCount" : 1,
          "missing" : false
        }, {
          "field" : "city_state_s_hier_ss_parent_ss",
          "minCount" : 1,
          "missing" : false
        }, {
          "field" : "sector_industry_s_hier_ss",
          "minCount" : 1,
          "missing" : false
        }, {
          "field" : "sector_industry_s_hier_ss_parent_ss",
          "minCount" : 1,
          "missing" : false
        } ],
        "type" : "facet",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "b68fc543-6dc8-4102-adea-92a969f4feef"
      }, {
        "type" : "set-params",
        "id" : "tz",
        "params" : [ {
          "key" : "bq",
          "value" : "description_t:*",
          "policy" : "append"
        }, {
          "key" : "bq",
          "value" : "og_description_t:* ",
          "policy" : "append"
        } ],
        "type" : "set-params",
        "skip" : false,
        "label" : "Limit to docs containing description",
        "licensed" : true,
        "secretSourceStageId" : "tz"
      }, {
        "type" : "set-params",
        "id" : "uif",
        "params" : [ {
          "key" : "bf",
          "value" : "recip(ms(NOW/HOUR,article_date_dt),3.16e-11,1,1)",
          "policy" : "append"
        } ],
        "type" : "set-params",
        "skip" : false,
        "label" : "Boost recent docs",
        "licensed" : true,
        "secretSourceStageId" : "uif"
      }, {
        "type" : "solr-query",
        "id" : "e4302c97-4913-4ce5-a384-e52d5f14e33c",
        "httpMethod" : "POST",
        "allowFederatedSearch" : false,
        "type" : "solr-query",
        "skip" : false,
        "responseSignalsEnabled" : true,
        "licensed" : true,
        "secretSourceStageId" : "e4302c97-4913-4ce5-a384-e52d5f14e33c"
      }, {
        "type" : "javascript-query",
        "id" : "jh",
        "script" : "function(request, response, ctx, collection, solrServer, solrServerFactory) {\n  if (ctx.hasProperty(\"co_answer_card_company\")) {\n    var answer_card_content = ctx.getProperty(\"co_answer_card_company\") + \"'s \";\n    answer_card_content = answer_card_content + ctx.getProperty(\"co_answer_card_metric_label\") + \" is \";\n    answer_card_content = answer_card_content + ctx.getProperty(\"co_answer_card_metric_value\");\n    response.initialEntity.appendString(\"co_answer_card_content\", answer_card_content);\n  }\n}",
        "type" : "javascript-query",
        "skip" : false,
        "label" : "Augment with Answer Card Data",
        "licensed" : true,
        "secretSourceStageId" : "jh"
      } ],
      "properties" : {
        "secretSourcePipelineId" : "latest-news"
      }
    }, {
      "id" : "portfolio",
      "stages" : [ {
        "type" : "facet",
        "id" : "d53dccad-087d-4aa1-bb3f-a3e20b39fa34",
        "fieldFacets" : [ {
          "field" : "_lw_data_source_s",
          "minCount" : 1,
          "missing" : false
        }, {
          "field" : "ticker_s",
          "minCount" : 1,
          "missing" : false
        }, {
          "field" : "entity_person_hv_ss",
          "minCount" : 1,
          "missing" : false
        }, {
          "field" : "entity_company_hv_ss",
          "minCount" : 1,
          "missing" : false
        }, {
          "field" : "Company_Events_ss",
          "minCount" : 1,
          "missing" : false
        }, {
          "field" : "industry_tags_hv_ss",
          "minCount" : 1,
          "missing" : false
        }, {
          "field" : "entity_country_hv_ss",
          "minCount" : 1,
          "missing" : false
        }, {
          "field" : "city_state_s_hier_ss",
          "minCount" : 1,
          "missing" : false
        }, {
          "field" : "city_state_s_hier_ss_parent_ss",
          "minCount" : 1,
          "missing" : false
        }, {
          "field" : "sector_industry_s_hier_ss",
          "minCount" : 1,
          "missing" : false
        }, {
          "field" : "sector_industry_s_hier_ss_parent_ss",
          "minCount" : 1,
          "missing" : false
        } ],
        "type" : "facet",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "d53dccad-087d-4aa1-bb3f-a3e20b39fa34",
        "properties" : {
          "autoCreated" : true
        }
      }, {
        "type" : "search-fields",
        "id" : "7v5",
        "rows" : 10,
        "start" : 0,
        "queryFields" : [ ],
        "returnFields" : [ "*", "score" ],
        "type" : "search-fields",
        "skip" : true,
        "licensed" : true,
        "secretSourceStageId" : "7v5"
      }, {
        "type" : "solr-query",
        "id" : "0028257e-a5f6-4697-ab45-3f12e6e366e6",
        "httpMethod" : "POST",
        "allowFederatedSearch" : false,
        "type" : "solr-query",
        "skip" : false,
        "responseSignalsEnabled" : true,
        "licensed" : true,
        "secretSourceStageId" : "0028257e-a5f6-4697-ab45-3f12e6e366e6"
      } ],
      "properties" : {
        "secretSourcePipelineId" : "portfolio"
      }
    }, {
      "id" : "queries-facets",
      "stages" : [ {
        "type" : "set-params",
        "id" : "vnp",
        "params" : [ {
          "key" : "fq",
          "value" : "-query:/id:\\(.*/",
          "policy" : "append"
        }, {
          "key" : "fq",
          "value" : "-query:\\*\\:\\*",
          "policy" : "append"
        }, {
          "key" : "fq",
          "value" : "-query:/id:.*/",
          "policy" : "append"
        } ],
        "type" : "set-params",
        "skip" : false,
        "label" : "Filter out blank and id queries",
        "licensed" : true,
        "secretSourceStageId" : "vnp"
      }, {
        "type" : "search-fields",
        "id" : "1d41b413-e543-4f96-beaa-cb5ed41fb9b6",
        "rows" : 10,
        "start" : 0,
        "queryFields" : [ {
          "field" : "query_t"
        } ],
        "returnFields" : [ "*", "score" ],
        "type" : "search-fields",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "1d41b413-e543-4f96-beaa-cb5ed41fb9b6",
        "properties" : {
          "autoCreated" : true
        }
      }, {
        "type" : "set-params",
        "id" : "ste",
        "params" : [ {
          "key" : "fq",
          "value" : "timestamp_tdt:[NOW/DAY-5DAY TO NOW/DAY+1DAY]",
          "policy" : "append"
        }, {
          "key" : "fq",
          "value" : "type:request",
          "policy" : "append"
        }, {
          "key" : "rows",
          "value" : "0",
          "policy" : "append"
        }, {
          "key" : "f.query.facet.limit",
          "value" : "5",
          "policy" : "append"
        } ],
        "type" : "set-params",
        "skip" : false,
        "label" : "Tracked queries last 30 days",
        "licensed" : true,
        "secretSourceStageId" : "ste"
      }, {
        "type" : "facet",
        "id" : "16c529a7-9281-48c9-bc61-0c178780c27b",
        "fieldFacets" : [ {
          "field" : "query",
          "minCount" : 1,
          "missing" : false
        }, {
          "field" : "type",
          "minCount" : 1,
          "missing" : false
        } ],
        "type" : "facet",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "16c529a7-9281-48c9-bc61-0c178780c27b",
        "properties" : {
          "autoCreated" : true
        }
      }, {
        "type" : "solr-query",
        "id" : "69cf432d-7836-4d78-9a3f-993a3b8437b9",
        "httpMethod" : "POST",
        "allowFederatedSearch" : false,
        "type" : "solr-query",
        "skip" : false,
        "responseSignalsEnabled" : true,
        "licensed" : true,
        "secretSourceStageId" : "69cf432d-7836-4d78-9a3f-993a3b8437b9",
        "properties" : {
          "autoCreated" : true
        }
      } ],
      "properties" : {
        "secretSourcePipelineId" : "queries-facets"
      }
    }, {
      "id" : "suggest",
      "stages" : [ {
        "type" : "facet",
        "id" : "caa61be2-1a8f-4bee-b60a-097dca25ba55",
        "fieldFacets" : [ ],
        "type" : "facet",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "caa61be2-1a8f-4bee-b60a-097dca25ba55"
      }, {
        "type" : "solr-query",
        "id" : "9c452c49-dad6-4af7-af11-bc4ce840f52d",
        "allowedRequestHandlers" : [ "suggest" ],
        "httpMethod" : "POST",
        "allowFederatedSearch" : false,
        "type" : "solr-query",
        "skip" : false,
        "responseSignalsEnabled" : true,
        "licensed" : true,
        "secretSourceStageId" : "9c452c49-dad6-4af7-af11-bc4ce840f52d"
      } ],
      "properties" : {
        "secretSourcePipelineId" : "suggest"
      }
    }, {
      "id" : "user-prefs",
      "stages" : [ {
        "type" : "search-fields",
        "id" : "7a3e45b5-43d9-4465-9db5-c1fdf21871ee",
        "rows" : 10,
        "start" : 0,
        "queryFields" : [ ],
        "returnFields" : [ "*", "score" ],
        "type" : "search-fields",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "7a3e45b5-43d9-4465-9db5-c1fdf21871ee"
      }, {
        "type" : "facet",
        "id" : "cd1c4bba-2d0b-40d4-bc9c-ff02c4a8c5ce",
        "fieldFacets" : [ ],
        "type" : "facet",
        "skip" : false,
        "licensed" : true,
        "secretSourceStageId" : "cd1c4bba-2d0b-40d4-bc9c-ff02c4a8c5ce"
      }, {
        "type" : "solr-query",
        "id" : "6a702654-7d4b-422e-932e-4ffe418ed629",
        "httpMethod" : "POST",
        "allowFederatedSearch" : false,
        "type" : "solr-query",
        "skip" : false,
        "responseSignalsEnabled" : true,
        "licensed" : true,
        "secretSourceStageId" : "6a702654-7d4b-422e-932e-4ffe418ed629"
      } ],
      "properties" : {
        "secretSourcePipelineId" : "user-prefs"
      }
    } ],
    "features" : {
      "Finance" : [ {
        "name" : "partitionByTime",
        "collectionId" : "Finance",
        "params" : { },
        "enabled" : false
      }, {
        "name" : "recommendations",
        "collectionId" : "Finance",
        "params" : {
          "idField" : "id",
          "itemsForUser" : true,
          "itemsForQuery" : false,
          "itemsForItem" : true,
          "queriesForQuery" : false
        },
        "enabled" : true
      }, {
        "name" : "searchLogs",
        "collectionId" : "Finance",
        "params" : { },
        "enabled" : true
      }, {
        "name" : "signals",
        "collectionId" : "Finance",
        "params" : { },
        "enabled" : true
      } ],
      "Finance_items_for_item_recommendations" : [ {
        "name" : "partitionByTime",
        "collectionId" : "Finance_items_for_item_recommendations",
        "params" : { },
        "enabled" : false
      }, {
        "name" : "recommendations",
        "collectionId" : "Finance_items_for_item_recommendations",
        "params" : {
          "idField" : "id",
          "itemsForUser" : true,
          "itemsForQuery" : false,
          "itemsForItem" : true,
          "queriesForQuery" : false
        },
        "enabled" : false
      }, {
        "name" : "searchLogs",
        "collectionId" : "Finance_items_for_item_recommendations",
        "params" : { },
        "enabled" : false
      }, {
        "name" : "signals",
        "collectionId" : "Finance_items_for_item_recommendations",
        "params" : { },
        "enabled" : false
      } ],
      "Finance_items_for_user_recommendations" : [ {
        "name" : "partitionByTime",
        "collectionId" : "Finance_items_for_user_recommendations",
        "params" : { },
        "enabled" : false
      }, {
        "name" : "recommendations",
        "collectionId" : "Finance_items_for_user_recommendations",
        "params" : {
          "idField" : "id",
          "itemsForUser" : true,
          "itemsForQuery" : false,
          "itemsForItem" : true,
          "queriesForQuery" : false
        },
        "enabled" : false
      }, {
        "name" : "searchLogs",
        "collectionId" : "Finance_items_for_user_recommendations",
        "params" : { },
        "enabled" : false
      }, {
        "name" : "signals",
        "collectionId" : "Finance_items_for_user_recommendations",
        "params" : { },
        "enabled" : false
      } ],
      "Finance_job_reports" : [ {
        "name" : "partitionByTime",
        "collectionId" : "Finance_job_reports",
        "params" : { },
        "enabled" : false
      }, {
        "name" : "recommendations",
        "collectionId" : "Finance_job_reports",
        "params" : {
          "idField" : "id",
          "itemsForUser" : true,
          "itemsForQuery" : false,
          "itemsForItem" : true,
          "queriesForQuery" : false
        },
        "enabled" : false
      }, {
        "name" : "searchLogs",
        "collectionId" : "Finance_job_reports",
        "params" : { },
        "enabled" : false
      }, {
        "name" : "signals",
        "collectionId" : "Finance_job_reports",
        "params" : { },
        "enabled" : false
      } ],
      "Finance_query_rewrite" : [ {
        "name" : "partitionByTime",
        "collectionId" : "Finance_query_rewrite",
        "params" : { },
        "enabled" : false
      }, {
        "name" : "recommendations",
        "collectionId" : "Finance_query_rewrite",
        "params" : {
          "idField" : "id",
          "itemsForUser" : true,
          "itemsForQuery" : false,
          "itemsForItem" : true,
          "queriesForQuery" : false
        },
        "enabled" : false
      }, {
        "name" : "searchLogs",
        "collectionId" : "Finance_query_rewrite",
        "params" : { },
        "enabled" : false
      }, {
        "name" : "signals",
        "collectionId" : "Finance_query_rewrite",
        "params" : { },
        "enabled" : false
      } ],
      "Finance_query_rewrite_staging" : [ {
        "name" : "partitionByTime",
        "collectionId" : "Finance_query_rewrite_staging",
        "params" : { },
        "enabled" : false
      }, {
        "name" : "recommendations",
        "collectionId" : "Finance_query_rewrite_staging",
        "params" : {
          "idField" : "id",
          "itemsForUser" : true,
          "itemsForQuery" : false,
          "itemsForItem" : true,
          "queriesForQuery" : false
        },
        "enabled" : false
      }, {
        "name" : "searchLogs",
        "collectionId" : "Finance_query_rewrite_staging",
        "params" : { },
        "enabled" : false
      }, {
        "name" : "signals",
        "collectionId" : "Finance_query_rewrite_staging",
        "params" : { },
        "enabled" : false
      } ],
      "Finance_recommender_models" : [ {
        "name" : "partitionByTime",
        "collectionId" : "Finance_recommender_models",
        "params" : { },
        "enabled" : false
      }, {
        "name" : "recommendations",
        "collectionId" : "Finance_recommender_models",
        "params" : {
          "idField" : "id",
          "itemsForUser" : true,
          "itemsForQuery" : false,
          "itemsForItem" : true,
          "queriesForQuery" : false
        },
        "enabled" : false
      }, {
        "name" : "searchLogs",
        "collectionId" : "Finance_recommender_models",
        "params" : { },
        "enabled" : false
      }, {
        "name" : "signals",
        "collectionId" : "Finance_recommender_models",
        "params" : { },
        "enabled" : false
      } ],
      "Finance_signals" : [ {
        "name" : "partitionByTime",
        "collectionId" : "Finance_signals",
        "params" : { },
        "enabled" : false
      }, {
        "name" : "recommendations",
        "collectionId" : "Finance_signals",
        "params" : {
          "idField" : "id",
          "itemsForUser" : true,
          "itemsForQuery" : false,
          "itemsForItem" : true,
          "queriesForQuery" : false
        },
        "enabled" : false
      }, {
        "name" : "searchLogs",
        "collectionId" : "Finance_signals",
        "params" : { },
        "enabled" : false
      }, {
        "name" : "signals",
        "collectionId" : "Finance_signals",
        "params" : { },
        "enabled" : false
      } ],
      "Finance_signals_aggr" : [ {
        "name" : "partitionByTime",
        "collectionId" : "Finance_signals_aggr",
        "params" : { },
        "enabled" : false
      }, {
        "name" : "recommendations",
        "collectionId" : "Finance_signals_aggr",
        "params" : {
          "idField" : "id",
          "itemsForUser" : true,
          "itemsForQuery" : false,
          "itemsForItem" : true,
          "queriesForQuery" : false
        },
        "enabled" : false
      }, {
        "name" : "searchLogs",
        "collectionId" : "Finance_signals_aggr",
        "params" : { },
        "enabled" : false
      }, {
        "name" : "signals",
        "collectionId" : "Finance_signals_aggr",
        "params" : { },
        "enabled" : false
      } ]
    },
    "indexProfiles" : [ {
      "id" : "Finance",
      "indexPipeline" : "Finance",
      "collection" : "Finance",
      "parser" : "Finance",
      "params" : [ ]
    }, {
      "id" : "Finance-wWEJ",
      "indexPipeline" : "Finance",
      "collection" : "Finance",
      "parser" : "Finance",
      "params" : [ ]
    }, {
      "id" : "Finance_signals",
      "indexPipeline" : "Finance_signals",
      "collection" : "Finance_signals",
      "params" : [ ]
    }, {
      "id" : "Finance_signals-88wS",
      "indexPipeline" : "Finance_signals-0m53",
      "collection" : "Finance_signals",
      "params" : [ ]
    }, {
      "id" : "Finance_signals_aggr",
      "indexPipeline" : "Finance_signals_aggr",
      "collection" : "Finance_signals_aggr",
      "params" : [ ]
    }, {
      "id" : "Finance_signals_aggr-Yfab",
      "indexPipeline" : "Finance_signals_aggr-FIBS",
      "collection" : "Finance_signals_aggr",
      "params" : [ ]
    } ],
    "queryProfiles" : [ {
      "id" : "Finance",
      "queryPipeline" : "Finance",
      "collection" : "Finance",
      "searchHandler" : "/select"
    }, {
      "id" : "Finance-Ha4Y",
      "queryPipeline" : "Finance-B2oX",
      "collection" : "Finance",
      "searchHandler" : "/select"
    }, {
      "id" : "Finance_rules",
      "queryPipeline" : "Finance_rules",
      "collection" : "Finance",
      "searchHandler" : "select"
    }, {
      "id" : "Finance_rules_simulator",
      "queryPipeline" : "Finance_rules",
      "collection" : "Finance",
      "searchHandler" : "/select",
      "params" : [ {
        "key" : "lw.rules.simulate",
        "value" : "Finance_query_rewrite_staging",
        "policy" : "default"
      }, {
        "key" : "lw.rules.debug",
        "value" : "1",
        "policy" : "default"
      }, {
        "key" : "lw.tagger.debug",
        "value" : "1",
        "policy" : "default"
      } ]
    }, {
      "id" : "Finance_signals",
      "queryPipeline" : "Finance_signals",
      "collection" : "Finance_signals",
      "searchHandler" : "/select"
    }, {
      "id" : "Finance_signals-HXSj",
      "queryPipeline" : "Finance_signals-9Uno",
      "collection" : "Finance_signals",
      "searchHandler" : "/select"
    }, {
      "id" : "Finance_signals_aggr",
      "queryPipeline" : "Finance_signals_aggr",
      "collection" : "Finance_signals_aggr",
      "searchHandler" : "/select"
    }, {
      "id" : "Finance_signals_aggr-JWNj",
      "queryPipeline" : "Finance_signals_aggr-Zg1s",
      "collection" : "Finance_signals_aggr",
      "searchHandler" : "/select"
    }, {
      "id" : "accounts",
      "queryPipeline" : "accounts",
      "collection" : "Finance",
      "searchHandler" : "select"
    }, {
      "id" : "clients",
      "queryPipeline" : "clients",
      "collection" : "Finance",
      "searchHandler" : "select"
    }, {
      "id" : "company-news",
      "queryPipeline" : "company-news",
      "collection" : "Finance",
      "searchHandler" : "select"
    }, {
      "id" : "default",
      "queryPipeline" : "finance-default",
      "collection" : "Finance",
      "searchHandler" : "select"
    }, {
      "id" : "historical",
      "queryPipeline" : "historical",
      "collection" : "Finance",
      "searchHandler" : "select"
    }, {
      "id" : "latest-news",
      "queryPipeline" : "latest-news",
      "collection" : "Finance",
      "searchHandler" : "select"
    }, {
      "id" : "portfolio",
      "queryPipeline" : "portfolio",
      "collection" : "Finance",
      "searchHandler" : "select"
    }, {
      "id" : "suggest",
      "queryPipeline" : "suggest",
      "collection" : "Finance",
      "searchHandler" : "suggest"
    }, {
      "id" : "user-companies",
      "queryPipeline" : "buckets",
      "collection" : "Finance",
      "searchHandler" : "select"
    }, {
      "id" : "user-prefs",
      "queryPipeline" : "user-prefs",
      "collection" : "Finance",
      "searchHandler" : "select"
    } ],
    "parsers" : [ {
      "id" : "Finance",
      "enableMediaTypeDetection" : true,
      "maxParserDepth" : 16,
      "parserStages" : [ {
        "type" : "archive",
        "enabled" : true,
        "mediaTypes" : [ ],
        "pathPatterns" : [ ],
        "errorHandling" : "mark",
        "id" : "44a1557b-f069-4e0b-bd94-84ade7261729",
        "alwaysDetect" : true,
        "inheritMediaTypes" : true,
        "outputFieldPrefix" : ""
      }, {
        "type" : "csv",
        "enabled" : true,
        "mediaTypes" : [ ],
        "pathPatterns" : [ ],
        "errorHandling" : "mark",
        "id" : "0acede47-ef8a-414a-8e51-f811f68ccfe7",
        "charset" : "detect",
        "ignoreBOM" : false,
        "autoDetect" : true,
        "hasHeaders" : true,
        "headers" : [ ],
        "fillValue" : "<FILL>",
        "trimWhitespace" : true,
        "skipEmptyLines" : true,
        "includeRowNumber" : true,
        "commentHandling" : "ignore",
        "maxRowLength" : 10485760,
        "maxNumColumns" : 1000,
        "maxColumnChars" : 10485760,
        "columnHandling" : "default",
        "inheritMediaTypes" : true,
        "outputFieldPrefix" : ""
      }, {
        "type" : "json",
        "enabled" : true,
        "mediaTypes" : [ ],
        "pathPatterns" : [ ],
        "errorHandling" : "mark",
        "id" : "178fd9b2-a413-4632-b9b6-248c7c29f8dd",
        "splitArrays" : true,
        "includePath" : false,
        "mappings" : [ ],
        "listHandling" : "multivalued",
        "inheritMediaTypes" : true,
        "outputFieldPrefix" : ""
      }, {
        "type" : "xml",
        "enabled" : true,
        "mediaTypes" : [ ],
        "pathPatterns" : [ ],
        "errorHandling" : "mark",
        "id" : "152e6268-210b-4b26-a307-4dc2a9de7612",
        "rootPaths" : [ "/" ],
        "maxSize" : 65536,
        "listHandling" : "multivalued",
        "inheritMediaTypes" : true,
        "outputFieldPrefix" : ""
      }, {
        "type" : "html",
        "enabled" : true,
        "mediaTypes" : [ ],
        "pathPatterns" : [ ],
        "errorHandling" : "mark",
        "id" : "a735805c-4381-43fe-ac0d-7bb0efc58476",
        "charset" : "detect",
        "mappings" : [ ],
        "keepParent" : true,
        "extractHtmlLinks" : false,
        "extractBodyText" : true,
        "metatagsPrefix" : "",
        "inheritMediaTypes" : true,
        "outputFieldPrefix" : ""
      }, {
        "type" : "text",
        "enabled" : true,
        "mediaTypes" : [ ],
        "pathPatterns" : [ ],
        "errorHandling" : "mark",
        "id" : "1f8407ae-c6ec-49d3-b3c7-ef7c3e2e2616",
        "charset" : "detect",
        "ignoreBOM" : false,
        "maxLength" : 1048576,
        "maxLineLength" : 1048576,
        "outputField" : "body",
        "splitLines" : false,
        "skipEmptyLines" : false,
        "skipHeaderLines" : 0,
        "trimWhitespace" : false,
        "commentHandling" : "include",
        "comment" : "#",
        "commentField" : "comment",
        "inheritMediaTypes" : true,
        "outputFieldPrefix" : ""
      }, {
        "type" : "tika",
        "enabled" : true,
        "mediaTypes" : [ ],
        "pathPatterns" : [ ],
        "errorHandling" : "mark",
        "id" : "5c71fe84-dadc-4e0e-90bf-501102a51b0d",
        "includeImages" : false,
        "flattenCompound" : true,
        "addFailedDocs" : false,
        "addOriginalContent" : false,
        "contentEncoding" : "binary",
        "returnXml" : false,
        "keepOriginalStructure" : false,
        "extractHtmlLinks" : false,
        "extractOtherLinks" : false,
        "excludeContentTypes" : [ ],
        "zipBombCompressionRatio" : 200,
        "zipBombMaxDepth" : 200,
        "zipBombMaxPackageEntryDepth" : 20,
        "inheritMediaTypes" : true,
        "outputFieldPrefix" : ""
      }, {
        "type" : "fallback",
        "enabled" : true,
        "mediaTypes" : [ ],
        "pathPatterns" : [ ],
        "errorHandling" : "mark",
        "id" : "9964ee3c-5b5f-438e-84fb-942314b0c5ad",
        "metadataOnly" : false,
        "maxBytesToKeep" : 1048576,
        "inheritMediaTypes" : true,
        "outputFieldPrefix" : ""
      } ]
    }, {
      "id" : "client_accounts",
      "enableMediaTypeDetection" : true,
      "maxParserDepth" : 16,
      "parserStages" : [ {
        "type" : "csv",
        "enabled" : true,
        "mediaTypes" : [ ],
        "pathPatterns" : [ {
          "syntax" : "regex",
          "pattern" : ".*\\.csv"
        } ],
        "errorHandling" : "mark",
        "id" : "56ac948a-4c85-47f3-b036-e7ba13736e16",
        "charset" : "detect",
        "ignoreBOM" : false,
        "autoDetect" : true,
        "hasHeaders" : true,
        "headers" : [ ],
        "fillValue" : "<FILL>",
        "trimWhitespace" : true,
        "skipEmptyLines" : true,
        "includeRowNumber" : true,
        "commentHandling" : "ignore",
        "maxRowLength" : 10485760,
        "maxNumColumns" : 1000,
        "maxColumnChars" : 10485760,
        "columnHandling" : "default",
        "inheritMediaTypes" : true,
        "outputFieldPrefix" : ""
      } ],
      "editPanel" : { }
    }, {
      "id" : "clients",
      "enableMediaTypeDetection" : true,
      "maxParserDepth" : 16,
      "parserStages" : [ {
        "type" : "csv",
        "enabled" : true,
        "mediaTypes" : [ ],
        "pathPatterns" : [ {
          "syntax" : "regex",
          "pattern" : ".*\\.csv"
        } ],
        "errorHandling" : "mark",
        "id" : "2ca60ebd-9e98-4797-893f-6baefa9b6e6f",
        "charset" : "detect",
        "ignoreBOM" : false,
        "autoDetect" : true,
        "hasHeaders" : true,
        "headers" : [ ],
        "fillValue" : "<FILL>",
        "trimWhitespace" : true,
        "skipEmptyLines" : true,
        "includeRowNumber" : true,
        "commentHandling" : "ignore",
        "maxRowLength" : 10485760,
        "maxNumColumns" : 1000,
        "maxColumnChars" : 10485760,
        "columnHandling" : "default",
        "inheritMediaTypes" : true,
        "outputFieldPrefix" : ""
      } ],
      "editPanel" : { }
    }, {
      "id" : "sp500",
      "enableMediaTypeDetection" : true,
      "maxParserDepth" : 16,
      "parserStages" : [ {
        "type" : "csv",
        "enabled" : true,
        "mediaTypes" : [ ],
        "pathPatterns" : [ {
          "syntax" : "regex",
          "pattern" : ".*\\.csv"
        } ],
        "errorHandling" : "mark",
        "id" : "6c204381-72e8-4960-b927-d0ed246e474c",
        "charset" : "detect",
        "ignoreBOM" : false,
        "autoDetect" : true,
        "hasHeaders" : true,
        "headers" : [ ],
        "fillValue" : "<FILL>",
        "trimWhitespace" : true,
        "skipEmptyLines" : true,
        "includeRowNumber" : true,
        "commentHandling" : "ignore",
        "maxRowLength" : 10485760,
        "maxNumColumns" : 1000,
        "maxColumnChars" : 10485760,
        "columnHandling" : "default",
        "inheritMediaTypes" : true,
        "outputFieldPrefix" : ""
      } ]
    }, {
      "id" : "sp500-historical",
      "enableMediaTypeDetection" : true,
      "maxParserDepth" : 16,
      "parserStages" : [ {
        "type" : "csv",
        "enabled" : true,
        "mediaTypes" : [ ],
        "pathPatterns" : [ {
          "syntax" : "regex",
          "pattern" : ".*\\.csv"
        } ],
        "errorHandling" : "mark",
        "id" : "29243299-36d4-42ac-adce-ad49f75210bc",
        "charset" : "detect",
        "ignoreBOM" : false,
        "autoDetect" : true,
        "hasHeaders" : true,
        "headers" : [ ],
        "fillValue" : "<FILL>",
        "trimWhitespace" : true,
        "skipEmptyLines" : true,
        "includeRowNumber" : true,
        "commentHandling" : "ignore",
        "maxRowLength" : 10485760,
        "maxNumColumns" : 1000,
        "maxColumnChars" : 10485760,
        "columnHandling" : "default",
        "inheritMediaTypes" : true,
        "outputFieldPrefix" : ""
      } ],
      "editPanel" : { }
    }, {
      "id" : "sp500-key-stats",
      "enableMediaTypeDetection" : true,
      "maxParserDepth" : 16,
      "parserStages" : [ {
        "type" : "csv",
        "enabled" : true,
        "mediaTypes" : [ ],
        "pathPatterns" : [ {
          "syntax" : "regex",
          "pattern" : ".*\\.csv"
        } ],
        "errorHandling" : "mark",
        "id" : "baec2de8-00a0-42fb-be77-d72b1603625d",
        "charset" : "detect",
        "ignoreBOM" : false,
        "autoDetect" : true,
        "hasHeaders" : true,
        "headers" : [ ],
        "fillValue" : "<FILL>",
        "trimWhitespace" : true,
        "skipEmptyLines" : true,
        "includeRowNumber" : true,
        "commentHandling" : "ignore",
        "maxRowLength" : 10485760,
        "maxNumColumns" : 1000,
        "maxColumnChars" : 10485760,
        "columnHandling" : "default",
        "inheritMediaTypes" : true,
        "outputFieldPrefix" : ""
      } ],
      "editPanel" : { }
    }, {
      "id" : "trit-response-parser",
      "enableMediaTypeDetection" : true,
      "maxParserDepth" : 16,
      "parserStages" : [ {
        "type" : "json",
        "enabled" : true,
        "mediaTypes" : [ ],
        "pathPatterns" : [ ],
        "errorHandling" : "mark",
        "id" : "eb2537e3-6661-449d-ac1f-d8e18d4f8b2c",
        "splitArrays" : true,
        "includePath" : false,
        "mappings" : [ ],
        "listHandling" : "multivalued",
        "inheritMediaTypes" : true,
        "outputFieldPrefix" : ""
      } ],
      "editPanel" : { }
    }, {
      "id" : "user_buckets",
      "enableMediaTypeDetection" : true,
      "maxParserDepth" : 16,
      "parserStages" : [ {
        "type" : "csv",
        "enabled" : true,
        "mediaTypes" : [ ],
        "pathPatterns" : [ {
          "syntax" : "regex",
          "pattern" : ".*\\.csv"
        } ],
        "errorHandling" : "mark",
        "id" : "03c43dec-f21f-4190-ae48-3efd5ea344f1",
        "charset" : "detect",
        "ignoreBOM" : false,
        "autoDetect" : true,
        "hasHeaders" : true,
        "headers" : [ ],
        "fillValue" : "<FILL>",
        "trimWhitespace" : true,
        "skipEmptyLines" : true,
        "includeRowNumber" : true,
        "commentHandling" : "ignore",
        "maxRowLength" : 10485760,
        "maxNumColumns" : 1000,
        "maxColumnChars" : 10485760,
        "columnHandling" : "default",
        "inheritMediaTypes" : true,
        "outputFieldPrefix" : ""
      } ],
      "editPanel" : { }
    }, {
      "id" : "yahoo-news",
      "enableMediaTypeDetection" : true,
      "maxParserDepth" : 16,
      "parserStages" : [ {
        "type" : "archive",
        "enabled" : true,
        "mediaTypes" : [ ],
        "pathPatterns" : [ ],
        "errorHandling" : "mark",
        "id" : "18e179db-4170-4c5a-a9ab-adbce723f66f",
        "alwaysDetect" : true,
        "inheritMediaTypes" : true,
        "outputFieldPrefix" : ""
      }, {
        "type" : "csv",
        "enabled" : true,
        "mediaTypes" : [ ],
        "pathPatterns" : [ ],
        "errorHandling" : "mark",
        "id" : "5022e023-2c71-408e-820b-1912d3686c5c",
        "charset" : "detect",
        "ignoreBOM" : false,
        "autoDetect" : true,
        "hasHeaders" : true,
        "headers" : [ ],
        "fillValue" : "<FILL>",
        "trimWhitespace" : true,
        "skipEmptyLines" : true,
        "includeRowNumber" : true,
        "commentHandling" : "ignore",
        "maxRowLength" : 10485760,
        "maxNumColumns" : 1000,
        "maxColumnChars" : 10485760,
        "columnHandling" : "default",
        "inheritMediaTypes" : true,
        "outputFieldPrefix" : ""
      }, {
        "type" : "json",
        "enabled" : true,
        "mediaTypes" : [ ],
        "pathPatterns" : [ ],
        "errorHandling" : "mark",
        "id" : "2cc96480-ec8a-42a0-8194-e2595fc94609",
        "splitArrays" : true,
        "includePath" : false,
        "mappings" : [ ],
        "listHandling" : "multivalued",
        "inheritMediaTypes" : true,
        "outputFieldPrefix" : ""
      }, {
        "type" : "xml",
        "enabled" : true,
        "mediaTypes" : [ ],
        "pathPatterns" : [ ],
        "errorHandling" : "mark",
        "id" : "839459a6-b23a-4bf4-acc6-981f5471888f",
        "rootPaths" : [ "/" ],
        "maxSize" : 65536,
        "listHandling" : "multivalued",
        "inheritMediaTypes" : true,
        "outputFieldPrefix" : ""
      }, {
        "type" : "html",
        "enabled" : true,
        "mediaTypes" : [ ],
        "pathPatterns" : [ ],
        "errorHandling" : "mark",
        "id" : "8f055802-9dca-48be-8dfb-a9492626df7a",
        "charset" : "detect",
        "mappings" : [ {
          "selectRule" : "time",
          "attribute" : "datetime",
          "field" : "article_date",
          "multivalued" : false
        } ],
        "keepParent" : true,
        "extractHtmlLinks" : false,
        "extractBodyText" : true,
        "metatagsPrefix" : "",
        "inheritMediaTypes" : true,
        "outputFieldPrefix" : ""
      }, {
        "type" : "text",
        "enabled" : true,
        "mediaTypes" : [ ],
        "pathPatterns" : [ ],
        "errorHandling" : "mark",
        "id" : "1648737d-2a88-415c-baea-0db0a73b5c8e",
        "charset" : "detect",
        "ignoreBOM" : false,
        "maxLength" : 1048576,
        "maxLineLength" : 1048576,
        "outputField" : "body",
        "splitLines" : false,
        "skipEmptyLines" : false,
        "skipHeaderLines" : 0,
        "trimWhitespace" : false,
        "commentHandling" : "include",
        "comment" : "#",
        "commentField" : "comment",
        "inheritMediaTypes" : true,
        "outputFieldPrefix" : ""
      }, {
        "type" : "tika",
        "enabled" : true,
        "mediaTypes" : [ ],
        "pathPatterns" : [ ],
        "errorHandling" : "mark",
        "id" : "cf539f3b-0041-469e-885b-8fdb8cb88a0e",
        "includeImages" : false,
        "flattenCompound" : true,
        "addFailedDocs" : false,
        "addOriginalContent" : false,
        "contentEncoding" : "binary",
        "returnXml" : false,
        "keepOriginalStructure" : false,
        "extractHtmlLinks" : false,
        "extractOtherLinks" : false,
        "excludeContentTypes" : [ ],
        "zipBombCompressionRatio" : 200,
        "zipBombMaxDepth" : 200,
        "zipBombMaxPackageEntryDepth" : 20,
        "inheritMediaTypes" : true,
        "outputFieldPrefix" : ""
      }, {
        "type" : "fallback",
        "enabled" : true,
        "mediaTypes" : [ ],
        "pathPatterns" : [ ],
        "errorHandling" : "mark",
        "id" : "21afff00-2f51-457f-84b8-2fdab4727c80",
        "metadataOnly" : false,
        "maxBytesToKeep" : 1048576,
        "inheritMediaTypes" : true,
        "outputFieldPrefix" : ""
      } ]
    } ],
    "objectGroups" : [ {
      "id" : "4b418c96-ef93-4648-920c-f1310d2812ba",
      "name" : "recommendations-Finance",
      "isSystem" : true,
      "description" : "Recommendations for 'Finance'"
    }, {
      "id" : "b88b4562-56d8-4e63-b236-ff7ede81ae11",
      "name" : "items-for-user-recommendations-Finance",
      "isSystem" : true,
      "description" : "Objects facilitating items-for-user recommendations for 'Finance'"
    }, {
      "id" : "d88c67ab-fa60-44c6-b35a-5ca8b41313c6",
      "name" : "signals-Finance",
      "isSystem" : true,
      "description" : "Collection 'Finance' objects for signals support"
    }, {
      "id" : "e6f9a1db-f7c0-4598-8b08-4ed5a6d8cc79",
      "name" : "items-for-item-recommendations-Finance",
      "isSystem" : true,
      "description" : "Objects facilitating items-for-item recommendations for 'Finance'"
    } ],
    "links" : [ {
      "subject" : "app:Finance",
      "object" : "group:_shared",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "app:Finance",
      "object" : "spark:Finance_phrase_extraction",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "app:Finance",
      "object" : "spark:Finance_spell_correction",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "app:Finance",
      "object" : "spark:Finance_synonym_detection",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "blob:autocomplete/autocomplete_documentation.json",
      "object" : "app:Finance",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "blob:autocomplete/autocomplete_ui-panel.json",
      "object" : "app:Finance",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "blob:quickstart/Iowa_Liquor_Sales.csv",
      "object" : "app:Finance",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "blob:quickstart/Revolution-Session-Data.csv",
      "object" : "app:Finance",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "blob:quickstart/arxiv-fusion.json",
      "object" : "app:Finance",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "blob:stopwords/large_stopwords_en.txt",
      "object" : "app:Finance",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "blob:tickers.lst",
      "object" : "app:Finance",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "collection:Finance",
      "object" : "app:Finance",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "collection:Finance",
      "object" : "collection:Finance_job_reports",
      "linkType" : "dependsOn",
      "originator" : "unspecified"
    }, {
      "subject" : "collection:Finance",
      "object" : "collection:Finance_query_rewrite",
      "linkType" : "dependsOn",
      "originator" : "unspecified"
    }, {
      "subject" : "collection:Finance",
      "object" : "collection:Finance_query_rewrite_staging",
      "linkType" : "dependsOn",
      "originator" : "unspecified"
    }, {
      "subject" : "collection:Finance",
      "object" : "index-pipeline:Finance",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "collection:Finance_job_reports",
      "object" : "app:Finance",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "collection:Finance_query_rewrite",
      "object" : "app:Finance",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "collection:Finance_query_rewrite_staging",
      "object" : "app:Finance",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "collection:Finance_query_rewrite_staging",
      "object" : "index-pipeline:Finance_query_rewrite_staging",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "collection:Finance_signals",
      "object" : "index-pipeline:Finance_signals",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "collection:Finance_signals",
      "object" : "index-pipeline:Finance_signals-0m53",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "collection:Finance_signals",
      "object" : "query-pipeline:Finance_signals",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "collection:Finance_signals_aggr",
      "object" : "index-pipeline:Finance_signals_aggr",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "collection:Finance_signals_aggr",
      "object" : "index-pipeline:Finance_signals_aggr-FIBS",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "collection:Finance_signals_aggr",
      "object" : "query-pipeline:Finance_signals_aggr",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "custom-rule-type:some_custom_rule_2",
      "object" : "app:Finance",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "datasource:client-accounts",
      "object" : "app:Finance",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "datasource:client-accounts",
      "object" : "collection:Finance",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "datasource:client-accounts",
      "object" : "index-pipeline:client_accounts",
      "linkType" : "dependsOn",
      "originator" : "unspecified"
    }, {
      "subject" : "datasource:client-accounts",
      "object" : "parser:client_accounts",
      "linkType" : "dependsOn",
      "originator" : "unspecified"
    }, {
      "subject" : "datasource:clients",
      "object" : "app:Finance",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "datasource:clients",
      "object" : "collection:Finance",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "datasource:clients",
      "object" : "index-pipeline:clients",
      "linkType" : "dependsOn",
      "originator" : "unspecified"
    }, {
      "subject" : "datasource:clients",
      "object" : "parser:clients",
      "linkType" : "dependsOn",
      "originator" : "unspecified"
    }, {
      "subject" : "datasource:sp500",
      "object" : "app:Finance",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "datasource:sp500",
      "object" : "collection:Finance",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "datasource:sp500",
      "object" : "index-pipeline:sp500",
      "linkType" : "dependsOn",
      "originator" : "unspecified"
    }, {
      "subject" : "datasource:sp500",
      "object" : "parser:sp500",
      "linkType" : "dependsOn",
      "originator" : "unspecified"
    }, {
      "subject" : "datasource:sp500-historical",
      "object" : "app:Finance",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "datasource:sp500-historical",
      "object" : "collection:Finance",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "datasource:tempsp500",
      "object" : "app:Finance",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "datasource:tempsp500",
      "object" : "parser:Finance",
      "linkType" : "dependsOn",
      "originator" : "unspecified"
    }, {
      "subject" : "datasource:user-prefs",
      "object" : "app:Finance",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "datasource:user-prefs",
      "object" : "collection:Finance",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "datasource:user-prefs",
      "object" : "index-pipeline:user-prefs",
      "linkType" : "dependsOn",
      "originator" : "unspecified"
    }, {
      "subject" : "datasource:user-prefs",
      "object" : "parser:Finance",
      "linkType" : "dependsOn",
      "originator" : "unspecified"
    }, {
      "subject" : "datasource:user_buckets",
      "object" : "app:Finance",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "datasource:user_buckets",
      "object" : "collection:Finance",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "datasource:user_buckets",
      "object" : "index-pipeline:user_buckets",
      "linkType" : "dependsOn",
      "originator" : "unspecified"
    }, {
      "subject" : "datasource:user_buckets",
      "object" : "parser:user_buckets",
      "linkType" : "dependsOn",
      "originator" : "unspecified"
    }, {
      "subject" : "datasource:yahoo-news",
      "object" : "app:Finance",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "datasource:yahoo-news",
      "object" : "collection:Finance",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "datasource:yahoo-news",
      "object" : "index-pipeline:yahoo-news",
      "linkType" : "dependsOn",
      "originator" : "unspecified"
    }, {
      "subject" : "datasource:yahoo-news",
      "object" : "parser:yahoo-news",
      "linkType" : "dependsOn",
      "originator" : "unspecified"
    }, {
      "subject" : "group:4b418c96-ef93-4648-920c-f1310d2812ba",
      "object" : "collection:Finance",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "group:4b418c96-ef93-4648-920c-f1310d2812ba",
      "object" : "collection:Finance_recommender_models",
      "linkType" : "hasPart",
      "originator" : "unspecified"
    }, {
      "subject" : "group:b88b4562-56d8-4e63-b236-ff7ede81ae11",
      "object" : "collection:Finance_items_for_user_recommendations",
      "linkType" : "hasPart",
      "originator" : "unspecified"
    }, {
      "subject" : "group:b88b4562-56d8-4e63-b236-ff7ede81ae11",
      "object" : "collection:Finance_signals",
      "linkType" : "hasPart",
      "originator" : "unspecified"
    }, {
      "subject" : "group:b88b4562-56d8-4e63-b236-ff7ede81ae11",
      "object" : "collection:Finance_signals_aggr",
      "linkType" : "hasPart",
      "originator" : "unspecified"
    }, {
      "subject" : "group:b88b4562-56d8-4e63-b236-ff7ede81ae11",
      "object" : "group:4b418c96-ef93-4648-920c-f1310d2812ba",
      "linkType" : "isPartOf",
      "originator" : "unspecified"
    }, {
      "subject" : "group:b88b4562-56d8-4e63-b236-ff7ede81ae11",
      "object" : "query-pipeline:Finance_items_for_user_recommendations",
      "linkType" : "hasPart",
      "originator" : "unspecified"
    }, {
      "subject" : "group:b88b4562-56d8-4e63-b236-ff7ede81ae11",
      "object" : "spark:Finance_item_recommendations",
      "linkType" : "hasPart",
      "originator" : "unspecified"
    }, {
      "subject" : "group:d88c67ab-fa60-44c6-b35a-5ca8b41313c6",
      "object" : "collection:Finance",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "group:d88c67ab-fa60-44c6-b35a-5ca8b41313c6",
      "object" : "collection:Finance_signals",
      "linkType" : "hasPart",
      "originator" : "unspecified"
    }, {
      "subject" : "group:d88c67ab-fa60-44c6-b35a-5ca8b41313c6",
      "object" : "collection:Finance_signals_aggr",
      "linkType" : "hasPart",
      "originator" : "unspecified"
    }, {
      "subject" : "group:d88c67ab-fa60-44c6-b35a-5ca8b41313c6",
      "object" : "spark:Finance_click_signals_aggregation",
      "linkType" : "hasPart",
      "originator" : "unspecified"
    }, {
      "subject" : "group:d88c67ab-fa60-44c6-b35a-5ca8b41313c6",
      "object" : "spark:Finance_head_tail",
      "linkType" : "hasPart",
      "originator" : "unspecified"
    }, {
      "subject" : "group:d88c67ab-fa60-44c6-b35a-5ca8b41313c6",
      "object" : "spark:Finance_session_rollup",
      "linkType" : "hasPart",
      "originator" : "unspecified"
    }, {
      "subject" : "group:d88c67ab-fa60-44c6-b35a-5ca8b41313c6",
      "object" : "spark:Finance_user_item_preferences_aggregation",
      "linkType" : "hasPart",
      "originator" : "unspecified"
    }, {
      "subject" : "group:d88c67ab-fa60-44c6-b35a-5ca8b41313c6",
      "object" : "spark:Finance_user_query_history_aggregation",
      "linkType" : "hasPart",
      "originator" : "unspecified"
    }, {
      "subject" : "group:e6f9a1db-f7c0-4598-8b08-4ed5a6d8cc79",
      "object" : "collection:Finance_items_for_item_recommendations",
      "linkType" : "hasPart",
      "originator" : "unspecified"
    }, {
      "subject" : "group:e6f9a1db-f7c0-4598-8b08-4ed5a6d8cc79",
      "object" : "collection:Finance_signals",
      "linkType" : "hasPart",
      "originator" : "unspecified"
    }, {
      "subject" : "group:e6f9a1db-f7c0-4598-8b08-4ed5a6d8cc79",
      "object" : "collection:Finance_signals_aggr",
      "linkType" : "hasPart",
      "originator" : "unspecified"
    }, {
      "subject" : "group:e6f9a1db-f7c0-4598-8b08-4ed5a6d8cc79",
      "object" : "group:4b418c96-ef93-4648-920c-f1310d2812ba",
      "linkType" : "isPartOf",
      "originator" : "unspecified"
    }, {
      "subject" : "group:e6f9a1db-f7c0-4598-8b08-4ed5a6d8cc79",
      "object" : "query-pipeline:Finance_items_for_item_recommendations",
      "linkType" : "hasPart",
      "originator" : "unspecified"
    }, {
      "subject" : "group:e6f9a1db-f7c0-4598-8b08-4ed5a6d8cc79",
      "object" : "spark:Finance_item_recommendations",
      "linkType" : "hasPart",
      "originator" : "unspecified"
    }, {
      "subject" : "index-pipeline:Finance_query_rewrite_staging",
      "object" : "app:Finance",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "index-pipeline:client_accounts",
      "object" : "app:Finance",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "index-pipeline:clients",
      "object" : "app:Finance",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "index-pipeline:sp500",
      "object" : "app:Finance",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "index-pipeline:sp500-historical",
      "object" : "app:Finance",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "index-pipeline:user-prefs",
      "object" : "app:Finance",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "index-pipeline:user_buckets",
      "object" : "app:Finance",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "index-pipeline:yahoo-news",
      "object" : "app:Finance",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "index-pipeline:yahoo-news",
      "object" : "blob:tickers.lst",
      "linkType" : "dependsOn",
      "originator" : "com.lucidworks.apollo.component.LinkExtractingUpdateStrategy"
    }, {
      "subject" : "index-profile:Finance",
      "object" : "app:Finance",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "index-profile:Finance",
      "object" : "collection:Finance",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "index-profile:Finance",
      "object" : "index-pipeline:Finance",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "index-profile:Finance-wWEJ",
      "object" : "app:Finance",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "index-profile:Finance-wWEJ",
      "object" : "collection:Finance",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "index-profile:Finance-wWEJ",
      "object" : "index-pipeline:Finance",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "index-profile:Finance_signals",
      "object" : "collection:Finance_signals",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "index-profile:Finance_signals",
      "object" : "index-pipeline:Finance_signals",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "index-profile:Finance_signals-88wS",
      "object" : "collection:Finance_signals",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "index-profile:Finance_signals-88wS",
      "object" : "index-pipeline:Finance_signals-0m53",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "index-profile:Finance_signals_aggr",
      "object" : "collection:Finance_signals_aggr",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "index-profile:Finance_signals_aggr",
      "object" : "index-pipeline:Finance_signals_aggr",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "index-profile:Finance_signals_aggr-Yfab",
      "object" : "collection:Finance_signals_aggr",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "index-profile:Finance_signals_aggr-Yfab",
      "object" : "index-pipeline:Finance_signals_aggr-FIBS",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "parser:Finance",
      "object" : "app:Finance",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "parser:client_accounts",
      "object" : "app:Finance",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "parser:clients",
      "object" : "app:Finance",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "parser:sp500",
      "object" : "app:Finance",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "parser:sp500-historical",
      "object" : "app:Finance",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "parser:sp500-key-stats",
      "object" : "app:Finance",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "parser:trit-response-parser",
      "object" : "app:Finance",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "parser:user_buckets",
      "object" : "app:Finance",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "parser:yahoo-news",
      "object" : "app:Finance",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "query-pipeline:Finance",
      "object" : "app:Finance",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "query-pipeline:Finance_rules",
      "object" : "app:Finance",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "query-pipeline:Finance_signals",
      "object" : "app:Finance",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "query-pipeline:accounts",
      "object" : "app:Finance",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "query-pipeline:buckets",
      "object" : "app:Finance",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "query-pipeline:clients",
      "object" : "app:Finance",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "query-pipeline:company-news",
      "object" : "app:Finance",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "query-pipeline:finance-default",
      "object" : "app:Finance",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "query-pipeline:historical",
      "object" : "app:Finance",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "query-pipeline:latest-news",
      "object" : "app:Finance",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "query-pipeline:portfolio",
      "object" : "app:Finance",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "query-pipeline:queries-facets",
      "object" : "app:Finance",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "query-pipeline:suggest",
      "object" : "app:Finance",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "query-pipeline:user-prefs",
      "object" : "app:Finance",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "query-profile:Finance",
      "object" : "app:Finance",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "query-profile:Finance",
      "object" : "collection:Finance",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "query-profile:Finance",
      "object" : "query-pipeline:Finance",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "query-profile:Finance-Ha4Y",
      "object" : "collection:Finance",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "query-profile:Finance_rules",
      "object" : "app:Finance",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "query-profile:Finance_rules",
      "object" : "collection:Finance",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "query-profile:Finance_rules",
      "object" : "query-pipeline:Finance_rules",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "query-profile:Finance_rules_simulator",
      "object" : "app:Finance",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "query-profile:Finance_rules_simulator",
      "object" : "collection:Finance",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "query-profile:Finance_rules_simulator",
      "object" : "query-pipeline:Finance_rules",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "query-profile:Finance_signals",
      "object" : "collection:Finance_signals",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "query-profile:Finance_signals",
      "object" : "query-pipeline:Finance_signals",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "query-profile:Finance_signals-HXSj",
      "object" : "collection:Finance_signals",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "query-profile:Finance_signals_aggr",
      "object" : "collection:Finance_signals_aggr",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "query-profile:Finance_signals_aggr",
      "object" : "query-pipeline:Finance_signals_aggr",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "query-profile:Finance_signals_aggr-JWNj",
      "object" : "collection:Finance_signals_aggr",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "query-profile:accounts",
      "object" : "app:Finance",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "query-profile:accounts",
      "object" : "collection:Finance",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "query-profile:accounts",
      "object" : "query-pipeline:accounts",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "query-profile:clients",
      "object" : "app:Finance",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "query-profile:clients",
      "object" : "collection:Finance",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "query-profile:clients",
      "object" : "query-pipeline:clients",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "query-profile:company-news",
      "object" : "app:Finance",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "query-profile:company-news",
      "object" : "collection:Finance",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "query-profile:company-news",
      "object" : "query-pipeline:company-news",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "query-profile:default",
      "object" : "app:Finance",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "query-profile:default",
      "object" : "collection:Finance",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "query-profile:default",
      "object" : "query-pipeline:finance-default",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "query-profile:historical",
      "object" : "app:Finance",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "query-profile:historical",
      "object" : "collection:Finance",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "query-profile:historical",
      "object" : "query-pipeline:historical",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "query-profile:latest-news",
      "object" : "app:Finance",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "query-profile:latest-news",
      "object" : "collection:Finance",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "query-profile:latest-news",
      "object" : "query-pipeline:latest-news",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "query-profile:portfolio",
      "object" : "app:Finance",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "query-profile:portfolio",
      "object" : "collection:Finance",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "query-profile:portfolio",
      "object" : "query-pipeline:portfolio",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "query-profile:suggest",
      "object" : "app:Finance",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "query-profile:suggest",
      "object" : "collection:Finance",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "query-profile:suggest",
      "object" : "query-pipeline:suggest",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "query-profile:user-companies",
      "object" : "app:Finance",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "query-profile:user-companies",
      "object" : "collection:Finance",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "query-profile:user-companies",
      "object" : "query-pipeline:buckets",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "query-profile:user-prefs",
      "object" : "app:Finance",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "query-profile:user-prefs",
      "object" : "collection:Finance",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "query-profile:user-prefs",
      "object" : "query-pipeline:user-prefs",
      "linkType" : "relatesTo",
      "originator" : "unspecified"
    }, {
      "subject" : "spark:Finance_item_recommendations",
      "object" : "spark:Finance_user_item_preferences_aggregation",
      "linkType" : "dependsOn",
      "originator" : "unspecified"
    }, {
      "subject" : "spark:Finance_phrase_extraction",
      "object" : "app:Finance",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "spark:Finance_phrase_extraction",
      "object" : "spark:Finance_spell_correction",
      "linkType" : "dependsOn",
      "originator" : "unspecified"
    }, {
      "subject" : "spark:Finance_spell_correction",
      "object" : "app:Finance",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "spark:Finance_synonym_detection",
      "object" : "app:Finance",
      "linkType" : "inContextOf",
      "originator" : "unspecified"
    }, {
      "subject" : "spark:Finance_synonym_detection",
      "object" : "spark:Finance_phrase_extraction",
      "linkType" : "dependsOn",
      "originator" : "unspecified"
    } ],
    "jobs" : [ {
      "resource" : "datasource:sp500-historical",
      "enabled" : true,
      "triggers" : [ {
        "type" : "interval",
        "enabled" : true,
        "interval" : 4,
        "timeUnit" : "hour",
        "startTime" : "2018-10-08T09:00:00.000Z",
        "type" : "interval"
      } ],
      "default" : false
    }, {
      "resource" : "spark:Finance_click_signals_aggregation",
      "enabled" : true,
      "triggers" : [ {
        "type" : "interval",
        "enabled" : true,
        "interval" : 15,
        "timeUnit" : "minute",
        "startTime" : "2018-09-18T17:04:55.310Z",
        "type" : "interval"
      } ],
      "default" : false
    }, {
      "resource" : "spark:Finance_head_tail",
      "enabled" : true,
      "triggers" : [ {
        "type" : "interval",
        "enabled" : true,
        "interval" : 1,
        "timeUnit" : "day",
        "startTime" : "2018-09-19T16:49:55.863Z",
        "type" : "interval"
      } ],
      "default" : false
    }, {
      "resource" : "spark:Finance_item_recommendations",
      "enabled" : true,
      "triggers" : [ {
        "type" : "job_completion",
        "enabled" : true,
        "triggerType" : "on_success",
        "otherJob" : "spark:Finance_user_item_preferences_aggregation",
        "type" : "job_completion"
      } ],
      "default" : false
    }, {
      "resource" : "spark:Finance_phrase_extraction",
      "enabled" : true,
      "triggers" : [ {
        "type" : "job_completion",
        "enabled" : true,
        "triggerType" : "on_success",
        "otherJob" : "spark:Finance_spell_correction",
        "type" : "job_completion"
      } ],
      "default" : false
    }, {
      "resource" : "spark:Finance_session_rollup",
      "enabled" : true,
      "triggers" : [ {
        "type" : "interval",
        "enabled" : true,
        "interval" : 15,
        "timeUnit" : "minute",
        "startTime" : "2018-09-18T17:04:55.420Z",
        "type" : "interval"
      } ],
      "default" : false
    }, {
      "resource" : "spark:Finance_spell_correction",
      "enabled" : true,
      "triggers" : [ {
        "type" : "interval",
        "enabled" : true,
        "interval" : 1,
        "timeUnit" : "day",
        "startTime" : "2019-01-17T18:24:16.547Z",
        "type" : "interval"
      } ],
      "default" : false
    }, {
      "resource" : "spark:Finance_synonym_detection",
      "enabled" : true,
      "triggers" : [ {
        "type" : "job_completion",
        "enabled" : true,
        "triggerType" : "on_success",
        "otherJob" : "spark:Finance_phrase_extraction",
        "type" : "job_completion"
      } ],
      "default" : false
    }, {
      "resource" : "spark:Finance_user_item_preferences_aggregation",
      "enabled" : true,
      "triggers" : [ {
        "type" : "interval",
        "enabled" : true,
        "interval" : 1,
        "timeUnit" : "day",
        "startTime" : "2018-09-18T17:06:55.572Z",
        "type" : "interval"
      } ],
      "default" : false
    }, {
      "resource" : "spark:Finance_user_query_history_aggregation",
      "enabled" : true,
      "triggers" : [ {
        "type" : "interval",
        "enabled" : true,
        "interval" : 1,
        "timeUnit" : "day",
        "startTime" : "2018-09-18T17:08:55.698Z",
        "type" : "interval"
      } ],
      "default" : false
    } ],
    "sparkJobs" : [ {
      "type" : "sql_template",
      "id" : "Finance_click_signals_aggregation",
      "inputCollection" : "Finance_signals",
      "outputCollection" : "Finance_signals_aggr",
      "sql" : "WITH sigs_with_filters AS (\n   SELECT c.query as query,\n          c.doc_id,\n          q.filters_s as filters,\n          c.type,\n          c.ref_time,\n          c.count_i,\n          c.timestamp_tdt,\n          c.weight_d\n     FROM ${inputCollection} c\n LEFT JOIN (SELECT id, filters_s FROM ${inputCollection} WHERE type='response') q ON q.id = c.fusion_query_id\n    WHERE c.type IN (${signalTypes})\n ), signal_type_groups AS (\n     SELECT SUM(count_i) AS typed_aggr_count_i,\n            query,\n            doc_id,\n            type,\n            filters,\n            time_decay(count_i, timestamp_tdt, \"30 days\", ref_time, weight_d) AS typed_weight_d\n       FROM sigs_with_filters\n   GROUP BY doc_id, query, filters, type\n ) SELECT SUM(typed_aggr_count_i) AS aggr_count_i,\n          query AS query_s,\n          query AS query_t,\n          doc_id AS doc_id_s,\n          filters AS filters_s,\n          SPLIT(filters, ' \\\\$ ') AS filters_ss,\n          weighted_sum(typed_weight_d, type, '${signalTypeWeights}') AS weight_d\n     FROM signal_type_groups\n GROUP BY query, doc_id, filters",
      "rollupSql" : "SELECT query_s,\n          query_s as query_t,\n          doc_id_s,\n          filters_s,\n          first(aggr_type_s) AS aggr_type_s,\n          SPLIT(filters_s, ' \\\\$ ') AS filters_ss,\n          SUM(weight_d) AS weight_d,\n          SUM(aggr_count_i) AS aggr_count_i\n     FROM Finance_signals_aggr\n GROUP BY query_s, doc_id_s, filters_s",
      "parameters" : [ {
        "key" : "signalTypeWeights",
        "value" : "click:1.0,cart:10.0,purchase:25.0"
      } ],
      "selectQuery" : "*:*",
      "sourceRemove" : false,
      "sourceCatchup" : true,
      "outputRollup" : true,
      "hiddenParameters" : [ {
        "key" : "signalTypes",
        "value" : "_regex/signalTypeWeights/([\\w\\-\\.]*):([\\d\\.\\-]*)(,|$)/'$1'$3/g"
      }, {
        "key" : "optimizeOutput",
        "value" : "4"
      } ],
      "skipCheckEnabled" : true,
      "notes" : "Computes an aggregated weight for each query / item combination found in the signals collection. The weight for each group is computed using an exponential time-decay on signal count (30 day half-life) and a weighted sum based on the signal type. Use the 'signalTypeWeights' parameter to set the correct signal types and weights for your dataset. The results of this job can be used to boost documents at query time using the boosting stage."
    }, {
      "type" : "headTailAnalysis",
      "id" : "Finance_head_tail",
      "randomSeed" : 1234,
      "trainingCollection" : "Finance_signals",
      "outputCollection" : "Finance_signals_aggr",
      "overwriteOutput" : true,
      "trainingDataFilterQuery" : "type:click OR type:response",
      "fieldToVectorize" : "query",
      "trainingDataFrameConfigOptions" : { },
      "analyzerConfigQuery" : "{ \"analyzers\": [ { \"name\": \"StdTokLowerStem\",\"charFilters\": [ { \"type\": \"htmlstrip\" } ],\"tokenizer\": { \"type\": \"standard\" },\"filters\": [{ \"type\": \"lowercase\" },{ \"type\": \"englishminimalstem\" }] }],\"fields\": [{ \"regex\": \".+\", \"analyzer\": \"StdTokLowerStem\" } ]}",
      "countField" : "count_i",
      "mainType" : "click",
      "filterType" : "response",
      "signalTypeField" : "type",
      "minCountMain" : 1,
      "minCountFilter" : 20,
      "queryLenThreshold" : 2,
      "userHead" : -1.0,
      "userTail" : -1.0,
      "topQ" : [ 100.0, 0.01 ],
      "trafficPerc" : [ 0.25, 0.5, 0.75 ],
      "lastTraffic" : [ 0.01 ],
      "trafficCount" : [ 5.0 ],
      "overlapThreshold" : 4,
      "lenScale" : 6,
      "overlapNumBoost" : 10.0,
      "headQueryCntBoost" : 1.0,
      "tailRewrite" : true,
      "dataFormat" : "solr",
      "trainingDataSamplingFraction" : 1.0,
      "stopwordsList" : [ ]
    }, {
      "type" : "als_recommender",
      "id" : "Finance_item_recommendations",
      "modelId" : "Finance_recommender",
      "modelCollection" : "Finance_recommender_models",
      "saveModel" : false,
      "trainingCollection" : "Finance_signals_aggr",
      "outputCollection" : "Finance_items_for_user_recommendations",
      "outputItemSimCollection" : "Finance_items_for_item_recommendations",
      "trainingDataFilterQuery" : "aggr_id_s:Finance_user_item_preferences_aggregation",
      "popularItemMin" : 2,
      "trainingSampleFraction" : 1.0,
      "userIdField" : "user_id_s",
      "itemIdField" : "doc_id_s",
      "weightField" : "weight_d",
      "numRecs" : 10,
      "numUserRecsPerItem" : 10,
      "numSims" : 10,
      "initialRank" : 100,
      "maxTrainingIterations" : 10,
      "initialAlpha" : 50.0,
      "initialLambda" : 0.01,
      "initialBlocks" : -1,
      "gridSearchWidth" : 0,
      "randomSeed" : 13,
      "implicitRatings" : true,
      "alwaysTrain" : false,
      "deleteOldRecs" : true,
      "itemMetadataJoinField" : "doc_id_s"
    }, {
      "type" : "sip",
      "id" : "Finance_phrase_extraction",
      "trainingDataFilterQuery" : "*:*",
      "randomSeed" : 8180,
      "analyzerConfig" : "{ \"analyzers\": [{ \"name\": \"StdTokLowerStop\",\"charFilters\": [ { \"type\": \"htmlstrip\" } ],\"tokenizer\": { \"type\": \"standard\" },\"filters\": [{ \"type\": \"lowercase\" },{ \"type\": \"KStem\" },{ \"type\": \"fusionstop\", \"ignoreCase\": \"true\", \"format\": \"snowball\", \"words\": \"org/apache/lucene/analysis/snowball/english_stop.txt\" }] }],\"fields\": [{ \"regex\": \".+\", \"analyzer\": \"StdTokLowerStop\" } ]}",
      "trainingCollection" : "Finance_signals",
      "outputCollection" : "Finance_query_rewrite_staging",
      "overwriteOutput" : true,
      "fieldToVectorize" : "query",
      "trainingDataSamplingFraction" : 1.0,
      "trainingDataFrameConfigOptions" : { },
      "ngramSize" : 3,
      "minmatch" : 5,
      "attachPhrases" : false,
      "dataFormat" : "solr",
      "sourceFields" : "query",
      "stopwordsList" : [ "org/apache/lucene/analysis/snowball/english_stop.txt" ]
    }, {
      "type" : "sql_template",
      "id" : "Finance_session_rollup",
      "inputCollection" : "Finance_signals",
      "outputCollection" : "Finance_signals",
      "sql" : "WITH session_agg AS (\n     SELECT COUNT(1) AS activity_count,\n            MIN(timestamp_tdt) AS start,\n            MAX(timestamp_tdt) AS end,\n            timediff(MAX(timestamp_tdt), MIN(timestamp_tdt), \"MINUTES\") AS duration,\n            'session' AS type,\n            first(user_id) AS user,\n            session_keywords(query) AS keywords,\n            session\n       FROM ${inputCollection}\n      WHERE timestamp_tdt IS NOT NULL\n        AND type != 'session'\n        AND session IS NOT NULL\n        AND session NOT IN (SELECT session FROM ${inputCollection} WHERE type = 'session' AND session IS NOT NULL)\n   GROUP BY session\n     HAVING timediff(current_timestamp(), MAX(timestamp_tdt), \"SECONDS\") >= ${elapsedSecsSinceLastActivity} OR timediff(current_timestamp(), MIN(timestamp_tdt), \"SECONDS\") >= ${elapsedSecsSinceSessionStart})\n SELECT activity_count, start, end, duration, type, user, keywords, session FROM session_agg",
      "parameters" : [ {
        "key" : "elapsedSecsSinceLastActivity",
        "value" : "360"
      }, {
        "key" : "elapsedSecsSinceSessionStart",
        "value" : "3600"
      } ],
      "selectQuery" : "*:*",
      "sourceRemove" : false,
      "sourceCatchup" : false,
      "outputRollup" : false,
      "hiddenParameters" : [ {
        "key" : "outputProjectedFieldsOnly",
        "value" : "true"
      } ],
      "skipCheckEnabled" : false,
      "notes" : "Aggregate related user activity into a session signal containing activity count, duration, and keywords (based on user search terms). This job is used by the Fusion Insights application to show reports about user sessions. Use the 'elapsedSecsSinceLastActivity' and 'elapsedSecsSinceSessionStart' parameters to determine when a user session is considered to be complete."
    }, {
      "type" : "tokenPhraseSpellCorrection",
      "id" : "Finance_spell_correction",
      "trainingDataFilterQuery" : "type:click OR type:response",
      "trainingCollection" : "Finance_signals",
      "outputCollection" : "Finance_query_rewrite_staging",
      "overwriteOutput" : true,
      "maxDistance" : 2,
      "analyzerConfigQuery" : "{ \"analyzers\": [ { \"name\": \"LetterTokLowerStem\",\"charFilters\": [ { \"type\": \"htmlstrip\" } ],\"tokenizer\": { \"type\": \"letter\" },\"filters\": [{ \"type\": \"lowercase\" },{ \"type\": \"KStem\" }] }],\"fields\": [{ \"regex\": \".+\", \"analyzer\": \"LetterTokLowerStem\" } ]}",
      "analyzerConfigDictionary" : "{ \"analyzers\": [ { \"name\": \"LetterTokLowerStem\",\"charFilters\": [ { \"type\": \"htmlstrip\" } ],\"tokenizer\": { \"type\": \"letter\" },\"filters\": [{ \"type\": \"lowercase\" },{ \"type\": \"KStem\" }] }],\"fields\": [{ \"regex\": \".+\", \"analyzer\": \"LetterTokLowerStem\" } ]}",
      "lenScale" : 5,
      "fieldToVectorize" : "query",
      "mainType" : "click",
      "filterType" : "response",
      "signalTypeField" : "type",
      "minCountMain" : 1,
      "minCountFilter" : 10,
      "trainingDataSamplingFraction" : 1.0,
      "countField" : "count_i",
      "dictionaryDataFilterQuery" : "*:*",
      "minPrefix" : 1,
      "minMispellingLen" : 5,
      "correctionThreshold" : 0.8,
      "misspellingThreshold" : 0.8,
      "lastCharMatchBoost" : 1.0,
      "soundMatchBoost" : 3.0,
      "correctCntBoost" : 2.0,
      "editDistBoost" : 2.0,
      "corMisRatio" : 3.0,
      "randomSeed" : 1234,
      "trainingDataFrameConfigOptions" : { },
      "signalDataIndicator" : true,
      "dataFormat" : "solr",
      "stopwordsList" : [ ]
    }, {
      "type" : "synonymDetection",
      "id" : "Finance_synonym_detection",
      "trainingDataFilterQuery" : "*:*",
      "trainingCollection" : "Finance_signals",
      "outputCollection" : "Finance_query_rewrite_staging",
      "overwriteOutput" : true,
      "misspellingCollection" : "Finance_query_rewrite_staging",
      "misspellingsFilterQuery" : "type:spell",
      "keyPhraseCollection" : "Finance_query_rewrite_staging",
      "keyPhraseFilterQuery" : "type:phrase",
      "countField" : "count_i",
      "fieldToVectorize" : "query",
      "docIdField" : "doc_id",
      "overlapThreshold" : 0.5,
      "minQueryCount" : 5,
      "similarityThreshold" : 0.01,
      "trainingDataSamplingFraction" : 1.0,
      "analyzerConfigQuery" : "{ \"analyzers\": [ { \"name\": \"LetterTokLowerStem\",\"charFilters\": [ { \"type\": \"htmlstrip\" } ],\"tokenizer\": { \"type\": \"letter\" },\"filters\": [{ \"type\": \"lowercase\" },{ \"type\": \"KStem\" }] }],\"fields\": [{ \"regex\": \".+\", \"analyzer\": \"LetterTokLowerStem\" } ]}",
      "randomSeed" : 1234,
      "trainingDataFrameConfigOptions" : { },
      "dataFormat" : "solr",
      "stopwordsList" : [ ]
    }, {
      "type" : "sql_template",
      "id" : "Finance_user_item_preferences_aggregation",
      "inputCollection" : "Finance_signals",
      "outputCollection" : "Finance_signals_aggr",
      "sql" : "WITH signal_type_groups AS (\n    SELECT SUM(count_i) AS typed_aggr_count_i,\n           doc_id,\n           user_id,\n           type,\n           time_decay(count_i, timestamp_tdt, \"30 days\", ref_time, weight_d) AS typed_weight_d\n      FROM ${inputCollection}\n     WHERE type IN (${signalTypes})\n  GROUP BY user_id, doc_id, type\n ) SELECT SUM(typed_aggr_count_i) AS aggr_count_i,\n          doc_id AS doc_id_s,\n          user_id AS user_id_s,\n          weighted_sum(typed_weight_d, type, '${signalTypeWeights}') AS weight_d\n     FROM signal_type_groups\n GROUP BY doc_id, user_id",
      "parameters" : [ {
        "key" : "signalTypeWeights",
        "value" : "click:1.0,cart:10.0,purchase:25.0"
      } ],
      "selectQuery" : "*:*",
      "sourceRemove" : false,
      "sourceCatchup" : true,
      "outputRollup" : true,
      "hiddenParameters" : [ {
        "key" : "signalTypes",
        "value" : "_regex/signalTypeWeights/([\\w\\-\\.]*):([\\d\\.\\-]*)(,|$)/'$1'$3/g"
      } ],
      "skipCheckEnabled" : true,
      "notes" : "Computes an aggregated weight for each user / item combination found in the signals collection. The weight for each group is computed using an exponential time-decay on signal count (30 day half-life) and a weighted sum based on the signal type. Use the 'signalTypeWeights' parameter to set the correct signal types and weights for your dataset. The results of this job can be used as input to the ALS recommendation job."
    }, {
      "type" : "sql_template",
      "id" : "Finance_user_query_history_aggregation",
      "inputCollection" : "Finance_signals",
      "outputCollection" : "Finance_signals_aggr",
      "sql" : "WITH signal_type_groups AS (\n    SELECT SUM(count_i) AS typed_aggr_count_i,\n           user_id,\n           query,\n           type,\n           time_decay(count_i, timestamp_tdt, \"30 days\", ref_time, weight_d) AS typed_weight_d\n      FROM ${inputCollection}\n     WHERE type IN (${signalTypes})\n  GROUP BY query, user_id, type\n ) SELECT SUM(typed_aggr_count_i) AS aggr_count_i,\n          user_id AS user_id_s,\n          query AS query_s,\n          weighted_sum(typed_weight_d, type, '${signalTypeWeights}') AS weight_d\n     FROM signal_type_groups\n GROUP BY user_id, query",
      "parameters" : [ {
        "key" : "signalTypeWeights",
        "value" : "click:1.0,cart:10.0,purchase:25.0"
      } ],
      "selectQuery" : "*:*",
      "sourceRemove" : false,
      "sourceCatchup" : true,
      "outputRollup" : true,
      "hiddenParameters" : [ {
        "key" : "signalTypes",
        "value" : "_regex/signalTypeWeights/([\\w\\-\\.]*):([\\d\\.\\-]*)(,|$)/'$1'$3/g"
      } ],
      "skipCheckEnabled" : true,
      "notes" : "Computes an aggregated weight for each user / query combination found in the signals collection. The weight for each group is computed using an exponential time-decay on signal count (30 day half-life) and a weighted sum based on the signal type. Use the 'signalTypeWeights' parameter to set the correct signal types and weights for your dataset. The results of this job can be used to boost queries for a user based on their past queries."
    } ],
    "blobs" : [ {
      "id" : "autocomplete/autocomplete_documentation.json",
      "path" : "/autocomplete/autocomplete_documentation.json",
      "dir" : "/autocomplete",
      "filename" : "autocomplete_documentation.json",
      "contentType" : "application/json",
      "size" : 4551739,
      "modifiedTime" : "2019-04-09T17:00:28.943Z",
      "version" : 1630356613569183744,
      "md5" : "bf110654e810b140ab25871d1b81672c",
      "metadata" : {
        "resourceType" : "file"
      }
    }, {
      "id" : "autocomplete/autocomplete_ui-panel.json",
      "path" : "/autocomplete/autocomplete_ui-panel.json",
      "dir" : "/autocomplete",
      "filename" : "autocomplete_ui-panel.json",
      "contentType" : "application/json",
      "size" : 7157,
      "modifiedTime" : "2019-04-09T17:00:29.105Z",
      "version" : 1630356613739053056,
      "md5" : "8beeb8214d0637088cfb5ce10c725879",
      "metadata" : {
        "resourceType" : "file"
      }
    }, {
      "id" : "quickstart/Iowa_Liquor_Sales.csv",
      "path" : "/quickstart/Iowa_Liquor_Sales.csv",
      "dir" : "/quickstart",
      "filename" : "Iowa_Liquor_Sales.csv",
      "contentType" : "text/csv",
      "size" : 44893745,
      "modifiedTime" : "2019-04-09T17:00:33.270Z",
      "version" : 1630356618106372096,
      "md5" : "f7aaa0225b28070f10839c43518415d2",
      "metadata" : {
        "resourceType" : "file"
      }
    }, {
      "id" : "quickstart/Revolution-Session-Data.csv",
      "path" : "/quickstart/Revolution-Session-Data.csv",
      "dir" : "/quickstart",
      "filename" : "Revolution-Session-Data.csv",
      "contentType" : "text/csv",
      "size" : 225442,
      "modifiedTime" : "2019-04-09T17:00:33.518Z",
      "version" : 1630356618366418944,
      "md5" : "0b4b18b0c20519130cc7a7612cb67b76",
      "metadata" : {
        "resourceType" : "file"
      }
    }, {
      "id" : "quickstart/arxiv-fusion.json",
      "path" : "/quickstart/arxiv-fusion.json",
      "dir" : "/quickstart",
      "filename" : "arxiv-fusion.json",
      "contentType" : "application/json",
      "size" : 2484980,
      "modifiedTime" : "2019-04-09T17:00:33.845Z",
      "version" : 1630356618709303296,
      "md5" : "96b268b0185d898ca28af28f0783947b",
      "metadata" : {
        "resourceType" : "file"
      }
    }, {
      "id" : "stopwords/large_stopwords_en.txt",
      "path" : "/stopwords/large_stopwords_en.txt",
      "dir" : "/stopwords",
      "filename" : "large_stopwords_en.txt",
      "contentType" : "text/plain",
      "size" : 2094,
      "modifiedTime" : "2019-04-09T17:00:34.039Z",
      "version" : 1630356618912727040,
      "md5" : "bb2859bbfd50c8ff2a507af7dd00c3ad",
      "metadata" : {
        "resourceType" : "file"
      }
    }, {
      "id" : "tickers.lst",
      "path" : "/tickers.lst",
      "dir" : "/",
      "filename" : "tickers.lst",
      "contentType" : "text/plain",
      "size" : 2085,
      "modifiedTime" : "2019-04-09T17:00:34.205Z",
      "version" : 1630356619086790656,
      "md5" : "a6837dfaa3f6fdd31b659361186fa76d",
      "metadata" : {
        "resourceType" : "unspecified"
      }
    } ],
    "fusionApps" : [ {
      "id" : "Finance",
      "name" : "Finance",
      "description" : "Market insights discovery demo",
      "dataUri" : "/admin/App-Tile-01-460x160.png",
      "properties" : {
        "tileColor" : "apps-darkblue",
        "previousCollectionId" : "Finance"
      }
    } ],
    "customRules" : [ {
      "id" : "some_custom_rule_2",
      "display_type" : "Custom Rule",
      "pipeline_id" : "customRuleTest",
      "schema" : {
        "type" : "object",
        "properties" : {
          "custom_param1" : {
            "type" : "string",
            "title" : "Custom Param One",
            "description" : "Some param from the rule creator"
          },
          "custom_param2" : {
            "type" : "string",
            "title" : "Custom Param 2",
            "description" : "Some other param the rule creator needs to provide"
          }
        }
      }
    } ],
    "dataSources" : [ {
      "id" : "client-accounts",
      "created" : "2018-10-29T19:12:30.863Z",
      "modified" : "2018-10-29T19:12:30.863Z",
      "connector" : "lucid.web",
      "type" : "web",
      "pipeline" : "client_accounts",
      "parserId" : "client_accounts",
      "properties" : {
        "refreshOlderThan" : -1,
        "f.appendTrailingSlashToLinks" : false,
        "refreshErrors" : false,
        "restrictToTreeIgnoredHostPrefixes" : [ "www." ],
        "dedupeSaveSignature" : false,
        "crawlDBType" : "in-memory",
        "f.firefoxHeadlessBrowser" : true,
        "f.discardLinkURLQueries" : false,
        "fetchDelayMS" : 0,
        "f.respectMetaEquivRedirects" : false,
        "refreshAll" : true,
        "f.defaultMIMEType" : "application/octet-stream",
        "f.extraLoadTimeMs" : 250,
        "f.jsPageLoadTimeout" : 20000,
        "restrictToTreeAllowSubdomains" : false,
        "f.jsScriptTimeout" : 20000,
        "f.requestCounterMinWaitMs" : 5000,
        "maxItems" : -1,
        "f.jsAjaxTimeout" : 20000,
        "dedupe" : false,
        "f.scrapeLinksBeforeFiltering" : false,
        "trackEmbeddedIDs" : true,
        "f.allowAllCertificates" : false,
        "collection" : "Finance",
        "forceRefresh" : false,
        "delete404" : true,
        "f.obeyRobots" : true,
        "parserRetryCount" : 0,
        "f.quitTimeoutMs" : 5000,
        "fetchDelayMSPerHost" : true,
        "fetchThreads" : 5,
        "indexCrawlDBToSolr" : false,
        "f.requestRetryCount" : 0,
        "retainOutlinks" : false,
        "restrictToTree" : true,
        "f.defaultCharSet" : "UTF-8",
        "f.useRequestCounter" : true,
        "emitThreads" : 5,
        "f.headlessBrowser" : true,
        "f.useFirefox" : false,
        "f.canonicalTagsRedirectLimit" : 4,
        "f.requestCounterMaxWaitMs" : 20000,
        "diagnosticMode" : false,
        "f.followCanonicalTags" : true,
        "delete" : true,
        "initial_mapping" : {
          "reservedFieldsMappingAllowed" : false,
          "skip" : false,
          "type" : "field-mapping",
          "mappings" : [ {
            "source" : "charSet",
            "target" : "charSet_s",
            "operation" : "move"
          }, {
            "source" : "fetchedDate",
            "target" : "fetchedDate_dt",
            "operation" : "move"
          }, {
            "source" : "lastModified",
            "target" : "lastModified_dt",
            "operation" : "move"
          }, {
            "source" : "signature",
            "target" : "dedupeSignature_s",
            "operation" : "move"
          }, {
            "source" : "contentSignature",
            "target" : "signature_s",
            "operation" : "move"
          }, {
            "source" : "length",
            "target" : "length_l",
            "operation" : "move"
          }, {
            "source" : "mimeType",
            "target" : "mimeType_s",
            "operation" : "move"
          }, {
            "source" : "parent",
            "target" : "parent_s",
            "operation" : "move"
          }, {
            "source" : "owner",
            "target" : "owner_s",
            "operation" : "move"
          }, {
            "source" : "group",
            "target" : "group_s",
            "operation" : "move"
          } ],
          "id" : "FromMap"
        },
        "f.extraPageLoadDeltaChars" : 0,
        "restrictToTreeUseHostAndPath" : false,
        "sitemap_incremental_crawling" : false,
        "f.screenshotFullscreen" : false,
        "f.filteringRootTags" : [ "body", "head" ],
        "startLinks" : [ "http://localhost:8780/data/Finance/client_accounts.csv" ],
        "failFastOnStartLinkFailure" : true,
        "f.timeoutMS" : 10000,
        "f.discardLinkURLAnchors" : true,
        "chunkSize" : 1,
        "f.simulateMobile" : false,
        "f.obeyRobotsDelay" : true,
        "f.useHighPerfJsEval" : false,
        "deleteErrorsAfter" : -1,
        "f.userAgentName" : "Lucidworks-Anda/2.0",
        "retryEmit" : true,
        "f.crawlJS" : false,
        "depth" : -1,
        "f.cookieSpec" : "browser-compatibility",
        "refreshStartLinks" : false,
        "f.maxSizeBytes" : 4194304,
        "aliasExpiration" : 1,
        "f.takeScreenshot" : false
      }
    }, {
      "id" : "clients",
      "created" : "2018-10-29T19:09:01.045Z",
      "modified" : "2018-10-29T19:09:01.045Z",
      "connector" : "lucid.web",
      "type" : "web",
      "pipeline" : "clients",
      "parserId" : "clients",
      "properties" : {
        "refreshOlderThan" : -1,
        "f.appendTrailingSlashToLinks" : false,
        "refreshErrors" : false,
        "restrictToTreeIgnoredHostPrefixes" : [ "www." ],
        "dedupeSaveSignature" : false,
        "crawlDBType" : "in-memory",
        "f.firefoxHeadlessBrowser" : true,
        "f.discardLinkURLQueries" : false,
        "fetchDelayMS" : 0,
        "f.respectMetaEquivRedirects" : false,
        "refreshAll" : true,
        "f.defaultMIMEType" : "application/octet-stream",
        "f.extraLoadTimeMs" : 250,
        "f.jsPageLoadTimeout" : 20000,
        "restrictToTreeAllowSubdomains" : false,
        "f.jsScriptTimeout" : 20000,
        "f.requestCounterMinWaitMs" : 5000,
        "maxItems" : -1,
        "f.jsAjaxTimeout" : 20000,
        "dedupe" : false,
        "f.scrapeLinksBeforeFiltering" : false,
        "trackEmbeddedIDs" : true,
        "f.allowAllCertificates" : false,
        "collection" : "Finance",
        "forceRefresh" : false,
        "delete404" : true,
        "f.obeyRobots" : true,
        "parserRetryCount" : 0,
        "f.quitTimeoutMs" : 5000,
        "fetchDelayMSPerHost" : true,
        "fetchThreads" : 5,
        "indexCrawlDBToSolr" : false,
        "f.requestRetryCount" : 0,
        "retainOutlinks" : false,
        "restrictToTree" : true,
        "f.defaultCharSet" : "UTF-8",
        "f.useRequestCounter" : true,
        "emitThreads" : 5,
        "f.headlessBrowser" : true,
        "f.useFirefox" : false,
        "f.canonicalTagsRedirectLimit" : 4,
        "f.requestCounterMaxWaitMs" : 20000,
        "diagnosticMode" : false,
        "f.followCanonicalTags" : true,
        "delete" : true,
        "initial_mapping" : {
          "reservedFieldsMappingAllowed" : false,
          "skip" : false,
          "type" : "field-mapping",
          "mappings" : [ {
            "source" : "charSet",
            "target" : "charSet_s",
            "operation" : "move"
          }, {
            "source" : "fetchedDate",
            "target" : "fetchedDate_dt",
            "operation" : "move"
          }, {
            "source" : "lastModified",
            "target" : "lastModified_dt",
            "operation" : "move"
          }, {
            "source" : "signature",
            "target" : "dedupeSignature_s",
            "operation" : "move"
          }, {
            "source" : "contentSignature",
            "target" : "signature_s",
            "operation" : "move"
          }, {
            "source" : "length",
            "target" : "length_l",
            "operation" : "move"
          }, {
            "source" : "mimeType",
            "target" : "mimeType_s",
            "operation" : "move"
          }, {
            "source" : "parent",
            "target" : "parent_s",
            "operation" : "move"
          }, {
            "source" : "owner",
            "target" : "owner_s",
            "operation" : "move"
          }, {
            "source" : "group",
            "target" : "group_s",
            "operation" : "move"
          } ],
          "id" : "FromMap"
        },
        "f.extraPageLoadDeltaChars" : 0,
        "restrictToTreeUseHostAndPath" : false,
        "sitemap_incremental_crawling" : false,
        "f.screenshotFullscreen" : false,
        "f.filteringRootTags" : [ "body", "head" ],
        "startLinks" : [ "http://localhost:8780/data/Finance/clients.csv" ],
        "failFastOnStartLinkFailure" : true,
        "f.timeoutMS" : 10000,
        "f.discardLinkURLAnchors" : true,
        "chunkSize" : 1,
        "f.simulateMobile" : false,
        "f.obeyRobotsDelay" : true,
        "f.useHighPerfJsEval" : false,
        "deleteErrorsAfter" : -1,
        "f.userAgentName" : "Lucidworks-Anda/2.0",
        "retryEmit" : true,
        "f.crawlJS" : false,
        "depth" : -1,
        "f.cookieSpec" : "browser-compatibility",
        "refreshStartLinks" : false,
        "f.maxSizeBytes" : 4194304,
        "aliasExpiration" : 1,
        "f.takeScreenshot" : false
      }
    }, {
      "id" : "sp500",
      "created" : "2018-09-18T18:30:10.136Z",
      "modified" : "2018-09-18T18:30:10.136Z",
      "connector" : "lucid.web",
      "type" : "web",
      "description" : "Reference data set for S&P 500",
      "pipeline" : "sp500",
      "parserId" : "sp500",
      "properties" : {
        "refreshOlderThan" : -1,
        "f.appendTrailingSlashToLinks" : false,
        "refreshErrors" : false,
        "restrictToTreeIgnoredHostPrefixes" : [ "www." ],
        "dedupeSaveSignature" : false,
        "crawlDBType" : "in-memory",
        "f.firefoxHeadlessBrowser" : true,
        "f.discardLinkURLQueries" : false,
        "fetchDelayMS" : 0,
        "f.respectMetaEquivRedirects" : false,
        "refreshAll" : true,
        "f.defaultMIMEType" : "application/octet-stream",
        "f.extraLoadTimeMs" : 250,
        "f.jsPageLoadTimeout" : 20000,
        "restrictToTreeAllowSubdomains" : false,
        "f.jsScriptTimeout" : 20000,
        "f.requestCounterMinWaitMs" : 5000,
        "maxItems" : -1,
        "f.jsAjaxTimeout" : 20000,
        "dedupe" : false,
        "f.scrapeLinksBeforeFiltering" : false,
        "trackEmbeddedIDs" : true,
        "f.allowAllCertificates" : false,
        "collection" : "Finance",
        "forceRefresh" : false,
        "delete404" : true,
        "f.obeyRobots" : true,
        "parserRetryCount" : 0,
        "f.quitTimeoutMs" : 5000,
        "fetchDelayMSPerHost" : true,
        "fetchThreads" : 5,
        "indexCrawlDBToSolr" : false,
        "f.requestRetryCount" : 0,
        "retainOutlinks" : false,
        "restrictToTree" : true,
        "f.defaultCharSet" : "UTF-8",
        "f.useRequestCounter" : true,
        "emitThreads" : 5,
        "f.headlessBrowser" : true,
        "f.useFirefox" : false,
        "f.canonicalTagsRedirectLimit" : 4,
        "f.requestCounterMaxWaitMs" : 20000,
        "diagnosticMode" : false,
        "f.followCanonicalTags" : true,
        "delete" : true,
        "initial_mapping" : {
          "reservedFieldsMappingAllowed" : false,
          "skip" : false,
          "type" : "field-mapping",
          "mappings" : [ {
            "source" : "charSet",
            "target" : "charSet_s",
            "operation" : "move"
          }, {
            "source" : "fetchedDate",
            "target" : "fetchedDate_dt",
            "operation" : "move"
          }, {
            "source" : "lastModified",
            "target" : "lastModified_dt",
            "operation" : "move"
          }, {
            "source" : "signature",
            "target" : "dedupeSignature_s",
            "operation" : "move"
          }, {
            "source" : "contentSignature",
            "target" : "signature_s",
            "operation" : "move"
          }, {
            "source" : "length",
            "target" : "length_l",
            "operation" : "move"
          }, {
            "source" : "mimeType",
            "target" : "mimeType_s",
            "operation" : "move"
          }, {
            "source" : "parent",
            "target" : "parent_s",
            "operation" : "move"
          }, {
            "source" : "owner",
            "target" : "owner_s",
            "operation" : "move"
          }, {
            "source" : "group",
            "target" : "group_s",
            "operation" : "move"
          } ],
          "id" : "FromMap"
        },
        "f.extraPageLoadDeltaChars" : 0,
        "restrictToTreeUseHostAndPath" : false,
        "sitemap_incremental_crawling" : false,
        "f.screenshotFullscreen" : false,
        "f.filteringRootTags" : [ "body", "head" ],
        "startLinks" : [ "http://localhost:8780/data/Finance/sp500.csv" ],
        "failFastOnStartLinkFailure" : true,
        "f.timeoutMS" : 10000,
        "f.discardLinkURLAnchors" : true,
        "chunkSize" : 1,
        "f.simulateMobile" : false,
        "f.obeyRobotsDelay" : true,
        "f.useHighPerfJsEval" : false,
        "deleteErrorsAfter" : -1,
        "f.userAgentName" : "Lucidworks-Anda/2.0",
        "retryEmit" : true,
        "f.crawlJS" : false,
        "depth" : -1,
        "f.cookieSpec" : "browser-compatibility",
        "refreshStartLinks" : false,
        "f.maxSizeBytes" : 4194304,
        "aliasExpiration" : 1,
        "f.takeScreenshot" : false
      }
    }, {
      "id" : "sp500-historical",
      "created" : "2018-09-18T18:42:29.437Z",
      "modified" : "2018-09-18T18:42:29.437Z",
      "connector" : "lucid.web",
      "type" : "web",
      "description" : "S&P 500 historical stock prices",
      "pipeline" : "sp500-historical",
      "parserId" : "sp500-historical",
      "properties" : {
        "refreshOlderThan" : -1,
        "f.appendTrailingSlashToLinks" : false,
        "refreshErrors" : false,
        "restrictToTreeIgnoredHostPrefixes" : [ "www." ],
        "dedupeSaveSignature" : false,
        "crawlDBType" : "in-memory",
        "f.firefoxHeadlessBrowser" : true,
        "f.discardLinkURLQueries" : false,
        "fetchDelayMS" : 0,
        "f.respectMetaEquivRedirects" : false,
        "refreshAll" : true,
        "f.defaultMIMEType" : "application/octet-stream",
        "f.extraLoadTimeMs" : 250,
        "f.jsPageLoadTimeout" : 20000,
        "restrictToTreeAllowSubdomains" : false,
        "f.jsScriptTimeout" : 20000,
        "f.requestCounterMinWaitMs" : 5000,
        "f.jsAjaxTimeout" : 20000,
        "maxItems" : -1,
        "dedupe" : false,
        "f.scrapeLinksBeforeFiltering" : false,
        "trackEmbeddedIDs" : true,
        "f.allowAllCertificates" : false,
        "collection" : "Finance",
        "forceRefresh" : false,
        "delete404" : true,
        "f.obeyRobots" : true,
        "parserRetryCount" : 0,
        "f.quitTimeoutMs" : 5000,
        "fetchDelayMSPerHost" : true,
        "indexCrawlDBToSolr" : false,
        "f.requestRetryCount" : 0,
        "fetchThreads" : 1,
        "retainOutlinks" : false,
        "restrictToTree" : true,
        "f.defaultCharSet" : "UTF-8",
        "f.useRequestCounter" : true,
        "emitThreads" : 5,
        "f.headlessBrowser" : true,
        "f.useFirefox" : false,
        "f.canonicalTagsRedirectLimit" : 4,
        "f.requestCounterMaxWaitMs" : 20000,
        "diagnosticMode" : false,
        "f.followCanonicalTags" : true,
        "delete" : true,
        "initial_mapping" : {
          "reservedFieldsMappingAllowed" : false,
          "skip" : false,
          "type" : "field-mapping",
          "mappings" : [ {
            "source" : "charSet",
            "target" : "charSet_s",
            "operation" : "move"
          }, {
            "source" : "fetchedDate",
            "target" : "fetchedDate_dt",
            "operation" : "move"
          }, {
            "source" : "lastModified",
            "target" : "lastModified_dt",
            "operation" : "move"
          }, {
            "source" : "signature",
            "target" : "dedupeSignature_s",
            "operation" : "move"
          }, {
            "source" : "contentSignature",
            "target" : "signature_s",
            "operation" : "move"
          }, {
            "source" : "length",
            "target" : "length_l",
            "operation" : "move"
          }, {
            "source" : "mimeType",
            "target" : "mimeType_s",
            "operation" : "move"
          }, {
            "source" : "parent",
            "target" : "parent_s",
            "operation" : "move"
          }, {
            "source" : "owner",
            "target" : "owner_s",
            "operation" : "move"
          }, {
            "source" : "group",
            "target" : "group_s",
            "operation" : "move"
          } ],
          "id" : "FromMap"
        },
        "f.extraPageLoadDeltaChars" : 0,
        "restrictToTreeUseHostAndPath" : false,
        "sitemap_incremental_crawling" : false,
        "f.screenshotFullscreen" : false,
        "f.filteringRootTags" : [ "body", "head" ],
        "startLinks" : [ "http://localhost:8780/data/Finance/sp500.csv" ],
        "failFastOnStartLinkFailure" : true,
        "f.timeoutMS" : 10000,
        "f.discardLinkURLAnchors" : true,
        "chunkSize" : 1,
        "f.simulateMobile" : false,
        "f.obeyRobotsDelay" : true,
        "f.useHighPerfJsEval" : false,
        "deleteErrorsAfter" : -1,
        "f.userAgentName" : "Lucidworks-Anda/2.0",
        "retryEmit" : true,
        "f.crawlJS" : false,
        "depth" : -1,
        "f.cookieSpec" : "browser-compatibility",
        "refreshStartLinks" : false,
        "f.maxSizeBytes" : 4194304,
        "aliasExpiration" : 1,
        "f.takeScreenshot" : false
      }
    }, {
      "id" : "tempsp500",
      "created" : "2018-10-08T02:50:13.311Z",
      "modified" : "2018-10-08T02:50:13.311Z",
      "connector" : "lucid.fileupload",
      "type" : "fileupload",
      "pipeline" : "dave_temp",
      "parserId" : "Finance",
      "properties" : {
        "mediaType" : "application/octet-stream",
        "collection" : "dave_temp",
        "fileId" : "sp500_new.csv"
      }
    }, {
      "id" : "user-prefs",
      "created" : "2018-10-12T15:50:22.036Z",
      "modified" : "2018-10-12T15:50:22.036Z",
      "connector" : "lucid.web",
      "type" : "web",
      "pipeline" : "user-prefs",
      "parserId" : "Finance",
      "properties" : {
        "refreshOlderThan" : -1,
        "f.appendTrailingSlashToLinks" : false,
        "refreshErrors" : false,
        "restrictToTreeIgnoredHostPrefixes" : [ "www." ],
        "dedupeSaveSignature" : false,
        "crawlDBType" : "in-memory",
        "f.firefoxHeadlessBrowser" : true,
        "f.discardLinkURLQueries" : false,
        "fetchDelayMS" : 0,
        "f.respectMetaEquivRedirects" : false,
        "refreshAll" : true,
        "f.defaultMIMEType" : "application/octet-stream",
        "f.extraLoadTimeMs" : 250,
        "f.jsPageLoadTimeout" : 20000,
        "restrictToTreeAllowSubdomains" : false,
        "f.jsScriptTimeout" : 20000,
        "f.requestCounterMinWaitMs" : 5000,
        "maxItems" : -1,
        "f.jsAjaxTimeout" : 20000,
        "dedupe" : false,
        "f.scrapeLinksBeforeFiltering" : false,
        "trackEmbeddedIDs" : true,
        "f.allowAllCertificates" : false,
        "collection" : "Finance",
        "forceRefresh" : false,
        "delete404" : true,
        "f.obeyRobots" : true,
        "parserRetryCount" : 0,
        "f.quitTimeoutMs" : 5000,
        "fetchDelayMSPerHost" : true,
        "fetchThreads" : 5,
        "indexCrawlDBToSolr" : false,
        "f.requestRetryCount" : 0,
        "retainOutlinks" : false,
        "restrictToTree" : true,
        "f.defaultCharSet" : "UTF-8",
        "f.useRequestCounter" : true,
        "emitThreads" : 5,
        "f.headlessBrowser" : true,
        "f.useFirefox" : false,
        "f.canonicalTagsRedirectLimit" : 4,
        "f.requestCounterMaxWaitMs" : 20000,
        "diagnosticMode" : false,
        "f.followCanonicalTags" : true,
        "delete" : true,
        "initial_mapping" : {
          "reservedFieldsMappingAllowed" : false,
          "skip" : false,
          "type" : "field-mapping",
          "mappings" : [ {
            "source" : "charSet",
            "target" : "charSet_s",
            "operation" : "move"
          }, {
            "source" : "fetchedDate",
            "target" : "fetchedDate_dt",
            "operation" : "move"
          }, {
            "source" : "lastModified",
            "target" : "lastModified_dt",
            "operation" : "move"
          }, {
            "source" : "signature",
            "target" : "dedupeSignature_s",
            "operation" : "move"
          }, {
            "source" : "contentSignature",
            "target" : "signature_s",
            "operation" : "move"
          }, {
            "source" : "length",
            "target" : "length_l",
            "operation" : "move"
          }, {
            "source" : "mimeType",
            "target" : "mimeType_s",
            "operation" : "move"
          }, {
            "source" : "parent",
            "target" : "parent_s",
            "operation" : "move"
          }, {
            "source" : "owner",
            "target" : "owner_s",
            "operation" : "move"
          }, {
            "source" : "group",
            "target" : "group_s",
            "operation" : "move"
          } ],
          "id" : "FromMap"
        },
        "f.extraPageLoadDeltaChars" : 0,
        "restrictToTreeUseHostAndPath" : false,
        "sitemap_incremental_crawling" : false,
        "f.screenshotFullscreen" : false,
        "f.filteringRootTags" : [ "body", "head" ],
        "startLinks" : [ "http://localhost:8780/data/Finance/user-prefs.csv" ],
        "failFastOnStartLinkFailure" : true,
        "f.timeoutMS" : 10000,
        "f.discardLinkURLAnchors" : true,
        "chunkSize" : 1,
        "f.simulateMobile" : false,
        "f.obeyRobotsDelay" : true,
        "f.useHighPerfJsEval" : false,
        "deleteErrorsAfter" : -1,
        "f.userAgentName" : "Lucidworks-Anda/2.0",
        "retryEmit" : true,
        "f.crawlJS" : false,
        "depth" : -1,
        "f.cookieSpec" : "browser-compatibility",
        "refreshStartLinks" : false,
        "f.maxSizeBytes" : 4194304,
        "aliasExpiration" : 1,
        "f.takeScreenshot" : false
      }
    }, {
      "id" : "user_buckets",
      "created" : "2018-10-05T11:44:59.621Z",
      "modified" : "2018-10-05T11:44:59.621Z",
      "connector" : "lucid.web",
      "type" : "web",
      "pipeline" : "user_buckets",
      "parserId" : "user_buckets",
      "properties" : {
        "refreshOlderThan" : -1,
        "f.appendTrailingSlashToLinks" : false,
        "refreshErrors" : false,
        "restrictToTreeIgnoredHostPrefixes" : [ "www." ],
        "dedupeSaveSignature" : false,
        "crawlDBType" : "in-memory",
        "f.firefoxHeadlessBrowser" : true,
        "f.discardLinkURLQueries" : false,
        "fetchDelayMS" : 0,
        "f.respectMetaEquivRedirects" : false,
        "refreshAll" : true,
        "f.defaultMIMEType" : "application/octet-stream",
        "f.extraLoadTimeMs" : 250,
        "f.jsPageLoadTimeout" : 20000,
        "restrictToTreeAllowSubdomains" : false,
        "f.jsScriptTimeout" : 20000,
        "f.requestCounterMinWaitMs" : 5000,
        "maxItems" : -1,
        "f.jsAjaxTimeout" : 20000,
        "dedupe" : false,
        "f.scrapeLinksBeforeFiltering" : false,
        "trackEmbeddedIDs" : true,
        "f.allowAllCertificates" : false,
        "collection" : "Finance",
        "forceRefresh" : false,
        "delete404" : true,
        "f.obeyRobots" : true,
        "parserRetryCount" : 0,
        "f.quitTimeoutMs" : 5000,
        "fetchDelayMSPerHost" : true,
        "fetchThreads" : 5,
        "indexCrawlDBToSolr" : false,
        "f.requestRetryCount" : 0,
        "retainOutlinks" : false,
        "restrictToTree" : true,
        "f.defaultCharSet" : "UTF-8",
        "f.useRequestCounter" : true,
        "emitThreads" : 5,
        "f.headlessBrowser" : true,
        "f.useFirefox" : false,
        "f.canonicalTagsRedirectLimit" : 4,
        "f.requestCounterMaxWaitMs" : 20000,
        "diagnosticMode" : false,
        "f.followCanonicalTags" : true,
        "delete" : true,
        "initial_mapping" : {
          "reservedFieldsMappingAllowed" : false,
          "skip" : false,
          "type" : "field-mapping",
          "mappings" : [ {
            "source" : "charSet",
            "target" : "charSet_s",
            "operation" : "move"
          }, {
            "source" : "fetchedDate",
            "target" : "fetchedDate_dt",
            "operation" : "move"
          }, {
            "source" : "lastModified",
            "target" : "lastModified_dt",
            "operation" : "move"
          }, {
            "source" : "signature",
            "target" : "dedupeSignature_s",
            "operation" : "move"
          }, {
            "source" : "contentSignature",
            "target" : "signature_s",
            "operation" : "move"
          }, {
            "source" : "length",
            "target" : "length_l",
            "operation" : "move"
          }, {
            "source" : "mimeType",
            "target" : "mimeType_s",
            "operation" : "move"
          }, {
            "source" : "parent",
            "target" : "parent_s",
            "operation" : "move"
          }, {
            "source" : "owner",
            "target" : "owner_s",
            "operation" : "move"
          }, {
            "source" : "group",
            "target" : "group_s",
            "operation" : "move"
          } ],
          "id" : "FromMap"
        },
        "f.extraPageLoadDeltaChars" : 0,
        "restrictToTreeUseHostAndPath" : false,
        "sitemap_incremental_crawling" : false,
        "f.screenshotFullscreen" : false,
        "f.filteringRootTags" : [ "body", "head" ],
        "startLinks" : [ "http://localhost:8780/data/Finance/company_buckets.csv" ],
        "failFastOnStartLinkFailure" : true,
        "f.timeoutMS" : 10000,
        "f.discardLinkURLAnchors" : true,
        "chunkSize" : 1,
        "f.simulateMobile" : false,
        "f.obeyRobotsDelay" : true,
        "f.useHighPerfJsEval" : false,
        "deleteErrorsAfter" : -1,
        "f.userAgentName" : "Lucidworks-Anda/2.0",
        "retryEmit" : true,
        "f.crawlJS" : false,
        "depth" : -1,
        "f.cookieSpec" : "browser-compatibility",
        "refreshStartLinks" : false,
        "f.maxSizeBytes" : 4194304,
        "aliasExpiration" : 1,
        "f.takeScreenshot" : false
      }
    }, {
      "id" : "yahoo-news",
      "created" : "2018-10-01T14:42:38.844Z",
      "modified" : "2018-10-01T14:42:38.844Z",
      "connector" : "lucid.web",
      "type" : "web",
      "pipeline" : "yahoo-news",
      "parserId" : "yahoo-news",
      "properties" : {
        "refreshOlderThan" : -1,
        "f.sitemapURLs" : [ ],
        "f.appendTrailingSlashToLinks" : false,
        "restrictToTreeIgnoredHostPrefixes" : [ ],
        "refreshErrors" : false,
        "dedupeSaveSignature" : false,
        "crawlDBType" : "in-memory",
        "f.firefoxHeadlessBrowser" : true,
        "f.discardLinkURLQueries" : false,
        "f.respectMetaEquivRedirects" : false,
        "fetchDelayMS" : 200,
        "refreshAll" : true,
        "commitAfterItems" : 10000,
        "f.defaultMIMEType" : "application/octet-stream",
        "f.extraLoadTimeMs" : 250,
        "f.jsPageLoadTimeout" : 20000,
        "restrictToTreeAllowSubdomains" : true,
        "f.jsScriptTimeout" : 20000,
        "f.requestCounterMinWaitMs" : 5000,
        "f.jsAjaxTimeout" : 20000,
        "maxItems" : -1,
        "trackEmbeddedIDs" : true,
        "dedupe" : false,
        "f.scrapeLinksBeforeFiltering" : false,
        "f.allowAllCertificates" : false,
        "collection" : "Finance",
        "f.obeyRobotsMeta" : true,
        "forceRefresh" : false,
        "delete404" : true,
        "f.obeyRobots" : false,
        "parserRetryCount" : 0,
        "f.quitTimeoutMs" : 5000,
        "f.index_items_discarded" : false,
        "fetchDelayMSPerHost" : false,
        "fetchThreads" : 1,
        "indexCrawlDBToSolr" : false,
        "f.requestRetryCount" : 0,
        "f.jsEnabledAuth" : false,
        "restrictToTree" : false,
        "retainOutlinks" : false,
        "f.defaultCharSet" : "UTF-8",
        "f.useIpAddressForSslConnections" : false,
        "f.useRequestCounter" : true,
        "emitThreads" : 1,
        "f.headlessBrowser" : true,
        "f.useFirefox" : false,
        "f.canonicalTagsRedirectLimit" : 4,
        "diagnosticMode" : false,
        "f.requestCounterMaxWaitMs" : 20000,
        "f.obeyCharSet" : true,
        "f.followCanonicalTags" : true,
        "delete" : true,
        "initial_mapping" : {
          "mappings" : [ {
            "source" : "charSet",
            "operation" : "move",
            "target" : "charSet_s"
          }, {
            "source" : "fetchedDate",
            "operation" : "move",
            "target" : "fetchedDate_dt"
          }, {
            "source" : "lastModified",
            "operation" : "move",
            "target" : "lastModified_dt"
          }, {
            "source" : "signature",
            "operation" : "move",
            "target" : "dedupeSignature_s"
          }, {
            "source" : "contentSignature",
            "operation" : "move",
            "target" : "signature_s"
          }, {
            "source" : "length",
            "operation" : "move",
            "target" : "length_l"
          }, {
            "source" : "mimeType",
            "operation" : "move",
            "target" : "mimeType_s"
          }, {
            "source" : "parent",
            "operation" : "move",
            "target" : "parent_s"
          }, {
            "source" : "owner",
            "operation" : "move",
            "target" : "owner_s"
          }, {
            "source" : "group",
            "operation" : "move",
            "target" : "group_s"
          } ],
          "reservedFieldsMappingAllowed" : false,
          "skip" : false,
          "id" : "FromMap",
          "type" : "field-mapping"
        },
        "f.extraPageLoadDeltaChars" : 0,
        "f.maintainCookies" : false,
        "restrictToTreeUseHostAndPath" : true,
        "sitemap_incremental_crawling" : false,
        "f.screenshotFullscreen" : false,
        "f.filteringRootTags" : [ "body", "head" ],
        "startLinks" : [ "https://finance.yahoo.com/" ],
        "failFastOnStartLinkFailure" : true,
        "f.timeoutMS" : 10000,
        "f.discardLinkURLAnchors" : true,
        "includeRegexes" : [ ],
        "chunkSize" : 1,
        "f.simulateMobile" : false,
        "f.obeyRobotsDelay" : true,
        "f.obeyLinkNofollow" : true,
        "f.useHighPerfJsEval" : false,
        "deleteErrorsAfter" : -1,
        "f.userAgentName" : "Lucidworks-Anda/2.0",
        "retryEmit" : true,
        "f.crawlJS" : false,
        "depth" : -1,
        "f.cookieSpec" : "browser-compatibility",
        "f.maxSizeBytes" : 4194304,
        "refreshStartLinks" : false,
        "aliasExpiration" : 1,
        "f.takeScreenshot" : false
      }
    } ]
  },
  "metadata" : {
    "formatVersion" : "1",
    "exportedBy" : "default-subject",
    "exportedDate" : "2019-04-10T00:20:15.577Z",
    "fusionVersion" : "4.2.0",
    "fusionGuid" : "d7a4e30a-b64e-4d63-b3f4-fbf15cf04c16"
  }
}